(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+40p":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var n=l(r("PoGc")),i=l(r("OdXP")),s=l(r("nLyD")),o=l(r("0as2")),a=l(r("xjYm"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}e.ref="@else",e.parsers={empty:n,url:i,json:s,jquery:o,html:a},e.formats={"@empty/text":{parse:n.parse,parseType:{dataType:"String",predicate:t=>""===t}},"@empty/whitespace+text":{parse:n.parse,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:n.parse,parseType:{dataType:"Primitive",predicate:t=>null==t}},"@else/json":{parse:s.parse,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parse:i.parse,parseAsync:i.parseAsync,parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?\/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:o.parse,parseType:{dataType:"ComplexObject",predicate:t=>"undefined"!=typeof jQuery&&t instanceof jQuery}},"@else/html":{parse:a.parse,parseType:{dataType:"ComplexObject",predicate:t=>"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}}}},"/Ufw":function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.format=e.list=e.has=e.remove=e.add=e.register=void 0;const i=new(((n=r("cVc7"))&&n.__esModule?n:{default:n}).default);e.register=i,e.add=((t,e)=>{((t,e)=>{if("string"!=typeof t)throw new TypeError(`Invalid output format name, expected string, got ${typeof t}`);if("function"!=typeof e)throw new TypeError(`Invalid formatter, expected function, got ${typeof e}`)})(t,e),i.set(t,e)}),e.remove=(t=>{i.remove(t)}),e.has=(t=>i.has(t)),e.list=(()=>i.list()),e.format=((t,e,...r)=>{if(i.has(t))return i.get(t)(e,...r);logger.error("[get]",`Output plugin "${t}" unavailable`)})},0:function(t,e,r){t.exports=r("zUnb")},"03ZT":function(t,e,r){const{fixedEncodeURIComponent:n,replaceSpaceByUnderscores:i,isPlainObject:s}=r("mEn+"),{isPropertyId:o}=r("8sxh"),a=r("W3zP"),l=t=>e=>`https://${t}.wikimedia.org/wiki/${e}`,u={commons:l("commons"),mediawiki:t=>`https://www.mediawiki.org/wiki/${t}`,meta:l("meta"),species:l("species"),wikidata:t=>o(t)?`https://www.wikidata.org/wiki/Property:${t}`:`https://www.wikidata.org/wiki/${t}`},c=t=>{const e=p[t];if(e)return{lang:"en",project:e};const[r,n,i]=t.split("wik");if(null!=i)throw new Error(`invalid sitelink: ${t}`);if(-1===a.indexOf(r))throw new Error(`sitelink lang not found: ${r}`);const s=h[n];if(!s)throw new Error(`sitelink project not found: ${s}`);return{lang:r,project:s}},p={commonswiki:"commons",mediawikiwiki:"mediawiki",metawiki:"meta",specieswiki:"specieswiki",wikidatawiki:"wikidata"},h={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"};t.exports={getSitelinkUrl:(t,e)=>{if(s(t)&&(e=t.title,t=t.site),!t)throw new Error("missing a site");if(!e)throw new Error("missing a title");const r=t.replace(/wiki$/,""),o=u[r]||u[t];if(o)return o(e);const{lang:a,project:l}=c(t);return`https://${a}.${l}.org/wiki/${e=n(i(e))}`},getSitelinkData:c,isSitelinkKey:t=>{try{return c(t),!0}catch(e){return!1}}}},"0as2":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0,e.parse=(t=>t.val()||t.text()||t.html())},"0jNN":function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},t)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],o=Object.keys(s),a=0;a<o.length;++a){var l=o[a],u=s[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(e.push({obj:s,prop:l}),r.push(u))}return function(t){for(var e;t.length;){var r=t.pop();if(e=r.obj[r.prop],Array.isArray(e)){for(var n=[],i=0;i<e.length;++i)void 0!==e[i]&&n.push(e[i]);r.obj[r.prop]=n}}return e}(e)},decode:function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},encode:function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),r="",n=0;n<e.length;++n){var s=e.charCodeAt(n);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?r+=e.charAt(n):s<128?r+=i[s]:s<2048?r+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?r+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(s=65536+((1023&s)<<10|1023&e.charCodeAt(n+=1)),r+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return r},isBuffer:function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},merge:function t(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var o=e;return Array.isArray(e)&&!Array.isArray(r)&&(o=s(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach(function(r,s){n.call(e,s)?e[s]&&"object"==typeof e[s]?e[s]=t(e[s],r,i):e.push(r):e[s]=r}),e):Object.keys(r).reduce(function(e,s){var o=r[s];return e[s]=n.call(e,s)?t(e[s],o,i):o,e},o)}}},"13Ix":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAsync=e.default=e.parse=void 0;var n=l(r("a+t6")),i=r("AVU7"),s=l(r("73tI")),o=r("WdF2"),a=r("1rwL");function l(t){return t&&t.__esModule?t:{default:t}}function u(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}function c(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(t){u(s,n,i,o,a,"next",t)}function a(t){u(s,n,i,o,a,"throw",t)}o(void 0)})}}const p=t=>t.P1545?parseInt(t.P1545[0]):-1,h=t=>t.P1932,f={P31:"type",P50:"author",P57:"director",P86:"composer",P98:"editor",P110:"illustrator",P123:"publisher",P136:"genre",P212:"ISBN",P236:"ISSN",P291:"publisher-place",P304:"page",P348:"version",P356:"DOI",P393:"edition",P433:"issue",P478:"volume",P577:"issued",P655:"translator",P698:"PMID",P932:"PMCID",P953:"URL",P957:"ISBN",P1104:"number-of-pages",P1433:"container-title",P1476:"title",P2093:"author",P2860:!1,P921:!1,P3181:!1,P364:!1},d=function(t,e){const r=Array.isArray(t)?t:"string"==typeof t?t.split("|"):"",s=n.default.getEntities(r,[e],"labels"),o=JSON.parse(i.util.fetchFile(s)).entities||{};return Object.keys(o).map(t=>(o[t].labels[e]||{}).value)},m=function(t,e,r){if(!f.hasOwnProperty(t))return void logger.info("[set]",`Unknown property: ${t}`);if(!1===f[t])return;const n=f[t];return e?[n,((e,n)=>{const i=n[0].value;switch(t){case"P31":return(0,s.default)(i)||(logger.warn("[set]",`Wikidata entry type not recognized: ${i}. Defaulting to "book".`),"book");case"P50":case"P57":case"P86":case"P98":case"P110":case"P655":return n.map(t=>(({value:t,qualifiers:e},r)=>{let n=h(e)||d(t,r)[0];return(n=(0,o.parse)(n))._ordinal=p(e),n})(t,r));case"P577":return(0,a.parse)(i);case"P123":case"P136":case"P291":case"P1433":return d(i,r)[0];case"P2093":return n.map(({value:t,qualifiers:e})=>{const r=(0,o.parse)(t);return r._ordinal=p(e),r});default:return i}})(0,e)]:n};e.default=e.parse=m;const g=(b=c(function*(t,e){const r=Array.isArray(t)?t:"string"==typeof t?t.split("|"):"",s=n.default.getEntities(r,[e],"labels"),o=JSON.parse(yield i.util.fetchFileAsync(s)).entities||{};return Object.keys(o).map(t=>(o[t].labels[e]||{}).value)}),function(t,e){return b.apply(this,arguments)});var b;const v=(y=c(function*({value:t,qualifiers:e},r){let n=h(e)||(yield g(t,r))[0];return(n=(0,o.parse)(n))._ordinal=p(e),n}),function(t,e){return y.apply(this,arguments)});var y;const _=(x=c(function*(t,e,r){const n=yield(i=c(function*(t,e){const n=e[0].value;switch(t){case"P50":case"P57":case"P86":case"P98":case"P110":case"P655":return Promise.all(e.map(t=>v(t,r)));case"P123":case"P136":case"P291":case"P1433":return(yield g(n,r))[0]}}),function(t,e){return i.apply(this,arguments)})(t,e);var i;return n?[m(t),n]:m(t,e,r)}),function(t,e,r){return x.apply(this,arguments)});var x;e.parseAsync=_},"1O7j":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clean=void 0;var n=r("WdF2");const i={author:2,"collection-editor":2,composer:2,"container-author":2,editor:2,"editorial-director":2,director:2,interviewer:2,illustrator:2,"original-author":2,"reviewed-author":2,recipient:2,translator:2,accessed:3,container:3,"event-date":3,issued:3,"original-date":3,submitted:3,categories:"object",id:["string","number"],type:"string",language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",DOI:"string",edition:["string","number"],event:"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string",PMCID:"string",PMID:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string",scale:"string",section:"string",source:"string",status:"string",title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"year-suffix":"string"},s=function(t,e=!0){return"object"==typeof t&&(t.literal||t.given||t.family)?t:e&&"string"==typeof t?(0,n.parse)(t):void 0},o=function t(e,r,n=!0){const o=[].concat(i[e]);switch(i[e]){case 1:return s(r,n);case 2:return function(t,e=!0){if(r instanceof Array)return r.map(t=>s(t,e)).filter(Boolean)||void 0}(0,n);case 3:return function(t,e=!0){const r="date-parts";if(t&&t[r]instanceof Array&&t[r].every(t=>t instanceof Array)){if(t[r].every(t=>t.every(t=>"number"==typeof t)))return{[r]:t[r].map(t=>t.slice())};if(!e)return;if(t[r].some(t=>t.some(t=>"string"==typeof t)))return{[r]:t[r].map(t=>t.map(parseFloat))}}else if(t&&t instanceof Array&&t[0][r]instanceof Array){if(t[0][r].every(t=>"number"==typeof t))return{[r]:[t[0][r].slice()]};if(!e)return;if(t[0][r].every(t=>"string"==typeof t))return{[r]:[t[0][r].map(parseFloat)]}}}(r,n)}return o.includes(typeof r)?r:/^_/.test(r)?r:n?"string"==typeof r&&o.includes("number")&&parseFloat(r)?parseFloat(r):"number"==typeof r&&o.includes("string")&&!o.includes("number")?r.toString():Array.isArray(r)&&r.length?t(e,r[0]):void 0:void 0};e.clean=function(t){return t.map(function(t){const e={};for(let r in t){const n=o(r,t[r]);void 0!==n&&(e[r]=n)}return e})}},"1d2S":function(t,e,r){"use strict";var n,i=r("AVU7"),s=(n=r("uKmi"))&&n.__esModule?n:{default:n};i.plugins.add("@ris",{output:s.default})},"1ifz":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n={article:"article","article-journal":"article","article-magazine":"article","article-newspaper":"article",book:"book",chapter:"incollection",graphic:"misc",interview:"misc",manuscript:"unpublished",motion_picture:"misc","paper-conference":"inproceedings",patent:"patent",personal_communication:"misc",report:"techreport",thesis:"phdthesis",webpage:"misc"};e.default=function(t){return t in n?n[t]:(logger.warn(`CSL publication type not recognized: ${t}. Interpreting as "misc".`),"misc")}},"1rwL":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"format",{enumerable:!0,get:function(){return i.default}});var n=s(r("IOTT")),i=s(r("WhMb"));function s(t){return t&&t.__esModule?t:{default:t}}},"3/iw":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e={}){const r=e.template,n=void 0===r?"apa":r,s=e.lang,o=void 0===s?"en-US":s,a=e.format,l=void 0===a?"text":a,u=t.map(({id:t})=>t),c=e.entry?[].concat(e.entry):u,p=(0,i.default)(t,n,o,l);return p.updateItems(u),p.previewCitationCluster({citationItems:c.map(t=>({id:t})),properties:{noteIndex:0}},[],[],l)};var n,i=(n=r("uEcn"))&&n.__esModule?n:{default:n}},"3aUy":function(t,e,r){"use strict";var n,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}(r("arjU")),s=r("+40p"),o=(n=r("bG1K"))&&n.__esModule?n:{default:n};i.add(s.ref,{input:s.formats,output:o.default})},"3xfh":function(t,e,r){const n=r("r5ei");t.exports={wd:{entities:function(t){t=t.body||t;const{entities:e}=t;return Object.keys(e).forEach(t=>{e[t]=n(e[t])}),e}}}},"4GZu":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var n=r("AVU7"),i=c(r("Jkzq")),s=c(r("P/xs")),o=c(r("13Ix")),a=c(r("73tI")),l=c(r("NWgJ")),u=c(r("79i1"));function c(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}e.ref="@wikidata",e.parsers={list:i,json:s,prop:o,type:a,url:l,api:u};const p={"@wikidata/id":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s*(Q\d+)\s*$/}},"@wikidata/list+text":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s*((?:Q\d+(?:\s+|,|))*Q\d+)\s*$/}},"@wikidata/api":{parse:u.parse,parseAsync:u.parseAsync,parseType:{dataType:"String",predicate:/^(https?:\/\/(?:www\.)?wikidata.org\/w\/api\.php(?:\?.*)?)$/,extends:"@else/url"}},"@wikidata/url":{parse:l.parse,parseType:{dataType:"String",predicate:/\/(Q\d+)(?:[#?\/]|\s*$)/,extends:"@else/url"}},"@wikidata/list+object":{parse:i.parse,parseType:{dataType:"Array",elementConstraint:"@wikidata/id"}},"@wikidata/object":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"SimpleObject",propertyConstraint:{props:"entities"}}},"@wikidata/prop":{parse:o.parse},"@wikidata/type":{parse:a.parse}};e.formats=p,n.plugins.add("@wikidata",{input:p})},"4wgM":function(t){t.exports={apa:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never"><info><title>American Psychological Association 6th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://owl.english.purdue.edu/owl/resource/560/01/" rel="documentation"/><author><name>Simon Kornblith</name><email>simon@simonster.com</email></author><contributor><name>Bruce D\'Arcus</name></contributor><contributor><name>Curtis M. Humphrey</name></contributor><contributor><name>Richard Karnesky</name><email>karnesky+zotero@gmail.com</email><uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri></contributor><contributor><name>Sebastian Karcher</name></contributor><contributor><name> Brenton M. Wiernik</name><email>zotero@wiernik.org</email></contributor><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2016-05-25T09:01:49+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short"><single>trans.</single><multiple>trans.</multiple></term></terms></locale><macro name="container-contributors"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><group delimiter=", "><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names></group></if></choose></macro><macro name="secondary-contributors"><choose><if type="article-journal chapter paper-conference entry-dictionary entry-encyclopedia" match="none"><group delimiter=", " prefix=" (" suffix=")"><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="capitalize-first"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text macro="title"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text variable="title" form="short" font-style="italic"/></if><else-if type="legal_case"><text variable="title" font-style="italic"/></else-if><else-if type="bill book graphic legislation motion_picture song" match="any"><text variable="title" form="short" font-style="italic"/></else-if><else-if variable="reviewed-author"><choose><if variable="reviewed-title" match="none"><text variable="title" form="short" font-style="italic" prefix="Review of "/></if><else><text variable="title" form="short" quotes="true"/></else></choose></else-if><else><text variable="title" form="short" quotes="true"/></else></choose></substitute></names></macro><macro name="access"><choose><if type="thesis report" match="any"><choose><if variable="DOI" match="any">\n<text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="archive" match="any"><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="archive" suffix="."/><text variable="archive_location" prefix=" (" suffix=")"/></group></else-if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></if><else><choose><if variable="DOI"><text variable="DOI" prefix="https://doi.org/"/></if><else><choose><if type="webpage"><group delimiter=" "><text term="retrieved" text-case="capitalize-first" suffix=" "/><group><date variable="accessed" form="text" suffix=", "/></group><text term="from"/><text variable="URL"/></group></if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></else></choose></else></choose></macro><macro name="title"><choose><if type="book graphic manuscript motion_picture report song speech thesis" match="any"><choose><if variable="version" type="book" match="all"><text variable="title"/></if><else><text variable="title" font-style="italic"/></else></choose></if><else-if variable="reviewed-author"><choose><if variable="reviewed-title"><group delimiter=" "><text variable="title"/><group delimiter=", " prefix="[" suffix="]"><text variable="reviewed-title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></if><else><group delimiter=", " prefix="[" suffix="]"><text variable="title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></else></choose></else-if><else><text variable="title"/></else></choose></macro><macro name="title-plus-extra"><text macro="title"/><choose><if type="report thesis" match="any"><group prefix=" (" suffix=")" delimiter=", "><group delimiter=" "><choose><if variable="genre" match="any"><text variable="genre"/></if><else><text variable="collection-title"/></else></choose><text variable="number" prefix="No. "/></group><group delimiter=" "><text term="version" text-case="capitalize-first"/><text variable="version"/></group><text macro="edition"/></group></if><else-if type="post-weblog webpage" match="any"><text variable="genre" prefix=" [" suffix="]"/></else-if><else-if variable="version"><group delimiter=" " prefix=" (" suffix=")"><text term="version" text-case="capitalize-first"/><text variable="version"/></group></else-if></choose><text macro="format" prefix=" [" suffix="]"/></macro><macro name="format"><choose><if match="any" variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else-if type="dataset" match="any"><text value="Data set"/></else-if></choose></macro><macro name="publisher"><choose><if type="report" match="any"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></if><else-if type="thesis" match="any"><group delimiter=", "><text variable="publisher"/><text variable="publisher-place"/></group></else-if><else-if type="post-weblog webpage" match="none"><group delimiter=", "><choose><if variable="event version" type="speech motion_picture" match="none"><text variable="genre"/></if></choose><choose><if type="article-journal article-magazine" match="none"><group delimiter=": "><choose><if variable="publisher-place"><text variable="publisher-place"/></if><else><text variable="event-place"/></else></choose><text variable="publisher"/></group></if></choose></group></else-if></choose></macro><macro name="event"><choose><if variable="container-title" match="none"><choose><if variable="event"><choose><if variable="genre" match="none"><text term="presented at" text-case="capitalize-first" suffix=" "/><text variable="event"/></if><else>\n<group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/><text variable="event"/></group></else></choose></if><else-if type="speech"><text variable="genre" text-case="capitalize-first"/></else-if></choose></if></choose></macro><macro name="issued"><choose><if type="bill legal_case legislation" match="none"><choose><if variable="issued"><group prefix=" (" suffix=")"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="speech" match="any"><date variable="issued"><date-part prefix=", " name="month"/></date></if><else-if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></else-if></choose></group></if><else-if variable="status"><group prefix=" (" suffix=")"><text variable="status"/><text variable="year-suffix" prefix="-"/></group></else-if><else><group prefix=" (" suffix=")"><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></group></else></choose></if></choose></macro><macro name="issued-sort"><choose><if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part name="year"/><date-part name="month"/><date-part name="day"/></date></if><else><date variable="issued"><date-part name="year"/></date></else></choose></macro><macro name="issued-year"><choose><if variable="issued"><group delimiter="/"><date variable="original-date" form="text"/><group><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></group></group></if><else-if variable="status"><text variable="status"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="locators"><choose><if type="article-journal article-magazine" match="any"><group prefix=", " delimiter=", "><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group><text variable="page"/></group><choose><if variable="issued"><choose><if variable="page issue" match="none"><text variable="status" prefix=". "/></if></choose></if></choose></if><else-if type="article-newspaper"><group delimiter=" " prefix=", "><label variable="page" form="short"/><text variable="page"/></group></else-if><else-if type="book graphic motion_picture report song chapter paper-conference entry-encyclopedia entry-dictionary" match="any"><group prefix=" (" suffix=")" delimiter=", "><choose><if type="report" match="none"><text macro="edition"/></if></choose><choose><if variable="volume" match="any"><group><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><number variable="volume" form="numeric"/></group></if><else><group><text term="volume" form="short" plural="true" text-case="capitalize-first" suffix=" "/><number variable="number-of-volumes" form="numeric" prefix="1&#8211;"/></group></else></choose><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></else-if><else-if type="legal_case"><group prefix=" (" suffix=")" delimiter=" "><text variable="authority"/><date variable="issued" form="text"/></group></else-if><else-if type="bill legislation" match="any"><date variable="issued" prefix=" (" suffix=")"><date-part name="year"/></date></else-if></choose></macro><macro name="citation-locator"><group><choose><if locator="chapter"><label variable="locator" form="long" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator" prefix=" "/></group></macro>\n<macro name="container"><choose><if type="post-weblog webpage" match="none"><group><choose><if type="chapter paper-conference entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first" suffix=" "/></if></choose><group delimiter=", "><text macro="container-contributors"/><text macro="secondary-contributors"/><text macro="container-title"/></group></group></if></choose></macro><macro name="container-title"><choose><if type="article article-journal article-magazine article-newspaper" match="any"><text variable="container-title" font-style="italic" text-case="title"/></if><else-if type="bill legal_case legislation" match="none"><text variable="container-title" font-style="italic"/></else-if></choose></macro><macro name="legal-cites"><choose><if type="bill legal_case legislation" match="any"><group delimiter=" " prefix=", "><choose><if variable="container-title"><text variable="volume"/><text variable="container-title"/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group><text variable="page"/></if><else><choose><if type="legal_case"><text variable="number" prefix="No. "/></if><else><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group></else></choose></else></choose></group></if></choose></macro><macro name="original-date"><choose><if variable="original-date"><group prefix="(" suffix=")" delimiter=" "><text value="Original work published"/><date variable="original-date" form="text"/></group></if></choose></macro><citation et-al-min="6" et-al-use-first="1" et-al-subsequent-min="3" et-al-subsequent-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name"><sort><key macro="author"/><key macro="issued-sort"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-short"/><text macro="issued-year"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="8" et-al-use-first="6" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author"/><key macro="issued-sort" sort="ascending"/><key macro="title"/></sort><layout><group suffix="."><group delimiter=". "><text macro="author"/><text macro="issued"/><text macro="title-plus-extra"/><text macro="container"/></group><text macro="legal-cites"/><text macro="locators"/><group delimiter=", " prefix=". "><text macro="event"/><text macro="publisher"/></group></group><text macro="access" prefix=" "/><text macro="original-date" prefix=" "/></layout></bibliography></style>',vancouver:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech">\n<group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number">\n<sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography></style>',harvard1:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href="http://www.zotero.org/styles/harvard1" rel="self"/><link href="http://libweb.anglia.ac.uk/referencing/harvard.htm" rel="documentation"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format="author-date"/><category field="generic-base"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name="editor"><names variable="editor" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="lowercase"/></names></macro><macro name="anon"><text term="anonymous" form="short" text-case="capitalize-first" strip-periods="true"/></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with="." delimiter-precedes-last="never" delimiter=", "/><label form="short" prefix=" " text-case="lowercase"/><substitute><names variable="editor"/><text macro="anon"/></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><text macro="anon"/></substitute></names></macro><macro name="access"><choose><if variable="URL"><text value="Available at:" suffix=" "/><text variable="URL"/><group prefix=" [" suffix="]"><text term="accessed" text-case="capitalize-first" suffix=" "/><date variable="accessed"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date></group></if></choose></macro><macro name="title"><choose><if type="bill book graphic legal_case legislation motion_picture report song thesis" match="any"><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose></macro><macro name="publisher"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date></if><else><text term="no date" form="short"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="pages"><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true"><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=" "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short"/><text variable="locator"/></group></group></layout></citation><bibliography hanging-indent="true" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key variable="title"/></sort><layout><text macro="author" suffix=","/><date variable="issued" prefix=" " suffix="."><date-part name="year"/></date><choose><if type="bill book graphic legal_case legislation motion_picture report song" match="any"><group prefix=" " delimiter=" " suffix=","><text macro="title"/><text macro="edition"/><text macro="editor"/></group><text prefix=" " suffix="." macro="publisher"/></if><else-if type="chapter paper-conference" match="any"><text macro="title" prefix=" " suffix="."/><group prefix=" " delimiter=" "><text term="in" text-case="capitalize-first"/>\n<text macro="editor"/><text variable="container-title" font-style="italic" suffix="."/><text variable="collection-title" suffix="."/><text variable="event" suffix="."/><group suffix="." delimiter=", "><text macro="publisher" prefix=" "/><text macro="pages"/></group></group></else-if><else-if type="thesis"><group prefix=" " suffix="." delimiter=". "><text macro="title"/><text variable="genre"/><text macro="publisher"/></group></else-if><else><group suffix="."><text macro="title" prefix=" "/><text macro="editor" prefix=" "/></group><group prefix=" " suffix="."><text variable="container-title" font-style="italic"/><group prefix=", "><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></group><group prefix=", "><label variable="page" form="short"/><text variable="page"/></group></group></else></choose><text prefix=" " macro="access" suffix="."/></layout></bibliography></style>'}},"5+QC":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sort=void 0;var n=r("tLvN"),i=r("WdF2");const s=function(t,e,r="label"===e){let s=r?(0,n.getLabel)(t):t[e];switch(e){case"author":case"editor":return s.map(t=>t.literal||t.family||(0,i.format)(t));case"accessed":case"issued":return s["date-parts"][0];case"page":return s.split("-").map(t=>parseInt(t));case"edition":case"issue":case"volume":return s=parseInt(s),isNaN(s)?-1/0:s;default:return s||-1/0}},o=function(t,e,r,n=/^!/.test(r)){r=r.replace(/^!/,"");const i=s(t,r),o=s(e,r);return i===o?0:n!==i>o?1:-1};e.sort=function(t=[],e){return e&&this.save(),this.data.sort("function"==typeof t?t:function(...t){return(e,r)=>{const n=t.slice();let i=0;for(;!i&&n.length;)i=o(e,r,n.shift());return i}}(...t,"label")),this}},"5m7S":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var n,i=(n=r("twId"))&&n.__esModule?n:{default:n};e.default=e.parse=function(t){const e={type:(0,i.default)(t.type)};return["submitted","issued","event-date","original-date","container","accessed"].forEach(e=>{let r=t[e];r&&r["date-parts"]&&"number"==typeof r["date-parts"][0]&&(r["date-parts"]=[r["date-parts"]])}),Object.assign({},t,e)}},"6MUB":function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,i){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var s=encodeURIComponent(n(i))+r;return Array.isArray(t[i])?t[i].map(function(t){return s+encodeURIComponent(n(t))}).join(e):s+encodeURIComponent(n(t[i]))}).join(e):i?encodeURIComponent(n(i))+r+encodeURIComponent(n(t)):""}},"73tI":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;const n={Q49848:"article",Q191067:"article",Q13442814:"article-journal",Q18918145:"article-journal",Q38926:"article-newspaper",Q5707594:"article-newspaper",Q30070590:"article-magazine",Q686822:"bill",Q3331189:"book",Q571:"book",Q1555508:"broadcast",Q15416:"broadcast",Q1980247:"chapter",Q1172284:"dataset",Q10389811:"entry",Q19389637:"entry",Q17329259:"entry-encyclopedia",Q30070753:"figure",Q1027879:"graphic",Q4502142:"graphic",Q478798:"graphic",Q838948:"graphic",Q178651:"interview",Q49371:"legislation",Q820655:"legislation",Q2334719:"legal_case",Q87167:"manuscript",Q4006:"map",Q11424:"motion_picture",Q30070675:"motion_picture",Q187947:"musical_score",Q18536349:"pamphlet",Q190399:"pamphlet",Q26973022:"paper-conference",Q23927052:"paper-conference",Q253623:"patent",Q30070565:"personal_communication",Q30070439:"personal_communication",Q133492:"personal_communication",Q628523:"personal_communication",Q7216866:"post",Q17928402:"post-blog",Q10870555:"report",Q265158:"review",Q637866:"review-book",Q7366:"song",Q3741908:"song",Q30070318:"song",Q24634210:"song",Q861911:"speech",Q1266946:"thesis",Q187685:"thesis",Q131569:"treaty",Q36774:"webpage"};e.default=e.parse=(t=>n[t])},"79i1":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAsync=e.parse=void 0;var n=r("AVU7");const i=n.util.fetchFile;e.parseAsync=n.util.fetchFileAsync,e.parse=i},"8ZD+":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var n=r("WdF2"),i=r("1rwL");const s=[/jan(uary)?\.?/i,/feb(ruary)?\.?/i,/mar(ch)?\.?/i,/apr(il)?\.?/i,/may\.?/i,/jun(e)?\.?/i,/jul(y)?\.?/i,/aug(ust)?\.?/i,/sep(tember)?\.?/i,/oct(ober)?\.?/i,/nov(ember)?\.?/i,/dec(ember)?\.?/i],o=function(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:(0,n.parse)(t)},a={textit:"i",textbf:"b",textsc:"sc",textsuperscript:"sup",textsubscript:"sub"},l={address:"publisher-place",author:!0,booktitle:"container-title",doi:"DOI",date:"issued",edition:!0,editor:!0,isbn:"ISBN",issn:"ISSN",issue:"issue",journal:"container-title",language:!0,location:"publisher-place",note:!0,number:"issue",numpages:"number-of-pages",pages:"page",pmid:"PMID",pmcid:"PMCID",publisher:!0,series:"collection-title",title:!0,url:"URL",volume:!0,year:"issued:date-parts.0.0",month:"issued:date-parts.0.1",day:"issued:date-parts.0.2",crossref:!1,keywords:!1};e.default=e.parse=function(t,e){if(!l.hasOwnProperty(t))return void logger.info("[set]",`Unknown property: ${t}`);if(!1===l[t])return;const r=!0===l[t]?t:l[t];return[r,((t,e)=>{switch(r){case"author":case"editor":return function(t){const r=[];return e.replace(/%/g,"%0").replace(/{.*?}/g,t=>`%[${r.push(t)-1}]`).split(" and ").map(t=>t.replace(/%\[(\d+)\]/,(t,e)=>r[+e]).replace(/%0/g,"%")).map(o)}();case"issued":return function(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:(0,i.parse)(t)}(e);case"edition":return e;case"issued:date-parts.0.1":return parseFloat(e)?e:s.findIndex(t=>t.test(e))+1;case"page":return e.replace(/[\u2014\u2013]/,"-");case"title":return function(t){let e=t.split(/((?:\\text[a-z]+)?{|})/),r=[],n="{"===t[0]&&"}"===t[t.length-1];return e=e.map((t,i)=>{if(i%2==0)return t;if("\\"===t[0]){let e=a[t.slice(1,-1)];return r.push(`</${e}>`),`<${e}>`}return"{"===t?(r.push("</span>"),'<span class="nocase">'):"}"===t?(1===r.length&&i!==e.length-2&&(n=!1),r.pop()):void 0}),n&&(e.splice(0,2),e.splice(-2,2)),e.join("")}(e);default:return e.replace(/[{}]/g,"")}})(0,e)]}},"8gBS":function(t,e,r){"use strict";t.exports=function(){function t(t,e,r,n){if("number"!=typeof t)throw new TypeError("statusCode must be a number but was "+typeof t);if(null===e)throw new TypeError("headers cannot be null");if("object"!=typeof e)throw new TypeError("headers must be an object but was "+typeof e);this.statusCode=t;var i={};for(var s in e)i[s.toLowerCase()]=e[s];this.headers=i,this.body=r,this.url=n}return t.prototype.isError=function(){return 0===this.statusCode||this.statusCode>=400},t.prototype.getBody=function(t){var e;if(0===this.statusCode)throw(e=new Error("This request to "+this.url+" resulted in a status code of 0. This usually indicates some kind of network error in a browser (e.g. CORS not being set up or the DNS failing to resolve):\n"+this.body.toString())).statusCode=this.statusCode,e.headers=this.headers,e.body=this.body,e.url=this.url,e;if(this.statusCode>=300)throw(e=new Error("Server responded to "+this.url+" with status code "+this.statusCode+":\n"+this.body.toString())).statusCode=this.statusCode,e.headers=this.headers,e.body=this.body,e.url=this.url,e;return t&&"string"!=typeof this.body?this.body.toString(t):this.body},t}()},"8sxh":function(t,e,r){const n=r("RYVG"),i={isNumericId:t=>/^[1-9][0-9]*$/.test(t),isEntityId:t=>/^(Q|P)[1-9][0-9]*$/.test(t),isItemId:t=>/^Q[1-9][0-9]*$/.test(t),isPropertyId:t=>/^P[1-9][0-9]*$/.test(t),isGuid:t=>/^(Q|P|L)\d+\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),getNumericId:function(t){if(!i.isEntityId(t))throw new Error(`invalid wikidata id: ${t}`);return t.replace(/Q|P/,"")}};i.wikidataTimeToDateObject=n;const s=t=>e=>{try{return t(e)}catch(r){return(e=e.time||e).replace("-00-00","-01-01")}};i.wikidataTimeToEpochTime=s(t=>n(t).getTime()),i.wikidataTimeToISOString=s(t=>n(t).toISOString()),i.wikidataTimeToSimpleDay=s(t=>{if("object"==typeof t){const{time:e,precision:r}=t;t=9===r?e.replace("-01-01T","-00-00T"):10===r?e.replace("-01T","-00T"):e}return t.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")}),i.getImageUrl=((t,e)=>{var r=`https://commons.wikimedia.org/wiki/Special:FilePath/${t}`;return"number"==typeof e&&(r+=`?width=${e}`),r}),t.exports=i},"9DKP":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={util:!0};e.util=void 0;var i=h(r("L1FD")),s=h(r("R8VN")),o=h(r("IA+q")),a=h(r("1O7j")),l=r("KmRk");Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))});var u=r("lE7m");Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))});var c=r("LGX6");Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))});var p=r("dkrB");function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}function f(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}Object.keys(p).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))});const d=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){f(t,e,r[e])})}return t}({},i,s,o,a);e.util=d},AVU7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Cite",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"logger",{enumerable:!0,get:function(){return a.logger}}),Object.defineProperty(e,"version",{enumerable:!0,get:function(){return l.version}}),e.util=e.plugins=void 0;var n,i=(n=r("Sd31"))&&n.__esModule?n:{default:n},s=u(r("arjU"));e.plugins=s;var o=u(r("LgWe"));e.util=o;var a=r("lnPA"),l=r("b8mw");function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}r("3aUy")},AbsQ:function(t,e,r){"use strict";e.__esModule=!0;var n=r("e14C"),i=r("8gBS"),s=FormData;function o(t,e,r){var s,o=new XMLHttpRequest;if("string"!=typeof t)throw new TypeError("The method must be a string.");if(e&&"object"==typeof e&&(e=e.href),"string"!=typeof e)throw new TypeError("The URL/path must be a string.");if(null==r&&(r={}),"object"!=typeof r)throw new TypeError("Options must be an object (or null).");t=t.toUpperCase(),r.headers=r.headers||{};var a=!(!(s=/^([\w-]+:)?\/\/([^\/]+)/.exec(e))||s[2]==location.host);for(var l in a||(r.headers["X-Requested-With"]="XMLHttpRequest"),r.qs&&(e=n.default(e,r.qs)),r.json&&(r.body=JSON.stringify(r.json),r.headers["content-type"]="application/json"),r.form&&(r.body=r.form),o.open(t,e,!1),r.headers)o.setRequestHeader(l.toLowerCase(),""+r.headers[l]);o.send(r.body?r.body:null);var u={};return o.getAllResponseHeaders().split("\r\n").forEach(function(t){var e=t.split(":");e.length>1&&(u[e[0].toLowerCase()]=e.slice(1).join(":").trim())}),new i(o.status,u,o.responseText,e)}e.FormData=s,e.default=o,t.exports=o,t.exports.default=o,t.exports.FormData=s},BbnU:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.options=void 0;var n=r("Ec/y");e.defaultOptions={format:"real",type:"json",style:"csl",lang:"en-US"},e.options=function(t,e){e&&this.save();try{(0,n.validateOutputOptions)(t),Object.assign(this._options,t)}catch(r){logger.warn("[options]",r.message)}return this}},BwPL:function(t,e,r){"use strict";var n,i=r("AVU7"),s=r("K5o2"),o=(n=r("nW65"))&&n.__esModule?n:{default:n};i.plugins.add(s.ref,{input:s.formats,output:o.default})},ByvF:function(t,e,r){const n=r("eG0U"),{isPlainObject:i}=r("mEn+");t.exports=function(t,e,r,s,o){if(i(t)){const n=t;t=n.search,e=n.language,r=n.limit,s=n.format,o=n.uselang}if(!(t&&t.length>0))throw new Error("search can't be empty");return n({action:"wbsearchentities",search:t,language:e=e||"en",limit:r=r||"20",format:s=s||"json",uselang:o=o||e})}},Cg9Q:function(t){t.exports={"\\url":"","\\href":"","{\\textexclamdown}":"\xa1","{\\textcent}":"\xa2","{\\textsterling}":"\xa3","{\\textyen}":"\xa5","{\\textbrokenbar}":"\xa6","{\\textsection}":"\xa7","{\\textasciidieresis}":"\xa8","{\\textcopyright}":"\xa9","{\\textordfeminine}":"\xaa","{\\guillemotleft}":"\xab","{\\textlnot}":"\xac","{\\textregistered}":"\xae","{\\textasciimacron}":"\xaf","{\\textdegree}":"\xb0","{\\textpm}":"\xb1","{\\texttwosuperior}":"\xb2","{\\textthreesuperior}":"\xb3","{\\textasciiacute}":"\xb4","{\\textmu}":"\xb5","{\\textparagraph}":"\xb6","{\\textperiodcentered}":"\xb7","{\\c\\ }":"\xb8","{\\textonesuperior}":"\xb9","{\\textordmasculine}":"\xba","{\\guillemotright}":"\xbb","{\\textonequarter}":"\xbc","{\\textonehalf}":"\xbd","{\\textthreequarters}":"\xbe","{\\textquestiondown}":"\xbf","{\\AE}":"\xc6","{\\DH}":"\xd0","{\\texttimes}":"\xd7","{\\O}":"\xd8","{\\TH}":"\xde","{\\ss}":"\xdf","{\\ae}":"\xe6","{\\dh}":"\xf0","{\\textdiv}":"\xf7","{\\o}":"\xf8","{\\th}":"\xfe","{\\i}":"\u0131","{\\NG}":"\u014a","{\\ng}":"\u014b","{\\OE}":"\u0152","{\\oe}":"\u0153","{\\textasciicircum}":"\u02c6","{\\textacutedbl}":"\u02dd","$\\Gamma$":"\u0393","$\\Delta$":"\u0394","$\\Theta$":"\u0398","$\\Lambda$":"\u039b","$\\Xi$":"\u039e","$\\Pi$":"\u03a0","$\\Sigma$":"\u03a3","$\\Phi$":"\u03a6","$\\Psi$":"\u03a8","$\\Omega$":"\u03a9","$\\alpha$":"\u03b1","$\\beta$":"\u03b2","$\\gamma$":"\u03b3","$\\delta$":"\u03b4","$\\varepsilon$":"\u03b5","$\\zeta$":"\u03b6","$\\eta$":"\u03b7","$\\theta$":"\u03b8","$\\iota$":"\u03b9","$\\kappa$":"\u03ba","$\\lambda$":"\u03bb","$\\mu$":"\u03bc","$\\nu$":"\u03bd","$\\xi$":"\u03be","$\\pi$":"\u03c0","$\\rho$":"\u03c1","$\\varsigma$":"\u03c2","$\\sigma$":"\u03c3","$\\tau$":"\u03c4","$\\upsilon$":"\u03c5","$\\varphi$":"\u03c6","$\\chi$":"\u03c7","$\\psi$":"\u03c8","$\\omega$":"\u03c9","$\\vartheta$":"\u03d1","$\\Upsilon$":"\u03d2","$\\phi$":"\u03d5","$\\varpi$":"\u03d6","$\\varrho$":"\u03f1","$\\epsilon$":"\u03f5","{\\textendash}":"\u2013","{\\textemdash}":"\u2014","---":"\u2014","--":"\u2013","{\\textbardbl}":"\u2016","{\\textunderscore}":"\u2017","{\\textquoteleft}":"\u2018","{\\textquoteright}":"\u2019","{\\quotesinglbase}":"\u201a","{\\textquotedblleft}":"\u201c","{\\textquotedblright}":"\u201d","{\\quotedblbase}":"\u201e","{\\textdagger}":"\u2020","{\\textdaggerdbl}":"\u2021","{\\textbullet}":"\u2022","{\\textellipsis}":"\u2026","{\\textperthousand}":"\u2030","'''":"\u2034","''":"\u201d","``":"\u201c","```":"\u2037","{\\guilsinglleft}":"\u2039","{\\guilsinglright}":"\u203a","!!":"\u203c","{\\textfractionsolidus}":"\u2044","?!":"\u2048","!?":"\u2049","$^{0}$":"\u2070","$^{4}$":"\u2074","$^{5}$":"\u2075","$^{6}$":"\u2076","$^{7}$":"\u2077","$^{8}$":"\u2078","$^{9}$":"\u2079","$^{+}$":"\u207a","$^{-}$":"\u207b","$^{=}$":"\u207c","$^{(}$":"\u207d","$^{)}$":"\u207e","$^{n}$":"\u207f","$_{0}$":"\u2080","$_{1}$":"\u2081","$_{2}$":"\u2082","$_{3}$":"\u2083","$_{4}$":"\u2084","$_{5}$":"\u2085","$_{6}$":"\u2086","$_{7}$":"\u2087","$_{8}$":"\u2088","$_{9}$":"\u2089","$_{+}$":"\u208a","$_{-}$":"\u208b","$_{=}$":"\u208c","$_{(}$":"\u208d","$_{)}$":"\u208e","{\\texteuro}":"\u20ac","{\\textcelsius}":"\u2103","{\\textnumero}":"\u2116","{\\textcircledP}":"\u2117","{\\textservicemark}":"\u2120","{TEL}":"\u2121","{\\texttrademark}":"\u2122","{\\textohm}":"\u2126","{\\textestimated}":"\u212e","{\\`A}":"\xc0","{\\'A}":"\xc1","{\\^A}":"\xc2","{\\~A}":"\xc3",'{\\"A}':"\xc4","{\\r A}":"\xc5","{\\c C}":"\xc7","{\\`E}":"\xc8","{\\'E}":"\xc9","{\\^E}":"\xca",'{\\"E}':"\xcb","{\\`I}":"\xcc","{\\'I}":"\xcd","{\\^I}":"\xce",'{\\"I}':"\xcf","{\\~N}":"\xd1","{\\`O}":"\xd2","{\\'O}":"\xd3","{\\^O}":"\xd4","{\\~O}":"\xd5",'{\\"O}':"\xd6","{\\`U}":"\xd9","{\\'U}":"\xda","{\\^U}":"\xdb",'{\\"U}':"\xdc","{\\'Y}":"\xdd","{\\`a}":"\xe0","{\\'a}":"\xe1","{\\^a}":"\xe2","{\\~a}":"\xe3",'{\\"a}':"\xe4","{\\r a}":"\xe5","{\\c c}":"\xe7","{\\`e}":"\xe8","{\\'e}":"\xe9","{\\^e}":"\xea",'{\\"e}':"\xeb","{\\`i}":"\xec","{\\'i}":"\xed","{\\^i}":"\xee",'{\\"i}':"\xef","{\\~n}":"\xf1","{\\`o}":"\xf2","{\\'o}":"\xf3","{\\^o}":"\xf4","{\\~o}":"\xf5",'{\\"o}':"\xf6","{\\`u}":"\xf9","{\\'u}":"\xfa","{\\^u}":"\xfb",'{\\"u}':"\xfc","{\\'y}":"\xfd",'{\\"y}':"\xff","{\\=A}":"\u0100","{\\=a}":"\u0101","{\\u A}":"\u0102","{\\u a}":"\u0103","{\\k A}":"\u0104","{\\k a}":"\u0105","{\\'C}":"\u0106","{\\'c}":"\u0107","{\\^C}":"\u0108","{\\^c}":"\u0109","{\\.C}":"\u010a","{\\.c}":"\u010b","{\\v C}":"\u010c","{\\v c}":"\u010d","{\\v D}":"\u010e","{\\v d}":"\u010f","{\\=E}":"\u0112","{\\=e}":"\u0113","{\\u E}":"\u0114","{\\u e}":"\u0115","{\\.E}":"\u0116","{\\.e}":"\u0117","{\\k E}":"\u0118","{\\k e}":"\u0119","{\\v E}":"\u011a","{\\v e}":"\u011b","{\\^G}":"\u011c","{\\^g}":"\u011d","{\\u G}":"\u011e","{\\u g}":"\u011f","{\\.G}":"\u0120","{\\.g}":"\u0121","{\\c G}":"\u0122","{\\c g}":"\u0123","{\\^H}":"\u0124","{\\^h}":"\u0125","{\\~I}":"\u0128","{\\~i}":"\u0129","{\\=I}":"\u012a","{\\=i}":"\u012b","{\\=\\i}":"\u012b","{\\u I}":"\u012c","{\\u i}":"\u012d","{\\k I}":"\u012e","{\\k i}":"\u012f","{\\.I}":"\u0130","{\\^J}":"\u0134","{\\^j}":"\u0135","{\\c K}":"\u0136","{\\c k}":"\u0137","{\\'L}":"\u0139","{\\'l}":"\u013a","{\\c L}":"\u013b","{\\c l}":"\u013c","{\\v L}":"\u013d","{\\v l}":"\u013e","{\\L }":"\u0141","{\\l }":"\u0142","{\\'N}":"\u0143","{\\'n}":"\u0144","{\\c N}":"\u0145","{\\c n}":"\u0146","{\\v N}":"\u0147","{\\v n}":"\u0148","{\\=O}":"\u014c","{\\=o}":"\u014d","{\\u O}":"\u014e","{\\u o}":"\u014f","{\\H O}":"\u0150","{\\H o}":"\u0151","{\\'R}":"\u0154","{\\'r}":"\u0155","{\\c R}":"\u0156","{\\c r}":"\u0157","{\\v R}":"\u0158","{\\v r}":"\u0159","{\\'S}":"\u015a","{\\'s}":"\u015b","{\\^S}":"\u015c","{\\^s}":"\u015d","{\\c S}":"\u015e","{\\c s}":"\u015f","{\\v S}":"\u0160","{\\v s}":"\u0161","{\\c T}":"\u0162","{\\c t}":"\u0163","{\\v T}":"\u0164","{\\v t}":"\u0165","{\\~U}":"\u0168","{\\~u}":"\u0169","{\\=U}":"\u016a","{\\=u}":"\u016b","{\\u U}":"\u016c","{\\u u}":"\u016d","{\\r U}":"\u016e","{\\r u}":"\u016f","{\\H U}":"\u0170","{\\H u}":"\u0171","{\\k U}":"\u0172","{\\k u}":"\u0173","{\\^W}":"\u0174","{\\^w}":"\u0175","{\\^Y}":"\u0176","{\\^y}":"\u0177",'{\\"Y}':"\u0178","{\\'Z}":"\u0179","{\\'z}":"\u017a","{\\.Z}":"\u017b","{\\.z}":"\u017c","{\\v Z}":"\u017d","{\\v z}":"\u017e","{\\v A}":"\u01cd","{\\v a}":"\u01ce","{\\v I}":"\u01cf","{\\v i}":"\u01d0","{\\v O}":"\u01d1","{\\v o}":"\u01d2","{\\v U}":"\u01d3","{\\v u}":"\u01d4","{\\v G}":"\u01e6","{\\v g}":"\u01e7","{\\v K}":"\u01e8","{\\v k}":"\u01e9","{\\k O}":"\u01ea","{\\k o}":"\u01eb","{\\v j}":"\u01f0","{\\'G}":"\u01f4","{\\'g}":"\u01f5","{\\.B}":"\u1e02","{\\.b}":"\u1e03","{\\d B}":"\u1e04","{\\d b}":"\u1e05","{\\b B}":"\u1e06","{\\b b}":"\u1e07","{\\.D}":"\u1e0a","{\\.d}":"\u1e0b","{\\d D}":"\u1e0c","{\\d d}":"\u1e0d","{\\b D}":"\u1e0e","{\\b d}":"\u1e0f","{\\c D}":"\u1e10","{\\c d}":"\u1e11","{\\.F}":"\u1e1e","{\\.f}":"\u1e1f","{\\=G}":"\u1e20","{\\=g}":"\u1e21","{\\.H}":"\u1e22","{\\.h}":"\u1e23","{\\d H}":"\u1e24","{\\d h}":"\u1e25",'{\\"H}':"\u1e26",'{\\"h}':"\u1e27","{\\c H}":"\u1e28","{\\c h}":"\u1e29","{\\'K}":"\u1e30","{\\'k}":"\u1e31","{\\d K}":"\u1e32","{\\d k}":"\u1e33","{\\b K}":"\u1e34","{\\b k}":"\u1e35","{\\d L}":"\u1e36","{\\d l}":"\u1e37","{\\b L}":"\u1e3a","{\\b l}":"\u1e3b","{\\'M}":"\u1e3e","{\\'m}":"\u1e3f","{\\.M}":"\u1e40","{\\.m}":"\u1e41","{\\d M}":"\u1e42","{\\d m}":"\u1e43","{\\.N}":"\u1e44","{\\.n}":"\u1e45","{\\d N}":"\u1e46","{\\d n}":"\u1e47","{\\b N}":"\u1e48","{\\b n}":"\u1e49","{\\'P}":"\u1e54","{\\'p}":"\u1e55","{\\.P}":"\u1e56","{\\.p}":"\u1e57","{\\.R}":"\u1e58","{\\.r}":"\u1e59","{\\d R}":"\u1e5a","{\\d r}":"\u1e5b","{\\b R}":"\u1e5e","{\\b r}":"\u1e5f","{\\.S}":"\u1e60","{\\.s}":"\u1e61","{\\d S}":"\u1e62","{\\d s}":"\u1e63","{\\.T}":"\u1e6a","{\\.t}":"\u1e6b","{\\d T}":"\u1e6c","{\\d t}":"\u1e6d","{\\b T}":"\u1e6e","{\\b t}":"\u1e6f","{\\~V}":"\u1e7c","{\\~v}":"\u1e7d","{\\d V}":"\u1e7e","{\\d v}":"\u1e7f","{\\`W}":"\u1e80","{\\`w}":"\u1e81","{\\'W}":"\u1e82","{\\'w}":"\u1e83",'{\\"W}':"\u1e84",'{\\"w}':"\u1e85","{\\.W}":"\u1e86","{\\.w}":"\u1e87","{\\d W}":"\u1e88","{\\d w}":"\u1e89","{\\.X}":"\u1e8a","{\\.x}":"\u1e8b",'{\\"X}':"\u1e8c",'{\\"x}':"\u1e8d","{\\.Y}":"\u1e8e","{\\.y}":"\u1e8f","{\\^Z}":"\u1e90","{\\^z}":"\u1e91","{\\d Z}":"\u1e92","{\\d z}":"\u1e93","{\\b Z}":"\u1e94","{\\b z}":"\u1e95","{\\b h}":"\u1e96",'{\\"t}':"\u1e97","{\\r w}":"\u1e98","{\\r y}":"\u1e99","{\\d A}":"\u1ea0","{\\d a}":"\u1ea1","{\\d E}":"\u1eb8","{\\d e}":"\u1eb9","{\\~E}":"\u1ebc","{\\~e}":"\u1ebd","{\\d I}":"\u1eca","{\\d i}":"\u1ecb","{\\d O}":"\u1ecc","{\\d o}":"\u1ecd","{\\d U}":"\u1ee4","{\\d u}":"\u1ee5","{\\`Y}":"\u1ef2","{\\`y}":"\u1ef3","{\\d Y}":"\u1ef4","{\\d y}":"\u1ef5","{\\~Y}":"\u1ef8","{\\~y}":"\u1ef9","{\\~}":"\u223c","~":"\xa0"}},"Ec/y":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.validateOutputOptions=e.validateOptions=void 0;const n=["real","string"],i=["json","html","string","rtf"],s=["csl","bibtex","bibtxt","citation-*"],o=["string","function"],a=function(t){if("object"!=typeof t)throw new TypeError("Options not an object!");const e=t.format,r=t.type,a=t.style,l=t.lang,u=t.append,c=t.prepend;if(e&&!n.includes(e))throw new TypeError(`Option format ("${e}") should be one of: ${n}`);if(r&&!i.includes(r))throw new TypeError(`Option type ("${r}") should be one of: ${i}`);if(a&&!s.includes(a)&&!/^citation/.test(a))throw new TypeError(`Option style ("${a}") should be one of: ${s}`);if(l&&"string"!=typeof l)throw new TypeError(`Option lang should be a string, but is a ${typeof l}`);if(c&&!o.includes(typeof c))throw new TypeError(`Option prepend should be a string or a function, but is a ${typeof c}`);if(u&&!o.includes(typeof u))throw new TypeError(`Option append should be a string or a function, but is a ${typeof u}`);if(/^citation/.test(a)&&"json"===r)throw new Error(`Combination type/style of json/citation-* is not valid: ${r}/${a}`);return!0};e.validateOutputOptions=a,e.validateOptions=function(t){if("object"!=typeof t)throw new TypeError("Options not an object!");if(t.output)a(t.output);else{if(t.maxChainLength&&"number"!=typeof t.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(t.forceType&&"string"!=typeof t.forceType)throw new TypeError("Option forceType should be a string")}return!0}},"FMp+":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=(n=r("AbsQ"))&&n.__esModule?n:{default:n};e.default=function(t,e={}){const r={};e.headers&&(r.headers=e.headers,r.allowRedirectHeaders=Object.keys(e.headers));try{return(0,i.default)("GET",t,r).getBody("utf8")}catch(n){return logger.error("[set]",`File '${t}' could not be fetched:`,n.message),"[]"}}},FYH6:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t,e){let r;for(;t.includes(r);)r=`${e}${Math.random().toString().slice(2)}`;return r}},"Gg+u":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;const n={article:"article-journal",book:"book",booklet:"book",proceedings:"book",manual:!1,mastersthesis:"thesis",misc:!1,inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript"};e.default=e.parse=function(t){return n.hasOwnProperty(t)?!1===n[t]?"book":n[t]:(logger.warn("[set]",`BibTeX publication type not recognized: ${t}. Defaulting to "book".`),"book")}},HNSk:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0,e.default=e.parse=(t=>(Array.isArray(t)?t:t.trim().split(/(?:\s+)/g)).map(t=>`https://doi.org/${t}`))},"IA+q":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatParser=e.DataParser=e.TypeParser=void 0;var n=r("LGX6");class i{constructor(t){var e,r;r=["String","Array","SimpleObject","ComplexObject","Primitive"],(e="validDataTypes")in this?Object.defineProperty(this,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[e]=r,this.data=t}validateDataType(){const t=this.data.dataType;if(t&&!this.validDataTypes.includes(t))throw new RangeError(`dataType was ${t}; expected one of ${this.validDataTypes}`)}validateParseType(){const t=this.data.predicate;if(t&&!(t instanceof RegExp||"function"==typeof t))throw new TypeError(`predicate was ${typeof t}; expected RegExp or function`)}validateTokenList(){const t=this.data.tokenList;if(t&&"object"!=typeof t)throw new TypeError(`tokenList was ${typeof t}; expected object or RegExp`)}validatePropertyConstraint(){const t=this.data.propertyConstraint;if(t&&"object"!=typeof t)throw new TypeError(`propertyConstraint was ${typeof t}; expected array or object`)}validateElementConstraint(){const t=this.data.elementConstraint;if(t&&"string"!=typeof t)throw new TypeError(`elementConstraint was ${typeof t}; expected string`)}validateExtends(){const t=this.data.extends;if(t&&"string"!=typeof t)throw new TypeError(`extends was ${typeof t}; expected string`)}validate(){if(null===this.data||"object"!=typeof this.data)throw new TypeError(`typeParser was ${typeof this.data}; expected object`);this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}parseTokenList(){let t=this.data.tokenList;if(!t)return[];t instanceof RegExp&&(t={token:t});let e=t.token,r=t.split,n=void 0===r?/\s+/:r,i=t.trim,s=void 0===i||i,o=t.every,a=void 0===o||o?"every":"some";return[t=>(t=>s?t.trim():t)(t).split(n)[a](t=>e.test(t))]}parsePropertyConstraint(){return[].concat(this.data.propertyConstraint||[]).map(({props:t,match:e="every",value:r=(()=>!0)})=>(t=[].concat(t),n=>t[e](t=>t in n&&r(n[t]))))}parseElementConstraint(){let t=this.data.elementConstraint;return t?[e=>e.every(e=>(0,n.type)(e)===t)]:[]}parsePredicate(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}getCombinedPredicate(){let t=[...this.parsePredicate(),...this.parseTokenList(),...this.parsePropertyConstraint(),...this.parseElementConstraint()];return 0===t.length?()=>!0:1===t.length?t[0]:e=>t.every(t=>t(e))}getDataType(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp?"String":this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}get dataType(){return this.getDataType()}get predicate(){return this.getCombinedPredicate()}get extends(){return this.data.extends}}e.TypeParser=i;class s{constructor(t,{async:e}={}){this.parser=t,this.async=e}validate(){const t=this.parser;if("function"!=typeof t)throw new TypeError(`parser was ${typeof t}; expected function`)}}e.DataParser=s,e.FormatParser=class{constructor(t,e={}){this.format=t,e.parseType&&(this.typeParser=new i(e.parseType)),e.parse&&(this.dataParser=new s(e.parse,{async:!1})),e.parseAsync&&(this.asyncDataParser=new s(e.parseAsync,{async:!0}))}validateFormat(){const t=this.format;if(!n.typeMatcher.test(t))throw new TypeError(`format name was "${t}"; didn't match expected pattern`)}validate(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}},IOTT:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const i={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},s=t=>i[t.toLowerCase().slice(0,3)];e.default=function(t){let e=function(t){let e=new Date(t);return"number"!=typeof t||isNaN(e.valueOf())?null:[e.getFullYear(),e.getMonth()+1,e.getDate()]}(t)||function(t){const e=/^(\d{4}|[-+]\d{6,})-(\d{2})-(\d{2})/;if("string"!=typeof t||!e.test(t))return null;let r=n(t.match(e),4),i=r[1],s=r[2],o=r[3];return+s?+o?[i,s,o]:[i,s]:[i]}(t)||function(t){const e=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!=typeof t||!e.test(t))return null;let r=n(t.match(e),4),i=r[1],o=r[2],a=r[3];return(o=s(o))?[a,o,i]:null}(t)||function(t){const e=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!=typeof t||!e.test(t))return null;let r=n(t.match(e),4),i=r[1],s=r[2],o=r[3];return new Date(o,i,s).getMonth()===parseInt(i)?[o,i,s]:null}(t)||function(t){const e=/^(\d{1,2})[ .\-\/](\d{1,2}|[a-z]{3,10})[ .\-\/](-?\d+)/i,r=/^(-?\d+)[ .\-\/](\d{1,2}|[a-z]{3,10})[ .\-\/](\d{1,2})/i;let i,o,a;if("string"!=typeof t)return null;if(e.test(t)){var l=n(t.match(e),4);a=l[1],o=l[2],i=l[3]}else{if(!r.test(t))return null;var u=n(t.match(r),4);i=u[1],o=u[2],a=u[3]}if(s(o))o=s(o);else if(isNaN(o))return null;return[i,o,a]}(t)||function(t){const e=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"==typeof t&&e.test(t)){let r,n=t.match(e).slice(1,3);if(s(n[1]))r=s(n.pop());else if(s(n[0]))r=s(n.shift());else{if(n.some(isNaN)||n.every(t=>+t<0))return null;r=+n[0]<0?n.pop():+n[0]>+n[1]&&+n[1]>0?n.pop():n.shift()}return[n.pop(),r]}return null}(t)||("string"==typeof(r=t)&&/^-?\d+$/.test(r)?[r]:null);var r;return e?{"date-parts":[e=e.map(t=>parseInt(t))]}:{raw:t}}},ItG7:function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.textDict=e.htmlDict=e.get=e.list=e.has=e.remove=e.add=e.register=void 0;const i=new(((n=r("cVc7"))&&n.__esModule?n:{default:n}).default)({html:{bibliographyContainer:['<div class="csl-bib-body>',"</div>"],entry:['<div class="csl-entry>',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});e.register=i,e.add=((t,e)=>{((t,e)=>{if("string"!=typeof t)throw new TypeError(`Invalid dict name, expected string, got ${typeof t}`);if("object"!=typeof e)throw new TypeError(`Invalid dict, expected object, got ${typeof e}`);for(const r in e){const t=e[r];if(!Array.isArray(t)||t.some(t=>"string"!=typeof t))throw new TypeError(`Invalid dict entry "${r}", expected array of strings`)}})(t,e),i.set(t,e)}),e.remove=(t=>{i.remove(t)}),e.has=(t=>i.has(t)),e.list=(()=>i.list()),e.get=(t=>{if(i.has(t))return i.get(t);logger.error("[get]",`Dict "${t}" unavailable`)}),e.htmlDict={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"},e.textDict={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"}},Jkzq:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var n,i=(n=r("a+t6"))&&n.__esModule?n:{default:n};e.default=e.parse=function(t){const e=Array.isArray(t)?t:t.trim().split(/(?:[\s,]\s*)/g);return[].concat(i.default.getEntities(e,["en"]))}},Jydk:function(t,e){t.exports={stringify:function(t){var e="";for(let r in t){let n=t[r];n&&(e+=`&${r}=${n}`)}return e=e.slice(1),encodeURI?encodeURI(e):e}}},K5o2:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var n=l(r("jiT0")),i=l(r("xL/w")),s=l(r("8ZD+")),o=l(r("Gg+u")),a=l(r("hq05"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}e.ref="@bibtex",e.parsers={text:n,json:i,prop:s,type:o,bibtxt:a},e.formats={"@bibtex/text":{parse:n.parse,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@bibtxt/text":{parse:a.parse,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}},"@bibtex/object":{parse:i.parse,parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@bibtex/prop":{parse:s.parse},"@bibtex/type":{parse:o.parse}}},K8JQ:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.locales=e.default=void 0;var n,i=r("AVU7"),s=(n=r("RzOA"))&&n.__esModule?n:{default:n};const o=new i.util.Register(s.default);e.locales=o,e.default=(t=>o.has(t)?o.get(t):o.get("en-US"))},KmRk:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.list=e.has=e.remove=e.add=void 0;var n=r("IA+q"),i=r("LGX6"),s=r("dkrB");const o={};e.add=((t,e)=>{let r=new n.FormatParser(t,e);r.validate();let a=o[t]={};r.typeParser&&((0,i.addTypeParser)(t,r.typeParser),a.type=!0),r.dataParser&&((0,s.addDataParser)(t,r.dataParser),a.data=!0),r.asyncDataParser&&((0,s.addDataParser)(t,r.asyncDataParser),a.asyncData=!0)}),e.remove=(t=>{let e=o[t];e&&(e.type&&(0,i.removeTypeParser)(t),e.data&&(0,s.removeDataParser)(t),e.asyncData&&(0,s.removeDataParser)(t,!0),delete o[t])}),e.has=(t=>t in o),e.list=(()=>Object.keys(o))},L1FD:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dataTypeOf=e.typeOf=void 0;const n=t=>{switch(t){case void 0:return"Undefined";case null:return"Null";default:return t.constructor.name}};e.typeOf=n,e.dataTypeOf=(t=>{switch(typeof t){case"string":return"String";case"object":if(Array.isArray(t))return"Array";if("Object"===n(t))return"SimpleObject";if("Null"!==n(t))return"ComplexObject";default:return"Primitive"}})},LGX6:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeMatcher=e.treeTypeParser=e.listTypeParser=e.removeTypeParser=e.hasTypeParser=e.addTypeParser=e.type=void 0;var n=r("L1FD");const i={},s={},o={},a=(t,e)=>{switch(e){case"Array":return 0===t.length||t.every(t=>"@csl/object"===u(t))?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return logger.warn("[set]","This format is not supported or recognized"),"@invalid"}},l=(t=[],e)=>{var r=!0,n=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){const t=o.value;if(i[t].predicate(e))return l(i[t].extensions,e)||t}}catch(u){n=!0,s=u}finally{try{r||null==a.return||a.return()}finally{if(n)throw s}}},u=t=>{const e=(0,n.dataTypeOf)(t);return"Array"===e&&0===t.length?a(t,e):l(s[e],t)||a(t,e)};e.type=u,e.addTypeParser=((t,{dataType:e,predicate:r,extends:n})=>{let a=[];if(t in o&&(a=o[t],delete o[t],logger.info("[set]",`Subclasses "${a}" finally registered to parent type "${t}"`)),i[t]={predicate:r,extensions:a},n){const e=i[n];e?e.extensions.push(t):(o[n]||(o[n]=[]),o[n].push(t),logger.info("[set]",`Subclass "${t}" is waiting on parent type "${n}"`))}else(s[e]||(s[e]=[])).push(t)}),e.hasTypeParser=(t=>i.hasOwnProperty(t)),e.removeTypeParser=(t=>{delete i[t],[...Object.values(s),...Object.values(i).map(t=>t.extensions).filter(t=>t.length>0)].forEach(e=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)})}),e.listTypeParser=(()=>Object.keys(i)),e.treeTypeParser=(()=>{const t=e=>({name:e,children:i[e].extensions.map(t)});return{name:"Type tree",children:Object.entries(s).map(([e,r])=>({name:e,children:r.map(t)}))}}),e.typeMatcher=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/},LgWe:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"deepCopy",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"fetchFile",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"fetchFileAsync",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"fetchId",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"TokenStack",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"Register",{enumerable:!0,get:function(){return l.default}});var n=u(r("uAKY")),i=u(r("FMp+")),s=u(r("VrO5")),o=u(r("FYH6")),a=u(r("RiOF")),l=u(r("cVc7"));function u(t){return t&&t.__esModule?t:{default:t}}},LpSC:function(t,e,r){r("bZMm"),t.exports=self.fetch.bind(self)},MC6a:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reset=e.setAsync=e.set=e.addAsync=e.add=void 0;var n,i=r("9DKP"),s=(n=r("FYH6"))&&n.__esModule?n:{default:n};function o(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}function a(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function a(t){o(s,n,i,a,l,"next",t)}function l(t){o(s,n,i,a,l,"throw",t)}a(void 0)})}}e.add=function(t,e={},r=!1){return!0!==e&&!0!==r||this.save(),this.data.push(...(0,i.chain)(t,e)),this.data.filter(t=>!t.hasOwnProperty("id")).forEach(t=>{t.id=(0,s.default)(this.getIds(),"temp_id_")}),this};const l=(u=a(function*(t,e={},r=!1){return!0!==e&&!0!==r||this.save(),this.data.push(...yield(0,i.chainAsync)(t,e)),this.data.filter(t=>!t.hasOwnProperty("id")).forEach(t=>{t.id=(0,s.default)(this.getIds(),"temp_id_")}),this}),function(t){return u.apply(this,arguments)});var u;e.addAsync=l,e.set=function(t,e={},r=!1){return!0!==e&&!0!==r||this.save(),this.data=[],"boolean"!=typeof e?this.add(t,e):this.add(t)};const c=(p=a(function*(t,e={},r=!1){return!0!==e&&!0!==r||this.save(),this.data=[],"boolean"!=typeof e?this.addAsync(t,e):this.addAsync(t)}),function(t){return p.apply(this,arguments)});var p;e.setAsync=c,e.reset=function(t){return t&&this.save(),this.data=[],this._options={},this}},MIsJ:function(t,e){t.exports=function(t){"string"==typeof t&&(t=JSON.parse(t));const{vars:e}=t.head,n=t.results.bindings;if(1===e.length){const t=e[0];return n.map(e=>r(e[t])).filter(t=>null!=t)}const{richVars:i,standaloneVars:s}=c(e);return n.map(d(i,s))};const r=function(t){if(t){var{datatype:e}=t;return e=e&&e.replace("http://www.w3.org/2001/XMLSchema#",""),(n[t.type]||s(e))(t)}},n={uri:t=>l(t.value),bnode:()=>null},i=t=>parseFloat(t.value),s=function(t){return t=t&&t.replace("http://www.w3.org/2001/XMLSchema#",""),o[t]||a},o={decimal:i,integer:i,float:i,double:i,boolean:t=>"true"===t.value},a=t=>t.value,l=function(t){return t.startsWith("http://www.wikidata.org/entity/statement/")?u(t):t.replace("http://www.wikidata.org/entity/","").replace("http://www.wikidata.org/prop/direct/","")},u=function(t){const e=(t=t.replace("http://www.wikidata.org/entity/statement/","")).split("-");return e[0]+"$"+e.slice(1).join("-")},c=function(t){return t.reduce(p(t),{richVars:[],standaloneVars:[]})},p=t=>(e,r)=>{if(t.some(f(r)))return e.richVars.push(r),e;if(!h.test(r))return e.standaloneVars.push(r),e;let n=r.replace(h,"$1").replace(/Alt$/,"");return t.includes(n)||e.standaloneVars.push(r),e},h=/^(\w+)(Label|Description|AltLabel)$/,f=t=>e=>`${t}Label`===e||`${t}Description`===e||`${t}AltLabel`===e,d=function(t,e){return function(n){const i={};for(let e of t){let t=r(n[e]);null!=t&&(i[e]={value:t},m(n,e,"label",i[e]),m(n,e,"description",i[e]),m(n,e,"aliases",i[e]))}for(let t of e)i[t]=r(n[t]);return i}},m=(t,e,r,n)=>{const i=t[e+g[r]];null!=i&&(n[r]=i.value)},g={label:"Label",description:"Description",aliases:"AltLabel"}},NWgJ:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0,e.parse=(t=>t.match(/\/(Q\d+)(?:[#?\/]|\s*$)/)[1])},OVsC:function(t,e,r){"use strict";var n=r("AVU7"),i=r("K8JQ"),s=r("S3Kk"),o=u(r("uEcn")),a=u(r("fkpl")),l=u(r("3/iw"));function u(t){return t&&t.__esModule?t:{default:t}}n.plugins.add("@csl",{output:{bibliography:a.default,citation:l.default},config:{engine:o.default,locales:i.locales,templates:s.templates}})},OdXP:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return n.fetchFile}}),Object.defineProperty(e,"parseAsync",{enumerable:!0,get:function(){return n.fetchFileAsync}});var n=r("LgWe")},"P/RF":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;const n=["dropping-particle","given"],i=["suffix"],s=["non-dropping-particle","family"];e.default=function(t,e=!1){const r=e=>e.map(e=>t[e]||"").filter(Boolean).join(" ");if(t.literal)return t.literal;if(e){const t=r(i)?`, ${r(i)}`:"",e=r(n)?`, ${r(n)}`:"";return r(s)+t+e}return`${r([...n,...i,...s])}`}},"P/xs":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAsync=e.default=e.parse=void 0;var n,i=(n=r("a+t6"))&&n.__esModule?n:{default:n},s=r("13Ix");function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}function l(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(t){a(s,n,i,o,l,"next",t)}function l(t){a(s,n,i,o,l,"throw",t)}o(void 0)})}}const u=(c=l(function*(t){return Promise.all(Object.keys(t.entities).map((e=l(function*(e){const r=t.entities[e],n=r.labels,a=i.default.simplifyClaims(r.claims,null,null,!0),u={_wikiId:e,id:e};var c;return yield Promise.all(Object.keys(a).map((c=l(function*(t){const e=yield(0,s.parseAsync)(t,a[t],"en");if(e){const t=o(e,2),r=t[0],n=t[1];Array.isArray(u[r])?u[r]=u[r].concat(n):void 0!==n&&(u[r]=n)}}),function(t){return c.apply(this,arguments)}))),Array.isArray(u.author)&&u.author.sort(({_ordinal:t},{_ordinal:e})=>t-e),u.title||(u.title=n.en.value),u}),function(t){return e.apply(this,arguments)})));var e}),function(t){return c.apply(this,arguments)});var c;e.parseAsync=u,e.default=e.parse=function(t){return Object.keys(t.entities).map(e=>{const r=t.entities[e],n=r.labels,a=i.default.simplifyClaims(r.claims,null,null,!0),l={_wikiId:e,id:e};return Object.keys(a).forEach(t=>{const e=(0,s.parse)(t,a[t],"en");if(e){const t=o(e,2),r=t[0],n=t[1];Array.isArray(l[r])?l[r]=l[r].concat(n):void 0!==n&&(l[r]=n)}}),Array.isArray(l.author)&&l.author.sort(({_ordinal:t},{_ordinal:e})=>t-e),l.title||(l.title=n.en.value),l})}},PoGc:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0,e.parse=(()=>[])},QSc6:function(t,e,r){"use strict";var n=r("0jNN"),i=r("sxOR"),s={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},o=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(t){return o.call(t)},skipNulls:!1,strictNullHandling:!1},l=function t(e,r,i,s,o,l,u,c,p,h,f,d){var m=e;if("function"==typeof u)m=u(r,m);else if(m instanceof Date)m=h(m);else if(null===m){if(s)return l&&!d?l(r,a.encoder):r;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||n.isBuffer(m))return l?[f(d?r:l(r,a.encoder))+"="+f(l(m,a.encoder))]:[f(r)+"="+f(String(m))];var g,b=[];if(void 0===m)return b;if(Array.isArray(u))g=u;else{var v=Object.keys(m);g=c?v.sort(c):v}for(var y=0;y<g.length;++y){var _=g[y];o&&null===m[_]||(b=Array.isArray(m)?b.concat(t(m[_],i(r,_),i,s,o,l,u,c,p,h,f,d)):b.concat(t(m[_],r+(p?"."+_:"["+_+"]"),i,s,o,l,u,c,p,h,f,d)))}return b};t.exports=function(t,e){var r=t,o=e?n.assign({},e):{};if(null!=o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===o.delimiter?a.delimiter:o.delimiter,c="boolean"==typeof o.strictNullHandling?o.strictNullHandling:a.strictNullHandling,p="boolean"==typeof o.skipNulls?o.skipNulls:a.skipNulls,h="boolean"==typeof o.encode?o.encode:a.encode,f="function"==typeof o.encoder?o.encoder:a.encoder,d="function"==typeof o.sort?o.sort:null,m=void 0!==o.allowDots&&o.allowDots,g="function"==typeof o.serializeDate?o.serializeDate:a.serializeDate,b="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:a.encodeValuesOnly;if(void 0===o.format)o.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,o.format))throw new TypeError("Unknown format option provided.");var v,y,_=i.formatters[o.format];"function"==typeof o.filter?r=(y=o.filter)("",r):Array.isArray(o.filter)&&(v=y=o.filter);var x=[];if("object"!=typeof r||null===r)return"";var w=s[o.arrayFormat in s?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices"];v||(v=Object.keys(r)),d&&v.sort(d);for(var E=0;E<v.length;++E){var A=v[E];p&&null===r[A]||(x=x.concat(l(r[A],A,w,c,p,h?f:null,y,d,m,g,_,b)))}var S=x.join(u);return S.length>0?(!0===o.addQueryPrefix?"?":"")+S:""}},QTOX:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getBibtex=void 0;var n,i=(n=r("k+io"))&&n.__esModule?n:{default:n},s=r("AVU7");const o={"|":"{\\textbar}","<":"{\\textless}",">":"{\\textgreater}","~":"{\\textasciitilde}","^":"{\\textasciicircum}","\\":"{\\textbackslash}","{":"\\{\\vphantom{\\}}","}":"\\vphantom{\\{}\\}"};function a(t){return t.replace(/[|<>~^\\{}]/g,t=>o[t])}const l={"":"","{":"}"},u={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"},c=["title"];const p=function(t,e){let r=t.map(t=>(function(t,e){let r=(0,i.default)(t),n=r.type,s=r.label,o=r.properties;return o=function(t,e){return t.map(([t,r])=>(function(t,e,r){return e=c.includes(t)?function(t){let e=t.split(/<(\/.*?|i|b|sc|sup|sub|span.*?)>/g);return(e=e.map((t,e)=>e%2==0?a(t):t in u?u[t]:"}")).join("")}(e):a(e),r.listItem.join(`${t}=${function(t,e){let r=isNaN(+e)?"{":"";return r+e+l[r]}(0,e)},`)})(t,r,e)).join("")}(Object.entries(o),e),e.entry.join(`@${n}{${s},${e.list.join(o)}}`)})(t,e)).join("");return e.bibliographyContainer.join(r)};e.getBibtex=p,e.default=function(t,e){const r=s.plugins.dict.get(e?"html":"text");return p(t,r)}},Qgv9:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=e.getIds=e.format=void 0;var n=r("YTRW"),i=r("/Ufw"),s=r("1O7j");e.getIds=function(){return this.data.map(t=>t.id)},e.format=function(t,...e){return(0,i.format)(t,(0,s.clean)(this.data),...e)},e.get=function(t={}){try{(0,n.validateOutputOptions)(t)}catch(f){logger.error("[get]",f.message)}const e=Object.assign({},this.defaultOptions,this._options.output,t),r=e.type,i=(2,function(t){if(Array.isArray(t))return t}(u=e.style.split("-"))||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),2!==r.length);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),s=i[0],o=i[1],a="citation"===s?"bibliography":"csl"===s?"data":s,l="string"===r?"text":"json"===r?"object":r;var u;let c;switch(a){case"bibliography":c={template:o,lang:e.lang,format:l,append:e.append,prepend:e.prepend};break;case"data":case"bibtex":case"bibtxt":c={type:l};break;default:logger.error("[get]","Invalid options")}const p=this.format(a,c),h=e.format;if("real"===h&&"html"===l&&"undefined"!=typeof document&&"function"==typeof document.createElement){const t=document.createElement("div");return t.innerHTML=p,t.firstChild}return"string"===h&&"object"==typeof p?JSON.stringify(p):p}},Qyje:function(t,e,r){"use strict";var n=r("QSc6"),i=r("nmq7"),s=r("sxOR");t.exports={formats:s,parse:i,stringify:n}},R8VN:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.removeGraph=e.applyGraph=void 0,e.applyGraph=((t,e)=>{const r=({type:t})=>"@else/list+object"===t;return Array.isArray(t._graph)?e.find(r)&&(e.splice(e.findIndex(r),1,...t._graph.slice(0,-1)),t._graph=e):t._graph=e,t}),e.removeGraph=(t=>(delete t._graph,t))},RYVG:function(t,e){t.exports=function(t){"object"==typeof t&&(t=t.time);const e=t[0],n=t.slice(1),i=r(e,n);return"Invalid Date"===i.toString()?s(e,n):i};const r=function(t,e){return"-"===t?i(e):n(e)},n=t=>new Date(t),i=function(t){const e=t.split("-")[0];return new Date(4===e.length?`-00${t}`:5===e.length?`-0${t}`:`-${t}`)},s=function(t,e){const n=e.split("T")[0].split("-")[0];return r(t,n)}},RiOF:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class n{constructor(t){this.stack=t,this.index=0,this.current=this.stack[this.index]}static getPatternText(t){return`"${t instanceof RegExp?t.source:t}"`}static getMatchCallback(t){if(Array.isArray(t)){const e=t.map(n.getMatchCallback);return t=>e.some(e=>e(t))}return t instanceof Function?t:t instanceof RegExp?e=>t.test(e):e=>t===e}tokensLeft(){return this.stack.length-this.index}matches(t){return n.getMatchCallback(t)(this.current,this.index,this.stack)}matchesSequence(t){const e=this.stack.slice(this.index,this.index+t.length).join("");return"string"==typeof t?e===t:t.every((t,r)=>n.getMatchCallback(t)(e[r]))}consumeToken(t=/^[\s\S]$/,{inverse:e=!1,spaced:r=!0}={}){r&&this.consumeWhitespace();const i=this.current;if(!n.getMatchCallback(t)(i,this.index,this.stack))throw new SyntaxError(`Unexpected token at index ${this.index}: Expected ${n.getPatternText(t)}, got "${i}"`);return this.current=this.stack[++this.index],r&&this.consumeWhitespace(),i}consumeWhitespace(t=/^\s$/,{optional:e=!0}={}){return this.consume(t,{min:+!e})}consumeN(t){if(this.tokensLeft()<t)throw new SyntaxError("Not enough tokens left");const e=this.index;for(;t--;)this.current=this.stack[++this.index];return this.stack.slice(e,this.index).join("")}consumeSequence(t){if(this.matchesSequence(t))return this.consumeN(t.length);throw new SyntaxError(`Expected "${t}", got "${this.consumeN(t.length)}"`)}consume(t=/^[\s\S]$/,{min:e=0,max:r=1/0,inverse:i=!1,tokenMap:s,tokenFilter:o}={}){const a=this.index,l=n.getMatchCallback(t);for(;l(this.current,this.index,this.stack)!==i;)this.current=this.stack[++this.index];let u=this.stack.slice(a,this.index);if(u.length<e)throw new SyntaxError(`Not enough ${n.getPatternText(t)}`);if(u.length>r)throw new SyntaxError(`Too many ${n.getPatternText(t)}`);return s&&(u=u.map(s)),o&&(u=u.filter(o)),u.join("")}}e.default=n},RzOA:function(t){t.exports={"en-US":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">\u201c</term><term name="close-quote">\u201d</term><term name="open-inner-quote">\u2018</term><term name="close-inner-quote">\u2019</term><term name="page-range-delimiter">\u2013</term><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple>\n</term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term>\n<term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms></locale>',"nl-NL":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>editie</single><multiple>edities</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">\u201c</term><term name="close-quote">\u201d</term><term name="open-inner-quote">\u2018</term><term name="close-inner-quote">\u2019</term><term name="page-range-delimiter">\u2013</term><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio\'s</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple>\n</term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">bewerkt door</term><term name="editorial-director" form="verb">bewerkt door</term><term name="illustrator" form="verb">ge\xefllustreerd door</term><term name="interviewer" form="verb">ge\xefnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">bewerkt door</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">ge\xefllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>\n<term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms></locale>',"fr-FR":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Gr\xe9goire Colly</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">consult\xe9 le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cit\xe9</term><term name="edition" gender="feminine"><single>\xe9dition</single><multiple>\xe9ditions</multiple></term><term name="edition" form="short">\xe9d.</term><term name="et-al">et al.</term><term name="forthcoming">\xe0 para\xeetre</term><term name="from">\xe0 l\'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">pr\xe9sent\xe9 \xe0</term><term name="reference"><single>r\xe9f\xe9rence</single><multiple>r\xe9f\xe9rences</multiple></term><term name="reference" form="short"><single>r\xe9f.</single><multiple>r\xe9f.</multiple></term><term name="retrieved">consult\xe9</term><term name="scale">\xe9chelle</term><term name="version">version</term><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="open-quote">\xab&#160;</term><term name="close-quote">&#160;\xbb</term><term name="open-inner-quote">\u201c</term><term name="close-inner-quote">\u201d</term><term name="page-range-delimiter">&#8209;</term><term name="ordinal">\u1d49</term><term name="ordinal-01" gender-form="feminine" match="whole-number">\u02b3\u1d49</term><term name="ordinal-01" gender-form="masculine" match="whole-number">\u1d49\u02b3</term><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxi\xe8me</term><term name="long-ordinal-03">troisi\xe8me</term><term name="long-ordinal-04">quatri\xe8me</term><term name="long-ordinal-05">cinqui\xe8me</term><term name="long-ordinal-06">sixi\xe8me</term><term name="long-ordinal-07">septi\xe8me</term><term name="long-ordinal-08">huiti\xe8me</term><term name="long-ordinal-09">neuvi\xe8me</term><term name="long-ordinal-10">dixi\xe8me</term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>num\xe9ro</single><multiple>num\xe9ros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple>\n</term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>f\u1d52</single><multiple>f\u1d52\u02e2</multiple></term><term name="issue" form="short"><single>n\u1d52</single><multiple>n\u1d52\u02e2</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term><term name="paragraph" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="director"><single>r\xe9alisateur</single><multiple>r\xe9alisateurs</multiple></term><term name="editor"><single>\xe9diteur</single><multiple>\xe9diteurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>\xe9diteur et traducteur</single><multiple>\xe9diteurs et traducteurs</multiple></term><term name="director" form="short"><single>r\xe9al.</single><multiple>r\xe9al.</multiple></term><term name="editor" form="short"><single>\xe9d.</single><multiple>\xe9d.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>\xe9d. et trad.</single><multiple>\xe9d. et trad.</multiple></term><term name="container-author" form="verb">par</term><term name="director" form="verb">r\xe9alis\xe9 par</term><term name="editor" form="verb">\xe9dit\xe9 par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustr\xe9 par</term><term name="interviewer" form="verb">entretien r\xe9alis\xe9 par</term><term name="recipient" form="verb">\xe0</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">\xe9dit\xe9 et traduit par</term><term name="director" form="verb-short">r\xe9al. par</term><term name="editor" form="verb-short">\xe9d. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">\xe9d. et trad. par</term><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">f\xe9vrier</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">ao\xfbt</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">\noctobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">d\xe9cembre</term><term name="month-01" form="short">janv.</term><term name="month-02" form="short">f\xe9vr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">ao\xfbt</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">d\xe9c.</term><term name="season-01">printemps</term><term name="season-02">\xe9t\xe9</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms></locale>',"de-DE":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verf\xfcgbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Ma\xdfstab</term><term name="version">Version</term><term name="ad">n.&#160;Chr.</term><term name="bc">v.&#160;Chr.</term><term name="open-quote">\u201e</term><term name="close-quote">\u201c</term><term name="open-inner-quote">\u201a</term><term name="close-inner-quote">\u2018</term><term name="page-range-delimiter">\u2013</term><term name="ordinal">.</term><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">f\xfcnfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term><term name="book"><single>Buch</single><multiple>B\xfccher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Bl\xe4tter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Abs\xe4tze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>B\xe4nde</multiple></term><term name="book" form="short">B.</term>\n<term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term><term name="paragraph" form="symbol"><single>\xb6</single><multiple>\xb6\xb6</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7\xa7</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>\xdcbersetzer</single><multiple>\xdcbersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; \xdcbersetzer</single><multiple>Herausgeber&#160;&amp; \xdcbersetzer</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>\xdcbers.</single><multiple>\xdcbers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; \xdcbers.</single><multiple>Hrsg.&#160;&amp; \xdcbers</multiple></term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">\xfcbersetzt von</term><term name="editortranslator" form="verb">herausgegeben und \xfcbersetzt von</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">\xfcbers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; \xfcbers. von</term><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">M\xe4rz</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term>\n<term name="month-03" form="short">M\xe4rz</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term><term name="season-01">Fr\xfchjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms></locale>',"es-ES":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">an\xf3nimo</term><term name="anonymous" form="short">an\xf3n.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edici\xf3n</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en l\xednea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versi\xf3n</term><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="open-quote">\xab</term><term name="close-quote">\xbb</term><term name="open-inner-quote">\u201c</term><term name="close-inner-quote">\u201d</term><term name="page-range-delimiter">-</term><term name="ordinal">.\xaa</term><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">s\xe9ptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">d\xe9cima</term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>cap\xedtulo</single><multiple>cap\xedtulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>n\xfamero</single><multiple>n\xfameros</multiple></term><term name="line"><single>l\xednea</single><multiple>l\xedneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name="number-of-pages"><single>p\xe1gina</single><multiple>p\xe1ginas</multiple></term><term name="paragraph"><single>p\xe1rrafo</single><multiple>p\xe1rrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>secci\xf3n</single><multiple>secciones</multiple></term><term name="sub verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>vol\xfamenes</multiple></term><term name="book" form="short">lib.</term>\n<term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.\xba</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">p\xe1rr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="section" form="symbol"><single>\xa7</single><multiple>\xa7</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">\ndic.</term><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">oto\xf1o</term><term name="season-04">invierno</term></terms></locale>'}},S3Kk:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.templates=e.default=void 0;var n,i=r("AVU7"),s=(n=r("4wgM"))&&n.__esModule?n:{default:n};const o=new i.util.Register(s.default);e.templates=o,e.default=(t=>o.has(t)?o.get(t):o.get("apa"))},Sd31:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=u(r("ZfMN")),i=u(r("BbnU")),s=u(r("MC6a")),o=u(r("5+QC")),a=u(r("Qgv9")),l=u(r("YTRW"));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}function c(t,e={}){return this instanceof c?(this._options=e||{},this.log=[],this.data=[],this.set(t,e),this.options(e),this.save(),this):new c(t,e)}Object.assign(c.prototype,n,i,s,o,a),c.prototype[Symbol.iterator]=function*(){yield*this.data},Object.assign(c,l),e.default=c},VPZO:function(t,e,r){const{wikidataTimeToISOString:n,wikidataTimeToEpochTime:i,wikidataTimeToSimpleDay:s}=r("8sxh"),o=t=>t.value,a=(t,e)=>u(t,e.entityPrefix),l={item:"Q",lexeme:"L",property:"P"},u=function(t,e){const{value:r}=t,n=r.id||l[r["entity-type"]]+r["numeric-id"];return"string"==typeof e?`${e}:${n}`:n},c={iso:n,epoch:i,"simple-day":s,none:t=>t.time||t},p={string:o,commonsMedia:o,url:o,"external-id":o,math:o,monolingualtext:(t,e)=>e.keepRichValues?t.value:t.value.text,"wikibase-item":a,"wikibase-lexeme":a,"wikibase-property":a,time:(t,e)=>((t="iso")=>c[t])(e.timeConverter)(t.value),quantity:(t,e)=>{const{value:r}=t,n=parseFloat(r.amount);return e.keepRichValues?{amount:parseFloat(r.amount),unit:r.unit.replace("http://www.wikidata.org/entity/",""),upperBound:parseFloat(r.upperBound),lowerBound:parseFloat(r.lowerBound)}:n},"globe-coordinate":t=>[t.value.latitude,t.value.longitude],"geo-shape":o,"tabular-data":o};t.exports={parsers:p,parse:(t,e,r,n)=>{if(!t)return console.error("invalid claim",n),null;try{return p[t](e,r)}catch(i){throw"parsers[datatype] is not a function"===i.message&&(i.message=`${t} claim parser isn't implemented\n        Claim id: ${n}\n        Please report to https://github.com/maxlath/wikidata-sdk/issues`),i}}}},VrO5:function(t,e,r){"use strict";function n(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,r("LpSC");const i=(s=function*(t,e={}){const r={};e.headers&&(r.headers=e.headers,r.allowRedirectHeaders=Object.keys(e.headers));try{return fetch(t,r).then(t=>t.text())}catch(n){return logger.error("[set]",`File '${t}' could not be fetched:`,n.message),"[]"}},o=function(){var t=this,e=arguments;return new Promise(function(r,i){var o=s.apply(t,e);function a(t){n(o,r,i,a,l,"next",t)}function l(t){n(o,r,i,a,l,"throw",t)}a(void 0)})},function(t){return o.apply(this,arguments)});var s,o;e.default=i},W3zP:function(t,e){t.exports=["aa","ab","af","ak","als","am","ang","an","ar","ast","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","chr","ch","co","cr","csb","cs","cv","cy","da","de","dv","dz","el","en","eo","es","et","eu","fa","fi","fj","fo","fr","fy","ga","gd","gl","gn","got","gu","gv","ha","he","hif","hi","hr","hsb","ht","hu","hy","ia","id","ie","ik","io","is","it","iu","ja","jbo","jv","ka","kk","kl","km","kn","ko","kr","ks","ku","kw","ky","la","lb","li","ln","lo","lt","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","nah","na","nds","ne","nl","nn","no","oc","om","or","pa","pi","pl","pms","pnb","ps","pt","qu","rm","rn","roa_rup","ro","ru","rw","sah","sa","scn","sc","sd","se","sg","sh","simple","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tpi","tr","ts","tt","tw","ug","uk","ur","uz","vec","vi","vo","wa","wo","xh","yi","yo","za","zh_min_nan","zh","zu","aa","ab","ace","af","ak","als","am","an","ang","ar","arc","arz","as","ast","av","ay","az","ba","bar","bat_smg","bcl","be","be_x_old","bg","bh","bi","bjn","bm","bn","bo","bpy","br","bs","bug","bxr","ca","cbk_zam","cdo","ce","ceb","ch","cho","chr","chy","ckb","co","cr","crh","cs","csb","cu","cv","cy","da","de","diq","dsb","dv","dz","ee","el","eml","en","eo","es","et","eu","ext","fa","ff","fi","fiu_vro","fj","fo","fr","frp","frr","fur","fy","ga","gag","gan","gd","gl","glk","gn","got","gu","gv","ha","hak","haw","he","hi","hif","ho","hr","hsb","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","ilo","io","is","it","iu","ja","jbo","jv","ka","kaa","kab","kbd","kg","ki","kj","kk","kl","km","kn","ko","koi","kr","krc","ks","ksh","ku","kv","kw","ky","la","lad","lb","lbe","lez","lg","li","lij","lmo","ln","lo","lt","ltg","lv","mai","map_bms","mdf","mg","mh","mhr","mi","min","mk","ml","mn","mo","mr","mrj","ms","mt","mus","mwl","my","myv","mzn","na","nah","nap","nds","nds_nl","ne","new","ng","nl","nn","no","nov","nrm","nso","nv","ny","oc","om","or","os","pa","pag","pam","pap","pcd","pdc","pfl","pi","pih","pl","pms","pnb","pnt","ps","pt","qu","rm","rmy","rn","ro","roa_rup","roa_tara","ru","rue","rw","sa","sah","sc","scn","sco","sd","se","sg","sh","si","simple","sk","sl","sm","sn","so","sq","sr","srn","ss","st","stq","su","sv","sw","szl","ta","te","tet","tg","th","ti","tk","tl","tn","to","tpi","tr","ts","tt","tum","tw","ty","tyv","udm","ug","uk","ur","uz","ve","vec","vep","vi","vls","vo","wa","war","wo","wuu","xal","xh","xmf","yi","yo","za","zea","zh","zh_classical","zh_min_nan","zh_yue","zu","lrc","gom","azb","ady","jam","tcy","olo","dty","atj","kbp","din","gor","inh","lfn","sat"]},W9pU:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var n=r("AVU7"),i=l(r("HNSk")),s=l(r("f+iP")),o=l(r("5m7S")),a=l(r("twId"));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}e.ref="@doi",e.parsers={id:i,api:s,json:o,type:a};const u={"@doi/api":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"String",predicate:/^\s*(https?:\/\/(?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()\/:A-Z0-9]+))\s*$/i,extends:"@else/url"}},"@doi/id":{parse:i.parse,parseType:{dataType:"String",predicate:/^\s*(10.\d{4,9}\/[-._;()\/:A-Z0-9]+)\s*$/i}},"@doi/list+text":{parse:i.parse,parseType:{dataType:"String",tokenList:/^10.\d{4,9}\/[-._;()\/:A-Z0-9]+$/i}},"@doi/list+object":{parse:i.parse,parseType:{dataType:"Array",elementConstraint:"@doi/id"}},"@doi/type":{parse:a.parse}};e.formats=u,n.plugins.add("@doi",{input:u})},WdF2:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"format",{enumerable:!0,get:function(){return i.default}});var n=s(r("s9Hj")),i=s(r("P/RF"));function s(t){return t&&t.__esModule?t:{default:t}}},WhMb:function(t,e,r){"use strict";function n(t,e,r){for(;t.length<e;)t=r+t;return t.slice(-e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t,e="-"){if(!t["date-parts"])return t.raw;let r=t["date-parts"][0].map(t=>t.toString());switch(r.length){case 3:r[2]=n(r[2],2,"0");case 2:r[1]=n(r[1],2,"0");case 1:r[0]=n(r[0],4,"0")}return r.join(e)}},"XO3+":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r("9DKP"),s=(n=r("Sd31"))&&n.__esModule?n:{default:n};function o(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}const a=(l=function*(t,e){return new s.default(yield t,e)},u=function(){var t=this,e=arguments;return new Promise(function(r,n){var i=l.apply(t,e);function s(t){o(i,r,n,s,a,"next",t)}function a(t){o(i,r,n,s,a,"throw",t)}s(void 0)})},function(t,e){return u.apply(this,arguments)});var l,u;e.default=function(t,e,r){const n=(0,i.chainAsync)(t);return"function"!=typeof e||r||(r=e,e=void 0),"function"==typeof r?void n.then(t=>r(new s.default(t,e))):a(n,e)}},XwHh:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefixedEntry=e.getAttributedEntry=void 0;const n=(t,e,r)=>t.replace(/^\s*<[a-z]+/i,`$& data-${e}="${r}"`);e.getAttributedEntry=n,e.getPrefixedEntry=((t,e)=>n(t,"csl-entry-id",e))},"Y/kM":function(t,e,r){(function(t){var r,n,i,s,o,a,l,u,c,p={PROCESSOR_VERSION:"1.1.214",CONDITION_LEVEL_TOP:1,CONDITION_LEVEL_BOTTOM:2,PLAIN_HYPHEN_REGEX:/(?:[^\\]-|\u2013)/,LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_GROUPED_REGEX:/((?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/g,STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0},NestedBraces:[["(","["],[")","]"]],checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var e=(t=t||"").split(/([\(\)])/),r=1,n=e.length;r<n;r+=2)"("===e[r]?(1==this.depth%2&&(e[r]="["),this.depth+=1):")"===e[r]&&(0==this.depth%2&&(e[r]="]"),this.depth-=1);return e.join("")}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"titles",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"places",edition:"places",issue:"places",volume:"places"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"collection-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(e>-1){var r=t.locator;t.locator=r.slice(0,e);var n=(r=r.slice(e+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);n&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(n[1]),r=r.slice(n[1].length)),t["locator-extra"]=r.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},isDatePart:function(t,e,r){return!!(t.length>e&&t.length<r&&parseInt(t))},isDateString:function(t){if(!t)return!1;var e=t.split("-");return!(e.length>0&&!this.isDatePart(e[0],3,5)||e.length>1&&!this.isDatePart(e[1],0,3)||e.length>2&&!this.isDatePart(e[2],0,3)||e.length>3)},parseNoteFieldHacks:function(t,e,r){if("string"==typeof t.note){for(var n=[],i=t.note.split("\n"),s=0,o=i.length;s<o;s++){n=[];var a=(d=i[s]).match(p.NOTE_FIELDS_REGEXP);if(a){for(var l=d.split(p.NOTE_FIELDS_REGEXP),u=0,c=l.length-1;u<c;u++)n.push(l[u]),n.push(a[u]);for(n.push(l[l.length-1]),u=1,c=n.length;u<c&&(!n[u-1].trim()||!(s>0||u>1)||n[u-1].match(p.NOTE_FIELD_REGEXP));u+=2)n[u]="\n"+n[u].slice(2,-1).trim()+"\n";i[s]=n.join("")}}var h=0,f={};for(s=0,o=(i=i.join("\n").split("\n")).length;s<o;s++){var d,m=(d=i[s]).match(p.NOTE_FIELD_REGEXP);if(d.trim()){if(!m){if(0===s)continue;h=s;break}var g=m[1],b=m[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)t.type=b,i[s]="";else if(p.DATE_VARIABLES.indexOf(g)>-1)r&&(t[g]={raw:b},(!e||e[g]&&this.isDateString(b))&&(i[s]=""));else if(!t[g]){if(p.NAME_VARIABLES.indexOf(g)>-1){f[g]||(f[g]=[]);var v=b.split(/\s*\|\|\s*/);if(1===v.length)f[g].push({literal:v[0]});else if(2===v.length){var y={family:v[0],given:v[1]};p.parseParticles(y),f[g].push(y)}}else t[g]=b;e&&!e[g]||(i[s]="")}}}for(var g in f)t[g]=f[g];if(e)for(i[h].trim()&&(i[h]="\n"+i[h]),s=h-1;s>-1;s--)i[s].trim()||(i=i.slice(0,s).concat(i.slice(s+1)));t.note=i.join("\n").trim()}},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,ONLY_FIRST:1,ALWAYS:2,ONLY_LAST:3,FINISH:1,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,MARK_TRAILING_NAMES:!0,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],MINIMAL_NAME_FIELDS:["literal","family"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,COLLAPSE_VALUES:["citation-number","year","year-suffix"],DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DECORABLE_NAME_PARTS:["given","family","suffix"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator"],CREATORS:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","edition","page","issue","locator","number","number-of-pages","number-of-volumes","volume","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","container","original-date","publication-date","original-date","available-date","submitted"],TITLE_FIELD_SPLITS:function(t){for(var e=["title","short","main","sub"],r={},n=0,i=e.length;n<i;n++)r[e[n]]=t+"title"+("title"===e[n]?"":"-"+e[n]);return r},TAG_USEALL:function(t){var e,r,n,i;for(e=[""],r=t.indexOf("<"),n=t.indexOf(">");r>-1&&n>-1;)i=r>n?r+1:n+1,r<n&&-1===t.slice(r+1,n).indexOf("<")?(e[e.length-1]+=t.slice(0,r),e.push(t.slice(r,n+1)),e.push(""),t=t.slice(i)):(e[e.length-1]+=t.slice(0,n+1),t=t.slice(i)),r=t.indexOf("<"),n=t.indexOf(">");return e[e.length-1]+=t,e},demoteNoiseWords:function(t,e,r){var n=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&r){(e=e.split(/\s+/)).reverse();for(var i=[],s=e.length-1;s>-1&&n.indexOf(e[s].toLowerCase())>-1;s+=-1)i.push(e.pop());e.reverse();var o=e.join(" "),a=i.join(" ");"drop"!==r&&a?"demote"===r&&(e=[o,a].join(", ")):e=o}return e},extractTitleAndSubtitle:function(t){for(var e=["","container-"],r=0,n=e.length;r<n;r++){var i=p.TITLE_FIELD_SPLITS(e[r]),s=[!1];if(t.multi)for(var o in t.multi._keys[i.short])s.push(o);for(var a=0;a<n;a++){var l={};if((o=s[a])?(t.multi._keys[i.title]&&(l[i.title]=t.multi._keys[i.title][o]),t.multi._keys[i.short]&&(l[i.short]=t.multi._keys[i.short][o])):(l[i.title]=t[i.title],l[i.short]=t[i.short]),l[i.main]=l[i.title],l[i.sub]=!1,l[i.title]&&l[i.short]){var u=l[i.short],c=u.length;l[i.title].slice(0,c)===u&&l[i.title].slice(c).match(/^\s*:/)&&(l[i.main]=l[i.title].slice(0,c).replace(/\s+$/,""),l[i.sub]=l[i.title].slice(c).replace(/^\s*:\s*/,""))}if(o)for(var h in l)t.multi._keys[h]||(t.multi._keys[h]={}),t.multi._keys[h][o]=l[h];else for(var h in l)t[h]=l[h]}}},titlecaseSentenceOrNormal:function(t,e,r,n,i){var s=p.TITLE_FIELD_SPLITS(r),o={};if(n&&e.multi?(e.multi._keys[s.title]&&(o[s.title]=e.multi._keys[s.title][n]),e.multi._keys[s.main]&&(o[s.main]=e.multi._keys[s.main][n]),e.multi._keys[s.sub]&&(o[s.sub]=e.multi._keys[s.sub][n])):(o[s.title]=e[s.title],o[s.main]=e[s.main],o[s.sub]=e[s.sub]),o[s.main]&&o[s.sub]){var a=o[s.main],l=o[s.sub];return i?(a=p.Output.Formatters.sentence(t,a),l=p.Output.Formatters.sentence(t,l)):l=p.Output.Formatters["capitalize-first"](t,l),[a,l].join(o[s.title].slice(a.length,-1*l.length))}return i?p.Output.Formatters.sentence(t,o[s.title]):o[s.title]},getSafeEscape:function(t){if(["bibliography","citation"].indexOf(t.tmp.area)>-1){var e=[];return t.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===t.opt.mode&&e.push(function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),e.length?function(r){for(var n=0,i=e.length;n<i;n+=1)r=e[n](r);return p.Output.Formats[t.opt.mode].text_escape(r)}:p.Output.Formats[t.opt.mode].text_escape}return function(t){return t}},SKIP_WORDS:["about","above","across","afore","after","against","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-\xe0-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","et","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokm\xe5l)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukrainian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"\xaa":"a","\xb2":"2","\xb3":"3","\xb9":"1","\xba":"o","\u02b0":"h","\u02b1":"\u0266","\u02b2":"j","\u02b3":"r","\u02b4":"\u0279","\u02b5":"\u027b","\u02b6":"\u0281","\u02b7":"w","\u02b8":"y","\u02e0":"\u0263","\u02e1":"l","\u02e2":"s","\u02e3":"x","\u02e4":"\u0295","\u1d2c":"A","\u1d2d":"\xc6","\u1d2e":"B","\u1d30":"D","\u1d31":"E","\u1d32":"\u018e","\u1d33":"G","\u1d34":"H","\u1d35":"I","\u1d36":"J","\u1d37":"K","\u1d38":"L","\u1d39":"M","\u1d3a":"N","\u1d3c":"O","\u1d3d":"\u0222","\u1d3e":"P","\u1d3f":"R","\u1d40":"T","\u1d41":"U","\u1d42":"W","\u1d43":"a","\u1d44":"\u0250","\u1d45":"\u0251","\u1d46":"\u1d02","\u1d47":"b","\u1d48":"d","\u1d49":"e","\u1d4a":"\u0259","\u1d4b":"\u025b","\u1d4c":"\u025c","\u1d4d":"g","\u1d4f":"k","\u1d50":"m","\u1d51":"\u014b","\u1d52":"o","\u1d53":"\u0254","\u1d54":"\u1d16","\u1d55":"\u1d17","\u1d56":"p","\u1d57":"t","\u1d58":"u","\u1d59":"\u1d1d","\u1d5a":"\u026f","\u1d5b":"v","\u1d5c":"\u1d25","\u1d5d":"\u03b2","\u1d5e":"\u03b3","\u1d5f":"\u03b4","\u1d60":"\u03c6","\u1d61":"\u03c7","\u2070":"0","\u2071":"i","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u207a":"+","\u207b":"\u2212","\u207c":"=","\u207d":"(","\u207e":")","\u207f":"n","\u2120":"SM","\u2122":"TM","\u3192":"\u4e00","\u3193":"\u4e8c","\u3194":"\u4e09","\u3195":"\u56db","\u3196":"\u4e0a","\u3197":"\u4e2d","\u3198":"\u4e0b","\u3199":"\u7532","\u319a":"\u4e59","\u319b":"\u4e19","\u319c":"\u4e01","\u319d":"\u5929","\u319e":"\u5730","\u319f":"\u4eba","\u02c0":"\u0294","\u02c1":"\u0295","\u06e5":"\u0648","\u06e6":"\u064a"},SUPERSCRIPTS_REGEXP:new RegExp("[\xaa\xb2\xb3\xb9\xba\u02b0\u02b1\u02b2\u02b3\u02b4\u02b5\u02b6\u02b7\u02b8\u02e0\u02e1\u02e2\u02e3\u02e4\u1d2c\u1d2d\u1d2e\u1d30\u1d31\u1d32\u1d33\u1d34\u1d35\u1d36\u1d37\u1d38\u1d39\u1d3a\u1d3c\u1d3d\u1d3e\u1d3f\u1d40\u1d41\u1d42\u1d43\u1d44\u1d45\u1d46\u1d47\u1d48\u1d49\u1d4a\u1d4b\u1d4c\u1d4d\u1d4f\u1d50\u1d51\u1d52\u1d53\u1d54\u1d55\u1d56\u1d57\u1d58\u1d59\u1d5a\u1d5b\u1d5c\u1d5d\u1d5e\u1d5f\u1d60\u1d61\u2070\u2071\u2074\u2075\u2076\u2077\u2078\u2079\u207a\u207b\u207c\u207d\u207e\u207f\u2120\u2122\u3192\u3193\u3194\u3195\u3196\u3197\u3198\u3199\u319a\u319b\u319c\u319d\u319e\u319f\u02c0\u02c1\u06e5\u06e6]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,r){if(t.tmp.group_context.tip.condition){if(t.tmp.group_context.tip.condition.test){var n;if("empty-label"===t.tmp.group_context.tip.condition.test)n=!e;else if("empty-label-no-decor"===t.tmp.group_context.tip.condition.test)n=!e||e.indexOf("%s")>-1;else if("comma-safe"===t.tmp.group_context.tip.condition.test){var i=!e,s=e.slice(0,1).match(p.ALL_ROMANESQUE_REGEXP);n=!!i||!(!s||r)}t.tmp.group_context.tip.force_suppress=!n,t.tmp.group_context.tip.condition.not&&(t.tmp.group_context.tip.force_suppress=!t.tmp.group_context.tip.force_suppress)}}else t.tmp.just_did_number=!!e.slice(-1).match(/[0-9]/)},locale:{},locale_opts:{},locale_dates:{}};"exports"in t&&(e.CSL=p),p.TERMINAL_PUNCTUATION_REGEXP=new RegExp("^(["+p.TERMINAL_PUNCTUATION.slice(0,-1).join("")+"])(.*)"),p.CLOSURES=new RegExp(".*[\\]\\)]"),t.exports=p,"undefined"==typeof console?(p.debug=function(t){dump("CSL: "+t+"\n")},p.error=function(t){dump("CSL error: "+t+"\n")}):(p.debug=function(t){console.log("CSL: "+t)},p.error=function(t){console.log("CSL error: "+t)}),t.exports=p,p.XmlJSON=function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},p.XmlJSON.prototype.clean=function(t){return t},p.XmlJSON.prototype.getStyleId=function(t,e){var r="id";e&&(r="title");for(var n="",i=t.children,s=0,o=i.length;s<o;s++)if("info"===i[s].name)for(var a=i[s].children,l=0,u=a.length;l<u;l++)a[l].name===r&&(n=a[l].children[0]);return n},p.XmlJSON.prototype.children=function(t){return!(!t||!t.children.length)&&t.children.slice()},p.XmlJSON.prototype.nodename=function(t){return t?t.name:null},p.XmlJSON.prototype.attributes=function(t){var e={};for(var r in t.attrs)e["@"+r]=t.attrs[r];return e},p.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var r=0,n=t.children.length;r<n;r+=1)"string"==typeof t.children[r]&&(e+=t.children[r]);return e},p.XmlJSON.prototype.namespace={},p.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},p.XmlJSON.prototype.getAttributeValue=function(t,e,r){var n="";return r&&(e=r+":"+e),t&&t.attrs&&(n=t.attrs[e]?t.attrs[e]:""),n},p.XmlJSON.prototype.getNodeValue=function(t,e){var r="";if(e)for(var n=0,i=t.children.length;n<i;n+=1)t.children[n].name===e&&(r=t.children[n].children.length?t.children[n]:"");else t&&(r=t);return r&&r.children&&1==r.children.length&&"string"==typeof r.children[0]&&(r=r.children[0]),r},p.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,r,n,i){"@"===n.slice(0,1)&&(n=n.slice(1));for(var s=0,o=t.children.length;s<o;s+=1)t.children[s].name===e&&t.children[s].attrs.name===r&&(t.children[s].attrs[n]=i)},p.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var r,n;for(r=0,n=t.children.length;r<n;r+=1)t.children[r]&&"string"!=typeof t.children[r]&&t.children[r].attrs.name==e&&(t.children=t.children.slice(0,r).concat(t.children.slice(r+1)))},p.XmlJSON.prototype.deleteAttribute=function(t,e){void 0!==t.attrs[e]&&t.attrs.pop(e)},p.XmlJSON.prototype.setAttribute=function(t,e,r){return t.attrs[e]=r,!1},p.XmlJSON.prototype.nodeCopy=function(t,e){if(e||(e={}),"object"==typeof e&&void 0===e.length)for(var r in t)"string"==typeof t[r]?e[r]=t[r]:"object"==typeof t[r]&&(e[r]=this.nodeCopy(t[r],void 0===t[r].length?{}:[]));else for(var n=0,i=t.length;n<i;n+=1)e[n]="string"==typeof t[n]?t[n]:this.nodeCopy(t[n],{});return e},p.XmlJSON.prototype.getNodesByName=function(t,e,r,n){if(n||(n=[]),!t||!t.children)return n;e===t.name&&(r?r===t.attrs.name&&n.push(t):n.push(t));for(var i=0,s=t.children.length;i<s;i+=1)"object"==typeof t.children[i]&&this.getNodesByName(t.children[i],e,r,n);return n},p.XmlJSON.prototype.nodeNameIs=function(t,e){return void 0!==t&&e==t.name},p.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},p.XmlJSON.prototype.insertChildNodeAfter=function(t,e,r,n){for(var i=0,s=t.children.length;i<s;i+=1)if(e===t.children[i]){t.children=t.children.slice(0,i).concat([n]).concat(t.children.slice(i+1));break}return t},p.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,r=["publisher","publisher-place"],n=0,i=t.children.length;n<i;n+=1){var s=r.indexOf(t.children[n].attrs.variable);if(!("text"===t.children[n].name&&s>-1)||t.children[n].attrs.prefix||t.children[n].attrs.suffix){e=!1;break}r=r.slice(0,s).concat(r.slice(s+1))}e&&!r.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(n=0,i=t.children.length;n<i;n+=1)"object"==typeof t.children[n]&&this.insertPublisherAndPlace(t.children[n])},p.XmlJSON.prototype.isChildOfSubstitute=function(t){if(t.length>0){var e=t.slice();return"substitute"===e.pop()||this.isChildOfSubstitute(e)}return!1},p.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e||(e=[]),"names"===t.name&&!this.isChildOfSubstitute(e)){for(var r=!0,n=0,i=t.children.length;n<i;n++)if("name"===t.children[n].name){r=!1;break}r&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}for(e.push(t.name),n=0,i=t.children.length;n<i;n+=1)"object"==typeof t.children[n]&&this.addMissingNameNodes(t.children[n],e);e.pop()},p.XmlJSON.prototype.addInstitutionNodes=function(t){if("names"===t.name){for(var e={},r=-1,n=0,i=t.children.length;n<i;n+=1){if("name"==t.children[n].name){for(var s in t.children[n].attrs)e[s]=t.children[n].attrs[s];e.delimiter=t.children[n].attrs.delimiter,e.and=t.children[n].attrs.and,r=n;for(var o=0,a=t.children[n].children.length;o<a;o+=1)if("family"===t.children[n].children[o].attrs.name)for(var s in t.children[n].children[o].attrs)e[s]=t.children[n].children[o].attrs[s]}if("institution"==t.children[n].name){r=-1;break}}if(r>-1){var l=this.nodeCopy(this.institution);for(n=0,i=p.INSTITUTION_KEYS.length;n<i;n+=1){var u=p.INSTITUTION_KEYS[n];void 0!==e[u]&&(l.children[0].attrs[u]=e[u]),e.delimiter&&(l.attrs.delimiter=e.delimiter),e.and&&(l.attrs.and="text")}t.children=t.children.slice(0,r+1).concat([l]).concat(t.children.slice(r+1))}}for(n=0,i=t.children.length;n<i;n+=1)"string"!=typeof t.children[n]&&this.addInstitutionNodes(t.children[n])},p.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,r=t.children.length;e<r;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},p.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,r=t.children.length;e<r;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},p.stripXmlProcessingInstruction=function(t){return t?t=(t=(t=(t=t.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):t},p.parseXml=function(t){var e,r,n={children:[]},i=[n.children];function s(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(t,e){var r=parseInt(e,10);return String.fromCharCode(r)}).replace(/&#x([a-f0-9]{1,6});/gi,function(t,e){var r=parseInt(e,16);return String.fromCharCode(r)})}function o(t,e){var r=RegExp("^.*[\t ]+"+e+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),n=t.match(r);return n?n[1].slice(1,-1):null}function a(t){var e=RegExp("^<([^\t />]+)"),r=t.match(e);return r?r[1]:null}function l(t){var e={};e.name=a(t),e.attrs={};var r=function(t){var e=t.match(/([^\'\"=\x09 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var r=0,n=e.length;r<n;r++)e[r]=e[r].replace(/=.*/,"");return e}(t);if(r)for(var n=0,i=r.length;n<i;n++){var l={name:r[n],value:o(t,r[n])};e.attrs[l.name]=s(l.value)}return e.children=[],e}function u(t){return s(t.match(/^.*>([^<]*)<.*$/)[1])}function c(t){i.slice(-1)[0].push(t)}for(var p=function(t){for(var e=(t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[\x09 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),r=null,n=0,i=e.length;n<i;n++)n>0&&(e[n]="<"+e[n]),n<e.length-1&&(e[n]=e[n]+">"),"number"!=typeof r&&("<style "!==e[n].slice(0,7)&&"<locale "!=e[n].slice(0,8)||(r=n));for(n=(e=e.slice(r)).length-2;n>-1;n--)if(-1===e[n].slice(1).indexOf("<")){var s=e[n].slice(0,5);"/>"!==e[n].slice(-2)&&("<term"===s?"</term"===e[n+1].slice(0,6)&&(e[n]=e[n]+e[n+1],e=e.slice(0,n+1).concat(e.slice(n+2))):["<sing","<mult"].indexOf(s)>-1&&"/>"!==e[n].slice(-2)&&"<"===e[n+1].slice(0,1)&&(e[n]=e[n]+e[n+1],e=e.slice(0,n+1).concat(e.slice(n+2))))}return e}(t),h=0,f=p.length;h<f;h++)r=void 0,(e=p[h]).slice(1).indexOf("<")>-1?((r=l(e.slice(0,e.indexOf(">")+1))).children=[u(e)],c(r)):"/>"===e.slice(-2)?(r=l(e),"term"===a(e)&&r.children.push(""),c(r)):"</"===e.slice(0,2)?i.pop():(c(r=l(e)),function(t){i.push(t.children)}(r));return n.children[0]},t.exports=p,p.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){var r;return"undefined"!=typeof ActiveXObject?((r=new ActiveXObject("MSXML.DomDocument")).async=!1,r.loadXML(t),r):"undefined"!=typeof XMLHttpRequest?(e||(e="text/xml"),(r=new XMLHttpRequest).open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),r.overrideMimeType&&r.overrideMimeType(e),r.send(null),r.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(t):void 0},this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)}):this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)},this.importNode=function(t,e){return void 0===t.importNode?this._importNode(t,e,!0):t.importNode(e,!0)},this._importNode=function(t,e,r){switch(e.nodeType){case 1:var n=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0)for(var i=0,s=e.attributes.length;i<s;)n.setAttribute(e.attributes[i].nodeName,e.getAttribute(e.attributes[i++].nodeName));if(r&&e.childNodes&&e.childNodes.length>0)for(i=0,s=e.childNodes.length;i<s;)n.appendChild(this._importNode(t,e.childNodes[i++],r));return n}},this.parser=new DOMParser;var e=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),r=e.getElementsByTagName("institution");this.institution=r.item(0);var n=e.getElementsByTagName("institution-part");this.institutionpart=n.item(0),this.ns="http://purl.org/net/xbiblio/csl"},p.XmlDOM.prototype.clean=function(t){return(t=(t=(t=(t=t.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},p.XmlDOM.prototype.getStyleId=function(t,e){var r="",n="id";e&&(n="title");var i=t.getElementsByTagName(n);return i&&i.length&&(i=i.item(0)),i&&(r=i.textContent),r||(r=i.innerText),r||(r=i.innerHTML),r},p.XmlDOM.prototype.children=function(t){var e,r,n,i;if(t){for(i=[],r=0,n=(e=t.childNodes).length;r<n;r+=1)"#text"!=e[r].nodeName&&i.push(e[r]);return i}return[]},p.XmlDOM.prototype.nodename=function(t){return t.nodeName},p.XmlDOM.prototype.attributes=function(t){var e,r,n,i,s;if(e=new Object,t&&this.hasAttributes(t))for(i=0,s=(r=t.attributes).length;i<s;i+=1)e["@"+(n=r[i]).name]=n.value;return e},p.XmlDOM.prototype.content=function(t){return void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.txt},p.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},p.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},p.XmlDOM.prototype.getAttributeName=function(t){return t.name},p.XmlDOM.prototype.getAttributeValue=function(t,e,r){var n="";return r&&(e=r+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(n=t.getAttribute(e)),n},p.XmlDOM.prototype.getNodeValue=function(t,e){var r=null;if(e){var n=t.getElementsByTagName(e);n.length>0&&(r=void 0!==n[0].textContent?n[0].textContent:void 0!==n[0].innerText?n[0].innerText:n[0].text)}return null===r&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(r=void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.text),null===r&&(r=t),r},p.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,r,n,i){var s,o,a,l;for("@"===n.slice(0,1)&&(n=n.slice(1)),s=0,o=(a=t.getElementsByTagName(e)).length;s<o;s+=1)(l=a[s]).getAttribute("name")==r&&l.setAttribute(n,i)},p.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var r,n,i,s;for(r=0,n=(s=t.childNodes).length;r<n;r+=1)(i=s[r])&&i.nodeType!=i.TEXT_NODE&&this.hasAttributes(i)&&i.getAttribute("name")==e&&t.removeChild(s[r])},p.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},p.XmlDOM.prototype.setAttribute=function(t,e,r){return t.ownerDocument||(t=t.firstChild),["function","unknown"].indexOf(typeof t.setAttribute)>-1&&t.setAttribute(e,r),!1},p.XmlDOM.prototype.nodeCopy=function(t){return t.cloneNode(!0)},p.XmlDOM.prototype.getNodesByName=function(t,e,r){var n,i,s,o,a;for(n=[],o=0,a=(i=t.getElementsByTagName(e)).length;o<a;o+=1)s=i.item(o),(!r||this.hasAttributes(s)&&s.getAttribute("name")==r)&&n.push(s);return n},p.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName},p.XmlDOM.prototype.makeXml=function(t){return t||(t="<docco><bogus/></docco>"),t=t.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(t,"application/xml").firstChild},p.XmlDOM.prototype.insertChildNodeAfter=function(t,e,r,n){var i;return i=this.importNode(e.ownerDocument,n),t.replaceChild(i,e),t},p.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),r=0,n=e.length;r<n;r+=1){for(var i=e.item(r),s=[],o=0,a=i.childNodes.length;o<a;o+=1)1!==i.childNodes.item(o).nodeType&&s.push(o);if(i.childNodes.length-s.length==2){var l=[];for(o=0,a=2;o<a;o+=1)if(!(s.indexOf(o)>-1)){for(var u=i.childNodes.item(o),c=[],p=0,h=u.childNodes.length;p<h;p+=1)1!==u.childNodes.item(p).nodeType&&c.push(p);if(u.childNodes.length-c.length==0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&i.setAttribute("has-publisher-and-publisher-place",!0)}}},p.XmlDOM.prototype.isChildOfSubstitute=function(t){return!!t.parentNode&&("substitute"===t.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(t.parentNode))},p.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),r=0,n=e.length;r<n;r+=1){var i=e.item(r),s=i.getElementsByTagName("name");if(!(s&&0!==s.length||this.isChildOfSubstitute(i))){var o=i.ownerDocument.createElement("name");i.appendChild(o)}}},p.XmlDOM.prototype.addInstitutionNodes=function(t){var e,r,n,i,s,o,a;for(o=0,a=(e=t.getElementsByTagName("names")).length;o<a;o+=1)if(0!=(i=(r=e.item(o)).getElementsByTagName("name")).length&&0==r.getElementsByTagName("institution").length){n=this.importNode(t.ownerDocument,this.institution),theinstitutionpart=n.getElementsByTagName("institution-part").item(0),s=i.item(0),r.insertBefore(n,s.nextSibling);for(var l=0,u=p.INSTITUTION_KEYS.length;l<u;l+=1)(m=s.getAttribute(d=p.INSTITUTION_KEYS[l]))&&theinstitutionpart.setAttribute(d,m);var c=s.getElementsByTagName("name-part");for(l=0,u=c.length;l<u;l+=1)if("family"===c[l].getAttribute("name"))for(var h=0,f=p.INSTITUTION_KEYS.length;h<f;h+=1){var d,m;(m=c[l].getAttribute(d=p.INSTITUTION_KEYS[h]))&&theinstitutionpart.setAttribute(d,m)}}},p.XmlDOM.prototype.flagDateMacros=function(t){var e,r,n;for(nodes=t.getElementsByTagName("macro"),e=0,r=nodes.length;e<r;e+=1)(n=nodes.item(e)).getElementsByTagName("date").length&&n.setAttribute("macro-has-date","true")},t.exports=p,t.exports=p,p.setupXml=function(t){var e={},r=null;if(void 0!==t?"string"==typeof t?(e="<"===(t=t.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?p.parseXml(t):JSON.parse(t),r=new p.XmlJSON(e)):r=void 0!==t.getAttribute?new p.XmlDOM(t):void 0!==t.toXMLString?new p.XmlE4X(t):new p.XmlJSON(t):p.error("unable to parse XML input"),!r)throw"citeproc-js error: unable to parse CSL style or locale object";return r},t.exports=p,p.getSortCompare=function(t){if(p.stringCompare)return p.stringCompare;var e,r={sensitivity:"base",ignorePunctuation:!0,numeric:!0};t||(t="en-US");var n=function(t){return t.replace(/^[\[\]\'\"]*/g,"")},i=!!(e=function(e,n){return e.toLocaleLowerCase().localeCompare(n.toLocaleLowerCase(),t,r)})("[x","x")&&function(t,r){return e(n(t),n(r))};return function(t,r){return i?i(t,r):e(t,r)}},t.exports=p,p.ambigConfigDiff=function(t,e){var r,n,i,s;if(t.names.length!==e.names.length)return 1;for(r=0,n=t.names.length;r<n;r+=1){if(t.names[r]!==e.names[r])return 1;for(i=0,s=t.givens[r];i<s;i+=1)if(t.givens[r][i]!==e.givens[r][i])return 1}return t.disambiguate!=e.disambiguate?1:t.year_suffix!==e.year_suffix?1:0},p.cloneAmbigConfig=function(t,e,r){var n,i,s,o,a,l={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(n=0,i=t.names.length;n<i;n+=1)l.names[n]=a=t.names[n];for(n=0,i=t.givens.length;n<i;n+=1){for(a=[],s=0,o=t.givens[n].length;s<o;s+=1)a.push(t.givens[n][s]);l.givens.push(a)}return e?(l.year_suffix=e.year_suffix,l.disambiguate=e.disambiguate):(l.year_suffix=t.year_suffix,l.disambiguate=t.disambiguate),l},p.getAmbigConfig=function(){var t;return(t=this.tmp.disambig_request)||(t=this.tmp.disambig_settings),p.cloneAmbigConfig(t)},p.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},p.getMinVal=function(){return this.tmp["et-al-min"]},t.exports=p,p.tokenExec=function(t,e,r){var n,i;n=t.next,i=!1,t.test&&(n=(function(e){return e?(this.tmp.jump.replace("succeed"),t.succeed):(this.tmp.jump.replace("fail"),t.fail)}).call(this,t.test(e,r)));for(var s=0,o=t.execs.length;s<o;s++)(i=t.execs[s].call(t,this,e,r))&&(n=i);return n},p.expandMacro=function(t,e){var r,n,i;r=t.postponed_macro,t=new p.Token("group",p.START);var s=!1,o=!1;if((n=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",r)).length&&(o=this.cslXml.getAttributeValue(n[0],"cslid"),s=this.cslXml.getAttributeValue(n[0],"macro-has-date")),s&&(r=r+"@"+this.build.current_default_locale,t.execs.push(u=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)})),this.build.macro_stack.indexOf(r)>-1)throw'CSL processor error: call to macro "'+r+'" would cause an infinite loop';if(this.build.macro_stack.push(r),t.cslid=o,p.MODULE_MACROS[r]&&(t.juris=r,this.opt.update_mode=p.POSITION),p.Node.group.build.call(t,this,e,!0),!this.cslXml.getNodeValue(n))throw'CSL style error: undefined macro "'+r+'"';var a,l=p.getMacroTarget.call(this,r);if(l&&(p.buildMacro.call(this,l,n),p.configureMacro.call(this,l)),!this.build.extension){var u=(a=r,function(t,e,r){for(var n=0;n<t.macros[a].length;)n=p.tokenExec.call(t,t.macros[a][n],e,r)}),c=new p.Token("text",p.SINGLETON);c.execs.push(u),e.push(c)}i=new p.Token("group",p.END),s&&i.execs.push(u=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)}),t.juris&&(i.juris=r),p.Node.group.build.call(i,this,e,!0),this.build.macro_stack.pop()},p.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(this.macros[t]=e=[]),e},p.buildMacro=function(t,e){p.makeBuilder(this,t)(void 0===e.length?e:e[0])},p.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},p.XmlToToken=function(t,e,r,n){var i,s,o,a,l;if(i=t.cslXml.nodename(this),!t.build.skip||t.build.skip===i)if(i){if(!p.Node[t.cslXml.nodename(this)])throw'Undefined node name "'+i+'".';if(o=t.cslXml.attributes(this),a=p.setDecorations.call(this,t,o),l=new p.Token(i,e),e!==p.END||"if"===i||"else-if"===i||"layout"===i){for(var u in o)if(o.hasOwnProperty(u)){if(e===p.END&&"@language"!==u&&"@locale"!==u)continue;if(o.hasOwnProperty(u))if(p.Attributes[u])try{p.Attributes[u].call(l,t,""+o[u])}catch(c){throw p.error(c),"CSL processor error, "+u+" attribute: "+c}else p.debug('warning: undefined attribute "'+u+'" in style')}l.decorations=a,p.DATE_VARIABLES.indexOf(o["@variable"])>-1&&n.push(l.variables)}else e===p.END&&o["@variable"]&&(l.hasVariable=!0,p.DATE_VARIABLES.indexOf(o["@variable"])>-1&&(l.variables=n.pop()));p.Node[i].build.call(l,t,r||t[t.build.area].tokens,!0)}else(s=t.cslXml.content(this))&&(t.build.text=s)},t.exports=p,p.DateParser=new function(){for(var t=[["\u660e\u6cbb",1867],["\u5927\u6b63",1911],["\u662d\u548c",1925],["\u5e73\u6210",1988]],e={},r=0,n=t.length;r<n;r++)e[t[r][0]]=t[r][1];var i=[];for(r=0,n=t.length;r<n;r++)i.push(t[r][0]);var s=i.join("|"),o=new RegExp("(?:"+s+")(?:[0-9]+)"),a=new RegExp("(?:"+s+")(?:[0-9]+)","g"),l=/(\u6708|\u5E74)/g,u=/\u65E5/g,c=/\u301c/g,h="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",f=new RegExp(h.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),d=new RegExp(h.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),m=new RegExp(h.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;t<e;t++)this.monthSets.push([this.monthStrings[t]]);for(this.monthAbbrevs=[],t=0,e=this.monthSets.length;t<e;t++){this.monthAbbrevs.push([]);for(var r=0,n=this.monthSets[t].length;r<n;r++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}for(this.monthRexes=[],t=0,e=this.monthAbbrevs.length;t<e;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12===t.length||16===t.length){for(var e=0,r=t.length;e<r;e++){for(var n=null,i=!1,s=3,o={},a=0,l=this.monthAbbrevs.length;a<l;a++){if(o[a]={},a===e){for(var u=0,c=this.monthAbbrevs[e].length;u<c;u++)if(this.monthAbbrevs[e][u]===t[e].slice(0,this.monthAbbrevs[e][u].length)){i=!0;break}}else for(u=0,c=this.monthAbbrevs[a].length;u<c;u++)if(this.monthAbbrevs[a][u]===t[e].slice(0,n=this.monthAbbrevs[a][u].length)){for(;this.monthSets[a][u].slice(0,n)===t[e].slice(0,n);){if(n>t[e].length||n>this.monthSets[a][u].length){p.debug("unable to disambiguate month string in date parser: "+t[e]);break}n+=1}s=n,o[a][u]=n}for(var h in o)for(kKey in o[h])n=o[h][kKey],h=parseInt(h,10),kKey=parseInt(kKey,10),this.monthAbbrevs[h][kKey]=this.monthSets[h][kKey].slice(0,n)}i||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,s)))}for(this.monthRexes=[],this.monthRexStrs=[],e=0,r=this.monthAbbrevs.length;e<r;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(e=12,r=14;e<r;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"}else p.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e,r=0,n=0,i=3;n<i&&t[e=["year","month","day"][n]];n++)r+=1,t["date-parts"][0].push(t[e]),delete t[e];for(t["date-parts"].push([]),n=0,i=r;n<i&&t[e=["year_end","month_end","day_end"][n]];n++)t["date-parts"][1].push(t[e]),delete t[e];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],r=0;r<3&&t[DATE_PARTS_ALL[r]];r+=1)e.push(t[DATE_PARTS_ALL[r]]);return e.join("-")},this._parseNumericDate=function(t,e,r,n){r||(r="");for(var i=n.split(e),s=0,o=i.length;s<o;s++)if(4===i[s].length){t["year"+r]=i[s].replace(/^0*/,""),i=s?i.slice(0,s):i.slice(1);break}for(s=0,o=i.length;s<o;s++)i[s]=parseInt(i[s],10);1===i.length||2===i.length&&!i[1]?t["month"+r]=""+i[0]:2===i.length&&(i[this.monthGuess]>12?(t["month"+r]=""+i[this.dayGuess],t["day"+r]=""+i[this.monthGuess]):(t["month"+r]=""+i[this.monthGuess],t["day"+r]=""+i[this.dayGuess]))},this.parseDateToObject=function(t){var e,r=t,n=-1,i=-1,s=!1;if(t){if("-"===t.slice(0,1)&&(s=!0,t=t.slice(1)),t.match(/^[0-9]{1,3}$/))for(;t.length<4;)t="0"+t;if(C=(t=(t=""+t).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(l)){var h=(t=(t=(t=(t=(t=(t=t.replace(/\s+/g,"")).replace(u,"")).replace(l,"-")).replace(c,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(o);e=[];var g=t.match(a);if(g){for(var b=[],v=0,y=g.length;v<y;v++)b=b.concat(g[v].match(/([^0-9]+)([0-9]+)/).slice(1));for(v=0,y=h.length;v<y;v++)if(e.push(h[v]),v!==len-1){var _=2*pos;e.push(b[_]),e.push(b[_+1])}}else e=h;for(v=1,y=e.length;v<y;v+=3)e[v+1]=jiy[e[v]]+parseInt(e[v+1],10),e[v]="";n=(t=(t=(t=(t=e.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),i=t.indexOf("-")}}var x,w,E="",A="",S={};if('"'===(t=t.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===t.slice(-1))return S.literal=t.slice(1,-1),S;n>-1&&i>-1?t.split("/").length>3?(x="-",w="/",e=(t=t.replace(/\_/g,"-")).split(m)):(x="/",w="-",e=(t=t.replace(/\_/g,"/")).split(d)):(x="-",w="-",e=(t=(t=t.replace(/\//g,"-")).replace(/\_/g,"-")).split(f));var O=[];for(v=0,y=e.length;v<y;v++){var C;(C=e[v].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&O.push(C[1])}var T=O.indexOf(x),k=[],I=!1;T>-1?(k.push([0,T]),k.push([T+1,O.length]),I=!0):k.push([0,O.length]);var N="";for(v=0,y=k.length;v<y;v++){var P=k[v],D=O.slice(P[0],P[1]);t:for(var R=0,j=D.length;R<j;R++){var M=D[R];if(M.indexOf(w)>-1)this._parseNumericDate(S,w,N,M);else if(M.match(/[0-9]{4}/))S["year"+N]=M.replace(/^0*/,"");else{for(var L=0,F=this.monthRexes.length;L<F;L++)if(M.toLocaleLowerCase().match(this.monthRexes[L])){S["month"+N]=""+(parseInt(L,10)+1);continue t}M.match(/^[0-9]+$/)&&(E=M),M.toLocaleLowerCase().match(/^bc/)&&E?(S["year"+N]=""+-1*E,E=""):M.toLocaleLowerCase().match(/^ad/)&&E?(S["year"+N]=""+E,E=""):"~"===M||"?"===M||"c"===M||M.match(/^cir/)?S.circa="1":!M.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||S["season"+N]||(A=M)}}E&&(S["day"+N]=E,E=""),A&&!S["season"+N]&&(S["season"+N]=A,A=""),N="_end"}if(I)for(R=0,j=p.DATE_PARTS_ALL.length;R<j;R++){var U=p.DATE_PARTS_ALL[R];S[U]&&!S[U+"_end"]?S[U+"_end"]=S[U]:!S[U]&&S[U+"_end"]&&(S[U]=S[U+"_end"])}(!S.year||S.year&&S.day&&!S.month)&&(S={literal:r});var B=["year","month","day","year_end","month_end","day_end"];for(v=0,y=B.length;v<y;v++){var z=B[v];"string"==typeof S[z]&&S[z].match(/^[0-9]+$/)&&(S[z]=parseInt(S[z],10))}return s&&Object.keys(S).indexOf("year")>-1&&(S.year=-1*S.year),S},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},t.exports=p,p.Engine=function(t,e,r,n){var i,s;this.processor_version=p.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,t.variableWrapper&&(p.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(p.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),p.retrieveStyleModule&&(this.sys.retrieveStyleModule=p.retrieveStyleModule),p.getAbbreviation&&(this.sys.getAbbreviation=p.getAbbreviation),this.sys.stringCompare&&(p.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=p.AbbreviationSegments,this.parallel=new p.Parallel(this),this.transform=new p.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new p.Engine.Opt,this.tmp=new p.Engine.Tmp,this.build=new p.Engine.Build,this.fun=new p.Engine.Fun(this),this.configure=new p.Engine.Configure,this.citation_sort=new p.Engine.CitationSort,this.bibliography_sort=new p.Engine.BibliographySort,this.citation=new p.Engine.Citation(this),this.bibliography=new p.Engine.Bibliography,this.output=new p.Output.Queue(this),this.dateput=new p.Output.Queue(this),this.cslXml=p.setupXml(e),(this.opt.development_extensions.csl_reverse_lookup_support||this.sys.csl_reverse_lookup_support)&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var r=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var n=0,i=this.cslXml.numberofnodes(r);n<i;n+=1)(e=this.cslXml.nodename(r[n]))&&this.setCslNodeIds(r[n],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),void 0===this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.rtl_support=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),r&&(r=r.replace("_","-"),r=p.normalizeLocaleStr(r)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=p.normalizeLocaleStr(this.opt["default-locale"][0])),r&&n&&(this.opt["default-locale"]=[r]),r&&!n&&this.opt["default-locale"][0]&&(r=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(r||(r="en-US"),this.opt["default-locale"].push("en-US")),r||(r=this.opt["default-locale"][0]),i=p.localeResolve(r),this.opt.lang=i.best,this.opt["default-locale"][0]=i.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),this.opt.sort_sep="dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?"@":"|",this.localeConfigure(i),this.locale[this.opt.lang].opts["skip-words-regexp"]=(s=(s=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+s.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new p.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new p.Registry(this),this.macros={},this.build.area="citation";var o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(o,this[this.build.area].tokens),this.build.area="bibliography",o=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area),this.buildTokenLists(o,this[this.build.area].tokens),this.juris={},this.configureTokenLists(),this.disambiguate=new p.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=p.DateParser,this.fun.flipflopper=new p.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=p.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=p.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},p.Engine.prototype.setCloseQuotesArray=function(){var t;(t=[]).push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},p.makeBuilder=function(t,e){var r=[];return function n(i){var s;if(t.cslXml.numberofnodes(t.cslXml.children(i))){!function(n){p.XmlToToken.call(n,t,p.START,e,r)}(s=i);for(var o=0;o<t.cslXml.numberofnodes(t.cslXml.children(s));o+=1)i=t.cslXml.children(s)[o],null!==t.cslXml.nodename(i)&&("date"===t.cslXml.nodename(i)&&(p.Util.fixDateNode.call(t,s,o,i),i=t.cslXml.children(s)[o]),n(i));p.XmlToToken.call(s,t,p.END,e,r)}else!function(n){p.XmlToToken.call(n,t,p.SINGLETON,e,r)}(i)}},p.Engine.prototype.buildTokenLists=function(t,e){this.cslXml.getNodeValue(t)&&p.makeBuilder(this,e)(void 0===t.length?t:t[0])},p.Engine.prototype.setStyleAttributes=function(){var t,e,r={};for(e in r.name=this.cslXml.nodename(this.cslXml.dataObj),t=this.cslXml.attributes(this.cslXml.dataObj))t.hasOwnProperty(e)&&p.Attributes[e].call(r,this,t[e])},p.Engine.prototype.getTerm=function(t,e,r,n,i,s){t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(p.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase());var o=p.Engine.getField(p.LOOSE,this.locale[s?this.opt["default-locale"][0]:this.opt.lang].terms,t,e,r,n);if(o||"range-delimiter"!==t||(o="\u2013"),void 0===o){if(i===p.STRICT)throw'Error in getTerm: term "'+t+'" does not exist.';i===p.TOLERANT&&(o="")}return o&&(this.tmp.cite_renders_content=!0),o},p.Engine.prototype.getDate=function(t,e){var r;return!!this.locale[r=e?this.opt["default-locale"]:this.opt.lang].dates[t]&&this.locale[r].dates[t]},p.Engine.prototype.getOpt=function(t){return void 0!==this.locale[this.opt.lang].opts[t]&&this.locale[this.opt.lang].opts[t]},p.Engine.prototype.getVariable=function(t,e,r,n){return p.Engine.getField(p.LOOSE,t,e,r,n)},p.Engine.prototype.getDateNum=function(t,e){return void 0===t?0:t[e]},p.Engine.getField=function(t,e,r,n,i,s){var o,a,l,u,c,h;if(o="",void 0!==e[r]){for(h=s&&e[r][s]?e[r][s]:e[r],a=[],"symbol"===n?a=["symbol","short"]:"verb-short"===n?a=["verb-short","verb"]:"long"!==n&&(a=[n]),c=(a=a.concat(["long"])).length,u=0;u<c;u+=1)if(l=a[u],"string"==typeof h||"number"==typeof h)o=h;else if(void 0!==h[l]){o="string"==typeof h[l]||"number"==typeof h[l]?h[l]:"number"==typeof i?h[l][i]:h[l][0];break}return o}if(t===p.STRICT)throw'Error in getField: term "'+r+'" does not exist.'},p.Engine.prototype.configureTokenLists=function(){var t,e;for(e=p.AREAS.length,t=0;t<e;t+=1)this.configureTokenList(this[p.AREAS[t]].tokens);return this.version=p.version,this.state},p.Engine.prototype.configureTokenList=function(t){var e,r,n,i,s,o;for(e=["year","month","day"],i=t.length-1;i>-1;i+=-1){if("date"===(r=t[i]).name&&p.END===r.tokentype&&(n=[]),"date-part"===r.name&&r.strings.name)for(o=e.length,s=0;s<o;s+=1)e[s]===r.strings.name&&n.push(r.strings.name);"date"===r.name&&p.START===r.tokentype&&(n.reverse(),r.dateparts=n),r.next=i+1,r.name&&p.Node[r.name].configure&&p.Node[r.name].configure.call(r,this,i)}},p.Engine.prototype.retrieveItems=function(t){var e;e=[];for(var r=0,n=t.length;r<n;r+=1)e.push(this.retrieveItem(""+t[r]));return e},p.ITERATION=0,p.Engine.prototype.retrieveItem=function(t){var e,r;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var n=0,i=this.opt["default-locale"].length;n<i;n+=1)this.opt["default-locale"][n]=this.opt["default-locale"][n].toLowerCase();for(n=0,i=this.opt["locale-translit"].length;n<i;n+=1)this.opt["locale-translit"][n]=this.opt["locale-translit"][n].toLowerCase();for(n=0,i=this.opt["locale-translat"].length;n<i;n+=1)this.opt["locale-translat"][n]=this.opt["locale-translat"][n].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(p.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var s in e.multi._keys)for(var o in e.multi._keys[s])o!==o.toLowerCase()&&(e.multi._keys[s][o.toLowerCase()]=e.multi._keys[s][o],delete e.multi._keys[s][o]);if(e.multi.main)for(var s in e.multi.main)e.multi.main[s]=e.multi.main[s].toLowerCase()}for(n=0,i=p.NAME_VARIABLES.length;n>i;n+=1){var a=p.NAME_VARIABLES[n];if(e[a]&&e[a].multi)for(var l=0,u=e[a].length;l<u;l+=1){var c=e[a][l];if(c.multi){if(c.multi._key)for(var o in c.multi._key)o!==o.toLowerCase()&&(c.multi._key[o.toLowerCase()]=c.multi._key[o],delete c.multi._key[o]);c.multi.main&&(c.multi.main=c.multi.main.toLowerCase())}}}}if(e.language){var h=e.language.split("<");h.length>0&&(e["language-name"]=h[0]),2===h.length&&(e["language-name-original"]=h[1])}for(e.page&&(e["page-first"]=e.page,"\\"!==(r=(""+e.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(e["page-first"]=r[0])),this.opt.development_extensions.field_hack&&e.note&&p.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override),n=1,i=p.DATE_VARIABLES.length;n<i;n+=1){var f=e[p.DATE_VARIABLES[n]];f&&(this.opt.development_extensions.raw_date_parsing&&f.raw&&(f=this.fun.dateparser.parseDateToObject(f.raw)),e[p.DATE_VARIABLES[n]]=this.dateParseArray(f))}if(this.opt.development_extensions.static_statute_locator&&e.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1){var d,m=["type","title","jurisdiction","genre","volume","container-title"],g=[];for(n=0,i=m.length;n<i;n+=1)e[d=m[n]]&&g.push(e[d]);for(m=["original-date","issued"],n=0;n<i;n+=1)if(e[d=m[n]]&&e[d].year){g.push(e[d].year);break}e.legislation_id=g.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof e.authority&&(e.authority=[{literal:e.authority,multi:{_key:{}}}],e.multi&&e.multi._keys&&e.multi._keys.authority))for(var o in e.authority[0].multi._key={},e.multi._keys.authority)e.authority[0].multi._key[o]={literal:e.multi._keys.authority[o]};e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title&&p.extractTitleAndSubtitle(e);var b,v=["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&v&&(e.jurisdiction||(e.jurisdiction="us")),!v&&e.title&&this.sys.getAbbreviation){b=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e.title):e.title;var y=this.transform.loadAbbreviation(e.jurisdiction,"title",b,e.type);this.transform.abbrevs[y].title&&this.transform.abbrevs[y].title[b]&&(e["title-short"]=this.transform.abbrevs[y].title[b])}return e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation&&(b=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e["container-title"]):e["container-title"],y=this.transform.loadAbbreviation(e.jurisdiction,"container-title",b),this.transform.abbrevs[y]["container-title"]&&this.transform.abbrevs[y]["container-title"][b]&&(e["container-title-short"]=this.transform.abbrevs[y]["container-title"][b])),e.jurisdiction&&(e.country=e.jurisdiction.split(":")[0]),this.registry.refhash[t]=e,e},p.Engine.prototype.setOpt=function(t,e,r){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=r,this.citation.opt.inheritedAttributes[e]=r,this.bibliography.opt.inheritedAttributes[e]=r):["citation","bibliography"].indexOf(t.name)>-1?this[t.name].opt.inheritedAttributes[e]=r:t.strings[e]=r},p.Engine.prototype.inheritOpt=function(t,e,r,n){if(void 0!==t.strings[e])return t.strings[e];var i=this[this.tmp.root].opt.inheritedAttributes[r||e];return void 0!==i?i:n},t.exports=p,p.Engine.prototype.remapSectionVariable=function(t){for(var e=0,r=t.length;e<r;e+=1){var n=t[e][0],i=t[e][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(n.type)>-1){i.locator&&(i.locator=i.locator.trim(),(o=i.locator.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(i.locator=i.label?p.STATUTE_SUBDIV_STRINGS_REVERSE[i.label]+" "+i.locator:"p. "+i.locator));var s=null;if(n.section&&(n.section=n.section.trim(),(o=n.section.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?s=o[0].trim():(n.section="sec. "+n.section,s="sec.")),n.section)if(i.locator){var o,a=" ";(o=i.locator.match(/^([^ ]*)\s*(.*)/))?("p."===o[1]&&"p."!==s&&(i.locator=o[2]),["[","(",".",",",";",":","?"].indexOf(i.locator.slice(0,1))>-1&&(a="")):a="",i.locator=n.section+a+i.locator}else i.locator=n.section;i.label=""}}},p.Engine.prototype.setNumberLabels=function(t){if(t.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number,r=(e=e.split("\\").join("")).split(/\s+/)[0],n=p.STATUTE_SUBDIV_STRINGS[r];if(n){var i=e.match(p.STATUTE_SUBDIV_GROUPED_REGEX),s=e.split(p.STATUTE_SUBDIV_PLAIN_REGEX);if(s.length>1){for(var o=[],a=1,l=s.length;a<l;a+=1)i[a-1].replace(/^\s*/,""),o.push(s[a].replace(/\s*$/,"").replace(/^\s*/,""));e=o.join(" ")}else e=s[0];this.tmp.shadow_numbers.number.label=n,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},t.exports=p,p.substituteOne=function(t){return function(e,r){return r?t.replace("%%STRING%%",r):""}},p.substituteTwo=function(t){return function(e){var r=t.replace("%%PARAM%%",e);return function(t,e){return e?r.replace("%%STRING%%",e):""}}},p.Mode=function(t){var e,r,n,i,s,o;for(n in e={},r=p.Output.Formats[t])if("@"===n.slice(0,1)){if(i=!1,s=r[n],o=n.split("/"),"string"==typeof s&&s.indexOf("%%STRING%%")>-1)i=s.indexOf("%%PARAM%%")>-1?p.substituteTwo(s):p.substituteOne(s);else if("boolean"!=typeof s||s){if("function"!=typeof s)throw"CSL.Compiler: Bad "+t+" config entry for "+n+": "+s;i=s}else i=p.Output.Formatters.passthrough;1===o.length?e[o[0]]=i:2===o.length&&(e[o[0]]||(e[o[0]]={}),e[o[0]][o[1]]=i)}else e[n]=r[n];return e},p.setDecorations=function(t,e){var r,n;for(n in r=[],p.FORMAT_KEY_SEQUENCE){var i;e[i=p.FORMAT_KEY_SEQUENCE[n]]&&(r.push([i,e[i]]),delete e[i])}return r},p.Doppeler=function(t,e){this.split=function(t){e&&(t=e(t));var i=t.match(r);if(!i)return{tags:[],strings:[t]};for(var s=t.split(n),o=i.length-1;o>-1;o--)"number"==typeof i[o]&&(i[o]=""),"'"===i[o]&&s[o+1].length>0&&(s[o+1]=i[o]+s[o+1],i[o]="");return{tags:i,strings:s,origStrings:s.slice()}},this.join=function(t){for(var e=t.strings.slice(-1),r=t.tags.length-1;r>-1;r--)e.push(t.tags[r]),e.push(t.strings[r]);return e.reverse(),e.join("")};var r=new RegExp("("+t+")","g"),n=new RegExp(t,"g")},p.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){for(var r,n=!1,i=(r="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor).length-1;i>-1;i+=-1)for(var s=r[i].length-1;s>-1;s+=-1)r[i][s][0]===e[0]&&"normal"!==r[i][s][1]&&(n=!0);if(!n)return!0}return!1},t.exports=p,p.Engine.prototype.getCitationLabel=function(t){var e="",r=this.getTrigraphParams(),n=r[0],i=this.getTerm("reference","short",0);void 0===i&&(i="reference"),i=(i=i.replace(".","")).slice(0,1).toUpperCase()+i.slice(1);for(var s=0,o=p.NAME_VARIABLES.length;s<o;s+=1){var a=p.NAME_VARIABLES[s];if(t[a]){var l=t[a];n=l.length>r.length?r[r.length-1]:r[l.length-1];for(var u=0,c=l.length;u<c&&u!==n.authors.length;u+=1){var h=this.nameOutput.getName(l[u],"locale-translit",!0).name;h&&h.family?i=(i=h.family).replace(/^([ \'\u2019a-z]+\s+)/,""):h&&h.literal&&(i=h.literal);var f=i.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(f&&(i=i.slice(f[1].length)),!(i=i.replace(p.ROMANESQUE_NOT_REGEXP,"")))break;(i=i.slice(0,n.authors[u])).length>1?i=i.slice(0,1).toUpperCase()+i.slice(1).toLowerCase():1===i.length&&(i=i.toUpperCase()),e+=i}break}}if(!e&&t.title){var d=this.locale[this.opt.lang].opts["skip-words"],m=t.title.split(/\s+/);for(s=m.length-1;s>-1;s--)d.indexOf(m[s])>-1&&(m=m.slice(0,s).concat(m.slice(s+1)));var g=m.join("");(g=g.slice(0,r[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),e=g}var b="0000";return t.issued&&t.issued.year&&(b=""+t.issued.year),e+b.slice(-1*n.year)},p.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");if(!this.opt.trigraph||"A"!==this.opt.trigraph.slice(0,1))throw"Bad trigraph definition: "+this.opt.trigraph;for(var r=0,n=e.length;r<n;r+=1){for(var i=e[r],s={authors:[],year:0},o=0,a=i.length;o<a;o+=1)switch(i.slice(o,o+1)){case"A":s.authors.push(1);break;case"a":s.authors[s.authors.length-1]+=1;break;case"0":s.year+=1;break;default:throw"Invalid character in trigraph definition: "+this.opt.trigraph}t.push(s)}return t},t.exports=p,p.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=p.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},p.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},p.Engine.prototype.setLangTagsForCslSort=function(t){var e,r;if(t)for(this.opt["locale-sort"]=[],e=0,r=t.length;e<r;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,r;if(this.opt["locale-translit"]=[],t)for(e=0,r=t.length;e<r;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,r;if(this.opt["locale-translat"]=[],t)for(e=0,r=t.length;e<r;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},p.Engine.prototype.setLangPrefsForCites=function(t,e){var r=this.opt["cite-lang-prefs"];e||(e=function(t){return t.toLowerCase()});for(var n=["Persons","Institutions","Titles","Journals","Publishers","Places"],i=0,s=n.length;i<s;i+=1){var o=e(n[i]),a=n[i].toLowerCase();if(t[o]){for(var l=[];t[o].length>1;)l.push(t[o].pop());var u={orig:1,translit:2,translat:3};for(2===l.length&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)t[o].push(l.pop());for(var c=r[a];c.length;)c.pop();for(var p=0,h=t[o].length;p<h;p+=1)c.push(t[o][p])}}},p.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e=this.opt.citeAffixes,r=0,n=["persons","institutions","titles","journals","publishers","places"],i=["translit","orig","translit","translat"],s=0,o=n.length;s<o;s+=1)for(var a=0,l=i.length;a<l;a+=1)r%8==4&&(e[n[s]]["locale-"+i[a]].prefix||e[n[s]]["locale-"+i[a]].suffix)||(e[n[s]]["locale-"+i[a]].prefix=t[r]?t[r]:"",e[n[s]]["locale-"+i[a]].suffix=t[r]?t[r+1]:""),r+=2;this.opt.citeAffixes=e}},p.Engine.prototype.setAutoVietnameseNamesOption=function(t){this.opt["auto-vietnamese-names"]=!!t},p.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},p.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},t.exports=p,p.Output={},p.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new p.Token("empty");var e={};e.empty=this.empty,this.formats=new p.Stack(e),this.current=new p.Stack(this.queue)},p.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},p.Output.Queue.prototype.getToken=function(t){return this.formats.value()[t]},p.Output.Queue.prototype.mergeTokenStrings=function(t,e){var r,n,i;if(i=r=this.formats.value()[t],n=this.formats.value()[e]){r||((r=new p.Token(t,p.SINGLETON)).decorations=[]),i=new p.Token(t,p.SINGLETON);var s="";for(var s in r.strings)r.strings.hasOwnProperty(s)&&(i.strings[s]=r.strings[s]);for(var s in n.strings)n.strings.hasOwnProperty(s)&&(i.strings[s]=n.strings[s]);i.decorations=r.decorations.concat(n.decorations)}return i},p.Output.Queue.prototype.addToken=function(t,e,r){var n,i;if(n=new p.Token("output"),"string"==typeof r&&(r=this.formats.value()[r]),r&&r.strings){for(i in r.strings)r.strings.hasOwnProperty(i)&&(n.strings[i]=r.strings[i]);n.decorations=r.decorations}"string"==typeof e&&(n.strings.delimiter=e),this.formats.value()[t]=n},p.Output.Queue.prototype.pushFormats=function(t){t||(t={}),t.empty=this.empty,this.formats.push(t)},p.Output.Queue.prototype.popFormats=function(t){this.formats.pop()},p.Output.Queue.prototype.startTag=function(t,e){var r={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),r[t]=e,this.pushFormats(r),this.openLevel(t)},p.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},p.Output.Queue.prototype.openLevel=function(t,e){var r,n;if("object"==typeof t)r=new p.Blob(void 0,t);else if(void 0===t)r=new p.Blob(void 0,this.formats.value().empty,"empty");else{if(!this.formats.value()||!this.formats.value()[t])throw'CSL processor error: call to nonexistent format token "'+t+'"';r=new p.Blob(void 0,this.formats.value()[t],t)}n=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(r.strings.prefix=this.checkNestedBrace.update(r.strings.prefix)),n.push(r),this.current.push(r)},p.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&p.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},p.Output.Queue.prototype.append=function(t,e,r,n,i){var s,o,a,l=!0;if(r&&(n=!0),this.state.tmp["doing-macro-with-date"]&&!r){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if(void 0===t)return!1;if("number"==typeof t&&(t=""+t),!r&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(o=!1,e?"literal"===e?(s=!0,l=!1):s="string"==typeof e?this.formats.value()[e]:e:s=this.formats.value().empty,!s)throw"CSL processor error: unknown format token name: "+e;if(s.strings&&void 0===s.strings.delimiter&&(s.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g,"\u202f$1").replace(/\u00ab /g,"\xab\u202f"),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g," '"),r||(t=t.replace(/^'/g," '")),n?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),o=new p.Blob(t,s),void 0===(a=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),a=this.current.value()),"string"==typeof o.blobs&&(n?r&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),r||this.state.parallel.AppendBlobPointer(a),"string"==typeof t){if("string"==typeof o.blobs&&" "!==o.blobs.slice(0,1)){for(var u="",c=o.blobs;p.TERMINAL_PUNCTUATION.indexOf(c.slice(0,1))>-1;)u+=c.slice(0,1),c=c.slice(1);c&&u&&(o.strings.prefix=o.strings.prefix+u,o.blobs=c)}o.strings["text-case"]&&(o.blobs=p.Output.Formatters[o.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!i&&(o.blobs=o.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var h=o.decorations.length-1;h>-1;h+=-1)"@quotes"===o.decorations[h][0]&&"false"!==o.decorations[h][1]&&(o.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),o.blobs.match(p.ROMANESQUE_REGEXP)||"@font-style"===o.decorations[h][0]&&(o.decorations=o.decorations.slice(0,h).concat(o.decorations.slice(h+1)));a.push(o),this.state.fun.flipflopper.processTags(o)}else a.push(l?o:t);return!0},p.Output.Queue.prototype.string=function(t,e,r){var n,i=p.getSafeEscape(this.state),s=e.slice(),o=[];if(0===s.length)return o;var a,l,u,c,h="";r?h=r.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),r&&r.new_locale&&(r.old_locale=t.opt.lang,t.opt.lang=r.new_locale);for(var f=0,d=s.length;f<d;f+=1){if((a=s[f]).strings.first_blob&&(t.tmp.count_offset_characters=a.strings.first_blob),"string"==typeof a.blobs){if("number"==typeof a.num)o.push(a);else if(a.blobs){a.particle&&(a.blobs=a.particle+a.blobs,a.particle="");var m=(n=i(a.blobs)).length;if(!t.tmp.suppress_decorations)for(v=0,y=a.decorations.length;v<y;v+=1)"@showid"!==(c=a.decorations[v])[0]&&(t.normalDecorIsOrphan(a,c)||(n=t.fun.decorate[c[0]][c[1]].call(a,t,n,c[2])));if(n&&n.length){if(n=i(a.strings.prefix)+n+i(a.strings.suffix),(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&!t.tmp.suppress_decorations)for(v=0,y=a.decorations.length;v<y;v+=1)"@showid"===(c=a.decorations[v])[0]&&(n=t.fun.decorate[c[0]][c[1]].call(a,t,n,c[2]));o.push(n),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=m+a.strings.suffix.length+a.strings.prefix.length)}}}else if(a.blobs.length){var g=t.output.string(t,a.blobs,a);if(r&&"string"!==g&&g.length>1&&a.strings.delimiter)for(var b=!1,v=0,y=g.length;v<y;v++)"string"!=typeof g[v]?b=!0:b&&(g[v]=a.strings.delimiter+g[v]);o=o.concat(g)}a.strings.first_blob&&t.registry.registry[a.strings.first_blob]&&(t.registry.registry[a.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(f=0,d=o.length-1;f<d;f+=1)"number"!=typeof o[f].num||"number"!=typeof o[f+1].num||o[f+1].UGLY_DELIMITER_SUPPRESS_HACK||(o[f].strings.suffix=o[f].strings.suffix+(h||""),o[f+1].successor_prefix="",o[f+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var _=0;for(f=0,d=o.length;f<d;f+=1)"string"==typeof o[f]&&(_=parseInt(f,10)+1,f<o.length-1&&"object"==typeof o[f+1]&&(h&&!o[f+1].UGLY_DELIMITER_SUPPRESS_HACK&&(o[f]+=i(h)),o[f+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(r&&(r.decorations.length||r.strings.suffix))_=o.length;else if(r&&r.strings.prefix)for(f=0,d=o.length;f<d;f++)if(void 0!==o[f].num){_=f,0===f&&(o[f].strings.prefix=r.strings.prefix+o[f].strings.prefix);break}var x=t.output.renderBlobs(o.slice(0,_),h,!1,r);if(x&&r&&(r.decorations.length||r.strings.suffix||r.strings.prefix)){if(!t.tmp.suppress_decorations)for(f=0,d=r.decorations.length;f<d;f+=1)["@cite","@bibliography","@display","@showid"].indexOf((c=r.decorations[f])[0])>-1||t.normalDecorIsOrphan(a,c)||"string"==typeof x&&(x=t.fun.decorate[c[0]][c[1]].call(r,t,x,c[2]));if(l=r.strings.suffix,(n=x)&&n.length&&(n=i(u=r.strings.prefix)+n+i(l),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=u.length+l.length)),x=n,!t.tmp.suppress_decorations)for(f=0,d=r.decorations.length;f<d;f+=1)-1!==["@cite","@bibliography","@display","@showid"].indexOf((c=r.decorations[f])[0])&&"string"==typeof x&&(x=t.fun.decorate[c[0]][c[1]].call(r,t,x,c[2]))}var w=o.slice(_,o.length);return!w.length&&x?o=[x]:w.length&&!x?o=w:x&&w.length&&(o=[x].concat(w)),void 0===r?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(o=t.output.renderBlobs(o,void 0,!1))):"boolean"==typeof r&&(o=t.output.renderBlobs(o,void 0,!0)),r&&r.new_locale&&(t.opt.lang=r.old_locale),o},p.Output.Queue.prototype.clearlevel=function(){var t,e,r;for(r=(t=this.current.value()).blobs.length,e=0;e<r;e+=1)t.blobs.pop()},p.Output.Queue.prototype.renderBlobs=function(t,e,r,n){var i,s,o,a,l,u,c,h,f,d,m;if(m=p.getSafeEscape(this.state),e||(e=""),i=this.state,s="",o="",u=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===u&&"object"==typeof t[0]&&n)return t[0].strings.prefix=n.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+n.strings.suffix,t[0].decorations=t[0].decorations.concat(n.decorations),t[0].params=n.params,t[0];var g=!0;for(l=0;l<u;l+=1)t[l].checkNext?(t[l].checkNext(t[l+1],g),g=!1):g=!t[l+1]||!t[l+1].splice_prefix;var b=!0;for(l=t.length-1;l>0;l+=-1)t[l].checkLast?b&&t[l].checkLast(t[l-1])&&(b=!1):b=!0;for(u=t.length,l=0;l<u;l+=1)if(s&&(o=e),"string"==typeof(a=t[l]))s+=m(o),s+=a,i.tmp.count_offset_characters&&(i.tmp.offset_characters+=o.length);else if(r)s=s?[s,a]:[a];else if(a.status!==p.SUPPRESS){var v=(f=a.particle?a.particle+a.num:a.formatter.format(a.num,a.gender)).replace(/<[^>]*>/g,"").length;this.append(f,"empty",!0);var y=this.pop(),_=i.tmp.count_offset_characters;if(f=this.string(i,[y],!1),i.tmp.count_offset_characters=_,a.strings["text-case"]&&(f=p.Output.Formatters[a.strings["text-case"]](this.state,f)),f&&this.state.tmp.strip_periods&&(f=f.replace(/\.([^a-z]|$)/g,"$1")),!i.tmp.suppress_decorations)for(h=a.decorations.length,c=0;c<h;c+=1)i.normalDecorIsOrphan(a,d=a.decorations[c])||(f=i.fun.decorate[d[0]][d[1]].call(a,i,f,d[2]));f=m(a.strings.prefix)+f+m(a.strings.suffix);var x="";a.status===p.END?x=m(a.range_prefix):a.status===p.SUCCESSOR?x=m(a.successor_prefix):a.status===p.START?x=l>0&&!a.suppress_splice_prefix?m(a.splice_prefix):"":a.status===p.SEEN&&(x=m(a.splice_prefix)),s+=x,s+=f,i.tmp.count_offset_characters&&(i.tmp.offset_characters+=x.length+a.strings.prefix.length+v+a.strings.suffix.length)}return s},p.Output.Queue.purgeEmptyBlobs=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--){p.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var r=t.blobs[e];if(!r||!r.blobs||!r.blobs.length){for(var n=[];t.blobs.length-1>e;)n.push(t.blobs.pop());for(t.blobs.pop();n.length;)t.blobs.push(n.pop())}}},p.Output.Queue.adjust=function(t){var e={";":!0,":":!0},r={".":!0,"!":!0,"?":!0};this.upward=function(t){if(t.blobs&&"string"==typeof t.blobs)o[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1));else if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=f(t,!0),r=t.blobs.length-1;r>-1;r--){this.upward(t.blobs[r]);var n=t.strings,i=t.blobs[r].strings;if(0===r){" "===n.prefix.slice(-1)&&" "===i.prefix.slice(0,1)&&(i.prefix=i.prefix.slice(1));var s=i.prefix.slice(0,1);e||!a[s]||n.prefix||(n.prefix+=s,i.prefix=i.prefix.slice(1))}r===t.blobs.length-1&&(s=i.suffix.slice(-1),!e&&[" "].indexOf(s)>-1&&(n.suffix.slice(0,1)!==s&&(n.suffix=s+n.suffix),i.suffix=i.suffix.slice(0,-1))),n.delimiter&&r>0&&a[n.delimiter.slice(-1)]&&n.delimiter.slice(-1)===i.prefix.slice(0,1)&&(i.prefix=i.prefix.slice(1))}},this.leftward=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var r=t.blobs[e],n=r.strings.suffix.slice(-1),i=t.blobs[e+1],s=i.strings.prefix.slice(0,1),a="number"==typeof n||"number"==typeof s;if(!f(r)&&!f(i)&&!a&&o[s]&&!a){var l=s===r.strings.suffix.slice(-1),u=!r.strings.suffix&&"string"==typeof r.blobs&&r.blobs.slice(-1)===s;l||u?i.strings.prefix=i.strings.prefix.slice(1):b(r,"suffix",i,"prefix")}}},this.downward=function(e,r){if(e.blobs&&"string"==typeof e.blobs)o[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1));else if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length){for(var n=e.strings,i=0,s=e.blobs.length;i<s&&!p(e.blobs[i]);i++);if(n.delimiter&&o[n.delimiter.slice(0,1)]){var l=n.delimiter.slice(0,1);for(i=e.blobs.length-2;i>-1;i--)(c=e.blobs[i].strings).suffix.slice(-1)!==l&&(c.suffix+=l);n.delimiter=n.delimiter.slice(1)}for(f(e,!0),p(e),i=e.blobs.length-1;i>-1;i--){var u=e.blobs[i],c=e.blobs[i].strings,v=f(u,!0),y=p(u);if(i===e.blobs.length-1){var _=n.suffix.slice(0,1),x=!1;o[_]&&!(x=m(_,u))&&t&&(x=d(u)),x&&o[_]&&(h(u)||(b(u,"string"==typeof u.blobs?"blobs":"suffix",e,"suffix"),"."===n.suffix.slice(0,1)&&(c.suffix+=n.suffix.slice(0,1),n.suffix=n.suffix.slice(1)))),"\xa0"===c.suffix.slice(-1)&&" "===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(1)),a[c.suffix.slice(0,1)]&&("string"==typeof u.blobs&&u.blobs.slice(-1)===c.suffix.slice(0,1)&&(c.suffix=c.suffix.slice(1)),c.suffix.slice(-1)===n.suffix.slice(0,1)&&(n.suffix=n.suffix.slice(0,-1))),g(e,e.strings.suffix.slice(0,1))&&(e.strings.suffix=e.strings.suffix.slice(1))}else if(n.delimiter)a[n.delimiter.slice(0,1)]&&n.delimiter.slice(0,1)===c.suffix.slice(-1)&&(e.blobs[i].strings.suffix=e.blobs[i].strings.suffix.slice(0,-1));else{var w=e.blobs[i+1].strings;p(u)||v||!a[c.suffix.slice(-1)]||c.suffix.slice(-1)!==w.prefix.slice(0,1)||(w.prefix=w.prefix.slice(1))}y||v||!o[c.suffix.slice(0,1)]||"string"!=typeof u.blobs||b(u,"blobs",u,"suffix"),this.downward(e.blobs[i])}}},this.fix=function(e){if("object"==typeof e&&"object"==typeof e.blobs&&e.blobs.length){for(var r,n=0,i=e.blobs.length;n<i;n++){for(var s=e.blobs[n],o=!1,a=0,l=s.decorations.length;a<l;a++){var u=s.decorations[a];"@quotes"===u[0]&&"false"!==u[1]&&(o=!0)}o&&(t?v(s):y(s)),r=this.fix(e.blobs[n]),s.blobs&&"string"==typeof s.blobs&&(r=s.blobs.slice(-1))}return r}};var n={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},i={},s={},o={},a={};for(var l in n)o[l]=!0,a[l]=!0,e[l]||(i[l]=!0),r[l]||(s[l]=!0);a[" "]=!0,a["\xa0"]=!0;var u={};for(var l in n)for(var c in n[l])u[c]||(u[c]={}),u[c][l]=n[l][c];function p(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function h(t){return"number"==typeof t.num||!(!t.blobs||"object"!=typeof t.blobs)&&(!!h(t.blobs[t.blobs.length-1])||void 0)}function f(t,e){var r=!1,n=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&n.push("@quotes"),t.decorations)for(var i=0,s=t.decorations.length;i<s;i++)if(n.indexOf(t.decorations[i][0])>-1){r=!0;break}return r}function d(t){if(t.decorations)for(var e=0,r=t.decorations.length;e<r;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"==typeof t.blobs&&d(t.blobs[t.blobs.length-1])}function m(t,e){var r=e.strings.suffix.slice(-1);r||"string"!=typeof e.blobs||(r=e.blobs.slice(-1));var n=u[t][r];return!(!n||1!==n.length)||"object"==typeof e.blobs&&!!m(t,e.blobs[e.blobs.length-1])}function g(t,e){if(!o[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e;var r=t.blobs[t.blobs.length-1];return!!r&&(r.strings.suffix.slice(-1)?r.strings.suffix.slice(-1)==e:g(r,e))}function b(t,e,r,i,s){var o="blobs"===e?t:t.strings,a="blobs"===i?r:r.strings,l=o[e].slice(-1),c=a[i].slice(0,1);function p(){a[i]=a[i].slice(1)}function h(){o[e]=o[e].slice(0,-1)}function f(t){a[i]=t+a[i]}function d(t){o[e]+=t}var m=s?function(){return n[l]}:function(){return u[c]},g=s?function(){var t=n[l][c];"string"==typeof t?(h(),p(),f(t)):(f(l),h())}:function(){var t=u[c][l];"string"==typeof t?(h(),p(),d(t)):(d(c),p())};l===c?(s?h:p)():m()&&g()}function v(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;i[e];)b(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;i[e];)b(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function y(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);s[e];)b(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);s[e];)b(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}},t.exports=p,p.Engine.Opt=function(){this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=p.NONE,this.bib_mode=p.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_parsing_for_plurals=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.flip_parentheses_to_braces=!0,this.development_extensions.jurisdiction_subfield=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.clobber_locator_if_no_statute_section=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.allow_force_lowercase=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.rtl_support=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0},p.Engine.Tmp=function(){this.names_max=new p.Stack,this.names_base=new p.Stack,this.givens_base=new p.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new p.Stack(0,p.LITERAL),this.element_rendered_ok=!1,this.element_trace=new p.Stack("style"),this.nameset_counter=0,this.group_context=new p.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_conditions:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new p.Stack(0,p.LITERAL),this.decorations=new p.Stack,this.tokenstore_stack=new p.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new p.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new p.AmbigConfig,this.bib_sort_keys=[],this.prefix=new p.Stack("",p.LITERAL),this.suffix=new p.Stack("",p.LITERAL),this.delimiter=new p.Stack("",p.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={}},p.Engine.Fun=function(t){this.match=new p.Util.Match,this.suffixator=new p.Util.Suffixator(p.SUFFIX_CHARS),this.romanizer=new p.Util.Romanizer,this.ordinalizer=new p.Util.Ordinalizer(t),this.long_ordinalizer=new p.Util.LongOrdinalizer},p.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new p.Stack(0,p.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1},p.Engine.Configure=function(){this.fail=[],this.succeed=[]},p.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new p.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},p.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},p.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="bibliography"},p.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},t.exports=p,p.Engine.prototype.previewCitationCluster=function(t,e,r,n){var i=this.opt.mode;this.setOutputFormat(n);var s=this.processCitationCluster(t,e,r,p.PREVIEW);return this.setOutputFormat(i),s[1]},p.Engine.prototype.appendCitationCluster=function(t){for(var e=[],r=this.registry.citationreg.citationByIndex.length,n=0;n<r;n+=1){var i=this.registry.citationreg.citationByIndex[n];e.push([""+i.citationID,i.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},p.Engine.prototype.processCitationCluster=function(t,e,r,n){var i,s,o,a,l,u,c,h,f,d,m,g;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[];var b,v,y,_={bibchange:!1};if(this.setCitationId(t),n===p.PREVIEW){b=this.registry.citationreg.citationByIndex.slice(),v=this.registry.reflist.slice();for(var x=e.concat([[""+t.citationID,t.properties.noteIndex]]).concat(r),w={},E=[],A=0,S=x.length;A<S;A+=1)for(s=0,o=(i=this.registry.citationreg.citationById[x[A][0]]).citationItems.length;s<o;s+=1)w[i.citationItems[s].id]=!0,E.push(""+i.citationItems[s].id);for(y={},A=0,S=v.length;A<S;A+=1)if(!w[v[A].id]){var O=this.registry.ambigcites[this.registry.registry[v[A].id].ambig];if(O)for(s=0,o=O.length;s<o;s+=1)y[O[s]]=p.cloneAmbigConfig(this.registry.registry[O[s]].disambig)}}this.tmp.taintedCitationIDs={};var C=[],T={};for(A=0,S=t.citationItems.length;A<S;A+=1){for(var k in f={},t.citationItems[A])f[k]=t.citationItems[A][k];var I;if((h=this.retrieveItem(""+f.id)).id&&this.transform.loadAbbreviation("default","hereinafter",h.id),f=p.parseLocator.call(this,f),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[h,f]]),this.opt.development_extensions.locator_label_parse&&f.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(h.type)&&(!f.label||"page"===f.label)&&(I=p.LOCATOR_LABELS_REGEXP.exec(f.locator))){var N=p.LOCATOR_LABELS_MAP[I[2]];this.getTerm(N)&&(f.label=N,f.locator=I[3])}C.push([h,f]),t.citationItems[A].item=h}t.sortedItems=C;var P=[],D={};for(A=0,S=e.length;A<S;A+=1){i=e[A];try{this.registry.citationreg.citationById[i[0]].properties.noteIndex=i[1]}catch(_t){var R="CSL error\n";throw R+="  "+_t+"\n",R+="  citationID="+i[0]+"\n",R+="  noteIndex="+i[1]+"\n",R+="  atarray citationsPre index "+A+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[i[0]]),D[i[0]]=this.registry.citationreg.citationById[i[0]]}for(P.push(t),D[t.citationID]=t,A=0,S=r.length;A<S;A+=1){i=r[A];try{this.registry.citationreg.citationById[i[0]].properties.noteIndex=i[1]}catch(_t){throw R="CSL error\n",R+="  "+_t+"\n",R+="  citationID="+i[0]+"\n",R+="  noteIndex="+i[1]+"\n",R+="  at array citationsPost index "+A+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[i[0]]),D[i[0]]=this.registry.citationreg.citationById[i[0]]}this.registry.citationreg.citationByIndex=P,this.registry.citationreg.citationById=D,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===p.POSITION&&(m=[],d=[],g={});var j,M=[];for(A=0,S=P.length;A<S;A+=1){for(P[A].properties||(P[A].properties={}),P[A].properties.index=A,s=0,o=P[A].sortedItems.length;s<o;s+=1)this.registry.citationreg.citationsByItemId[(f=P[A].sortedItems[s])[1].id]||(this.registry.citationreg.citationsByItemId[f[1].id]=[],M.push(""+f[1].id)),-1===this.registry.citationreg.citationsByItemId[f[1].id].indexOf(P[A])&&this.registry.citationreg.citationsByItemId[f[1].id].push(P[A]);this.opt.update_mode===p.POSITION&&(P[A].properties.noteIndex?d.push(P[A]):(P[A].properties.noteIndex=0,m.push(P[A])))}if(n!==p.ASSUME_ALL_ITEMS_REGISTERED&&this.updateItems(M,null,null,!0),!this.opt.citation_number_sort&&C&&C.length>1&&this.citation_sort.tokens.length>0){for(A=0,S=C.length;A<S;A+=1)C[A][1].sortkeys=p.getSortKeys.call(this,C[A][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(A=0,S=C.length;A<S;A+=1){var L=C[A][1].sortkeys;this.tmp.authorstring_request=!0;var F=this.registry.registry[C[A][0].id].disambig;this.tmp.authorstring_request=!0,p.getAmbiguousCite.call(this,C[A][0],F);var U=this.registry.authorstrings[C[A][0].id];this.tmp.authorstring_request=!1,C[A][1].sortkeys=[U].concat(L)}C.sort(this.citation.srt.compareCompositeKeys);var B=!1,z=!1,V=!1;for(A=0,S=C.length;A<S;A+=1)C[A][1].sortkeys[0]!==B&&(V=C[A][1].sortkeys[0],z=C[A][1].sortkeys[1]),C[A][1].sortkeys[0]=""+z+A,B=V}t.properties.unsorted||C.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.update_mode===p.POSITION)for(A=0;A<2;A+=1){var $={},q={};for(s=0,o=(j=[m,d][A]).length;s<o;s+=1){var H=j[s];for(j[s].properties.noteIndex||(j[s].properties.noteIndex=0),j[s].properties.noteIndex=parseInt(j[s].properties.noteIndex,10),s>0&&j[s-1].properties.noteIndex>j[s].properties.noteIndex&&(g={},$={},q={}),a=0,l=H.sortedItems.length;a<l;a+=1)this.registry.registry[H.sortedItems[a][1].id].parallel||(g[H.properties.noteIndex]?g[H.properties.noteIndex]+=1:g[H.properties.noteIndex]=1);for(a=0,l=j[s].sortedItems.length;a<l;a+=1){var G,X=(f=j[s].sortedItems[a])[0].id,Q=f[1].locator,W=f[1].label;if(f[0].legislation_id&&(X=f[0].legislation_id),a>0&&(G=H.sortedItems[a-1][0].legislation_id?H.sortedItems[a-1][0].legislation_id:H.sortedItems[a-1][1].id),n!==p.PREVIEW||H.citationID==t.citationID){var K,Z={};if(Z.position=f[1].position,Z["first-reference-note-number"]=f[1]["first-reference-note-number"],Z["near-note"]=f[1]["near-note"],f[1]["first-reference-note-number"]=0,f[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[X]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var J=this.registry.registry[X]["citation-count"],Y=this.registry.citationreg.citationsByItemId[X].length;if(this.registry.registry[X]["citation-count"]=this.registry.citationreg.citationsByItemId[X].length,"number"==typeof J){if(J<2!=Y<2)for(var tt=0,et=this.registry.citationreg.citationsByItemId[X].length;tt<et;tt++)T[this.registry.registry[X].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[X][tt].citationID]=!0}else for(tt=0,et=this.registry.citationreg.citationsByItemId[X].length;tt<et;tt++)T[this.registry.registry[X].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[X][tt].citationID]=!0}if(void 0===$[X])$[X]=H.properties.noteIndex,this.registry.registry[X]&&(this.registry.registry[X]["first-reference-note-number"]=H.properties.noteIndex),q[X]=H.properties.noteIndex,f[1].position=p.POSITION_FIRST;else{var rt,nt,it,st=!1,ot=!1;if(s>0){try{K=j[s-1].sortedItems.slice(-1)[0][1].id}catch(_t){throw R="CSL Error\n",R+="  "+_t,R+="  in citation object "+j[s-1].citationID+" at index "+(s-1)}j[s-1].sortedItems[0].slice(-1)[0].legislation_id&&(K=j[s-1].sortedItems[0].slice(-1)[0].legislation_id)}if(s>0&&0===parseInt(a,10)&&j[s-1].properties.noteIndex!==j[s].properties.noteIndex){var at=j[s-1].sortedItems,lt=!1,ut=j[s-1].sortedItems[0][0].id;for(j[s-1].sortedItems[0][0].legislation_id&&(ut=j[s-1].sortedItems[0][0].legislation_id),(ut==X&&j[s-1].properties.noteIndex>=j[s].properties.noteIndex-1||j[s-1].sortedItems[0][1].id==this.registry.registry[f[1].id].parallel)&&(1!==g[j[s-1].properties.noteIndex]&&0!==j[s-1].properties.noteIndex||(lt=!0)),u=0,c=at.slice(1).length;u<c;u+=1){var ct=at.slice(1)[u];this.registry.registry[ct[1].id].parallel&&this.registry.registry[ct[1].id].parallel!=this.registry.registry[ct[1].id]||(lt=!1)}lt?st=!0:ot=!0}else a>0&&G==X?st=!0:0===a&&s>0&&j[s-1].properties.noteIndex==j[s].properties.noteIndex&&j[s-1].sortedItems.length&&K==X?st=!0:ot=!0;if(st&&(nt=(rt=a>0?H.sortedItems[a-1][1]:j[s-1].sortedItems[0][1]).locator?""+rt.locator+(rt.label?rt.label:""):rt.locator,it=Q?""+Q+(W||""):Q),st&&nt&&!it&&(st=!1,ot=!0),st&&(!nt&&it?f[1].position=p.POSITION_IBID_WITH_LOCATOR:nt||it?nt&&it===nt?f[1].position=p.POSITION_IBID:nt&&it&&it!==nt?f[1].position=p.POSITION_IBID_WITH_LOCATOR:(st=!1,ot=!0):f[1].position=p.POSITION_IBID),ot&&(f[1].position=p.POSITION_SUBSEQUENT),(ot||st)&&$[X]!=H.properties.noteIndex&&(f[1]["first-reference-note-number"]=$[X],this.registry.registry[X])){var pt=this.registry.citationreg.citationsByItemId[X][0].properties.noteIndex,ht=H.properties.noteIndex;this.registry.registry[X]["first-reference-note-number"]=ht<pt?ht:pt}}if(H.properties.noteIndex){var ft=parseInt(H.properties.noteIndex,10)-parseInt(q[X],10);f[1].position!==p.POSITION_FIRST&&ft<=this.citation.opt["near-note-distance"]&&(f[1]["near-note"]=!0),q[X]=H.properties.noteIndex}if(H.citationID!=t.citationID)for(u=0,c=p.POSITION_TEST_VARS.length;u<c;u+=1){var dt=p.POSITION_TEST_VARS[u];f[1][dt]!==Z[dt]&&(this.registry.registry[X]&&"first-reference-note-number"===dt&&(T[this.registry.registry[X].ambig]=!0,this.tmp.taintedItemIDs[X]=!0),this.tmp.taintedCitationIDs[H.citationID]=!0)}this.sys.variableWrapper&&(f[1].index=H.properties.index,f[1].noteIndex=H.properties.noteIndex)}else void 0===$[f[1].id]?($[X]=H.properties.noteIndex,q[X]=H.properties.noteIndex):q[X]=H.properties.noteIndex}}}if(this.opt.citation_number_sort&&C&&C.length>1&&this.citation_sort.tokens.length>0&&!t.properties.unsorted){for(A=0,S=C.length;A<S;A+=1)C[A][1].sortkeys=p.getSortKeys.call(this,C[A][0],"citation_sort");C.sort(this.citation.srt.compareCompositeKeys)}for(var k in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(k)&&(j=this.registry.citationreg.citationsByItemId[k]))for(A=0,S=j.length;A<S;A+=1)this.tmp.taintedCitationIDs[j[A].citationID]=!0;var mt=[];if(n===p.PREVIEW){try{mt=this.process_CitationCluster.call(this,t.sortedItems,t.citationID)}catch(_t){p.error("Error running CSL processor for preview: "+_t)}for(this.registry.citationreg.citationByIndex=b,this.registry.citationreg.citationById={},A=0,S=b.length;A<S;A+=1)this.registry.citationreg.citationById[b[A].citationID]=b[A];var gt=[];for(A=0,S=v.length;A<S;A+=1)gt.push(""+v[A].id);for(var k in this.updateItems(gt,null,null,!0),y)y.hasOwnProperty(k)&&(this.registry.registry[k].disambig=y[k])}else{for(var bt in T)this.disambiguate.run(bt,t);var vt;for(var k in this.tmp.taintedCitationIDs)if(k!=t.citationID){var yt=this.registry.citationreg.citationById[k];if(!yt.properties.unsorted){for(A=0,S=yt.sortedItems.length;A<S;A+=1)yt.sortedItems[A][1].sortkeys=p.getSortKeys.call(this,yt.sortedItems[A][0],"citation_sort");yt.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=yt.properties.index,this.tmp.citation_note_index=yt.properties.noteIndex,this.tmp.citation_id=""+yt.citationID,(vt=[]).push(yt.properties.index),vt.push(this.process_CitationCluster.call(this,yt.sortedItems,yt.citationID)),vt.push(yt.citationID),mt.push(vt)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,(vt=[]).push(e.length),vt.push(this.process_CitationCluster.call(this,C,t.citationID)),vt.push(t.citationID),mt.push(vt),mt.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})}return _.citation_errors=this.tmp.citation_errors.slice(),[_,mt]},p.Engine.prototype.process_CitationCluster=function(t,e){return this.parallel.StartCitation(t),p.getCitationCluster.call(this,t,e)},p.Engine.prototype.makeCitationCluster=function(t){var e,r,n,i,s;for(e=[],n=t.length,r=0;r<n;r+=1){for(var o in i={},t[r])i[o]=t[r][o];if(s=this.retrieveItem(""+i.id),this.opt.development_extensions.locator_label_parse&&i.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(s.type)&&(!i.label||"page"===i.label)){var a=p.LOCATOR_LABELS_REGEXP.exec(i.locator);if(a){var l=p.LOCATOR_LABELS_MAP[a[2]];this.getTerm(l)&&(i.label=l,i.locator=a[3])}}i.locator&&(i.locator=(""+i.locator).replace(/\s+$/,"")),e.push([s,i])}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(e),e&&e.length>1&&this.citation_sort.tokens.length>0){for(n=e.length,r=0;r<n;r+=1)e[r][1].sortkeys=p.getSortKeys.call(this,e[r][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.parallel.StartCitation(e),p.getCitationCluster.call(this,e)},p.getAmbiguousCite=function(t,e,r,n){var i=this.tmp.group_context.tip,s={term_intended:i.term_intended,variable_attempt:i.variable_attempt,variable_success:i.variable_success,output_tip:i.output_tip,label_form:i.label_form,parallel_conditions:i.parallel_conditions,condition:i.condition,force_suppress:i.force_suppress,done_vars:i.done_vars.slice()};this.tmp.disambig_request=e||!1;var o={position:1,"near-note":!0};n&&(o.locator=n.locator,o.label=n.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&r&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(o["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation",this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,p.getCite.call(this,t,o,null,!1);for(var a=0,l=this.output.queue.length;a<l;a+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[a]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var u=0,c=this.output.queue.length;u<c;u+=1)this.output.adjust.upward(this.output.queue[u]),this.output.adjust.leftward(this.output.queue[u]),this.output.adjust.downward(this.output.queue[u]),this.output.adjust.fix(this.output.queue[u]);var h=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.group_context.replace(s),h},p.getSpliceDelimiter=function(t,e,r){if(void 0!==this.citation.opt["after-collapse-delimiter"])this.tmp.splice_delimiter=t?this.citation.opt["after-collapse-delimiter"]:e&&!this.tmp.have_collapsed?this.citation.opt["after-collapse-delimiter"]:e||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.citation.opt.layout_delimiter:this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==p.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[r-1]){var n=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[r-1]];n&&n.delimiter&&(this.tmp.splice_delimiter=n.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},p.getCitationCluster=function(t,e){var r,n,i,s,o,a,l,u,c,h,f,d,m,g,b,v,y;t=t||[],this.tmp.last_primary_names_string=!1,y=p.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",r="",n=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.output.checkNestedBrace=new p.checkNestedBrace(this);var _=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix),x=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(x=!0),e&&this.registry.citationreg.citationById[e].properties["suppress-trailing-punctuation"]&&(x=!0),"note"===this.opt.xclass){for(var w=[],E=!1,A=!1,S=[],O=0,C=t.length;O<C;O+=1){var T=t[O][0].title,k=t[O][0].id;T&&"legal_case"===t[O][0].type&&k!==A&&t[O][1].position&&(T===E&&0!==w.length||w.push(S=[]),S.push(t[O][1])),E=T,A=k}for(O=0,C=w.length;O<C;O+=1)if(!((S=w[O]).length<2)){var I=S.slice(-1)[0].locator;if(I)for(var N=0,P=S.length-1;N<P;N+=1)S[N].locator&&(I=!1);I&&(S[0].locator=I,delete S.slice(-1)[0].locator,S[0].label=S.slice(-1)[0].label,S.slice(-1)[0].label&&delete S.slice(-1)[0].label)}}for(i=[],s=t.length,o=0;o<s;o+=1){d=t[o][0],a=p.parseLocator.call(this,a=t[o][1]),l=this.tmp.have_collapsed;var D=!1;if(o>0&&t[o-1][1]&&(D=!!t[o-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var R=this.output;this.output=new p.Output.Queue(this),this.output.adjust=new p.Output.Queue.adjust,p.getAmbiguousCite.call(this,d,null,!1,a),this.output=R}if(this.tmp.in_cite_predecessor=!1,o>0?p.getCite.call(this,d,a,""+t[o-1][0].id,!0):(this.tmp.term_predecessor=!1,p.getCite.call(this,d,a,null,!0)),this.tmp.cite_renders_content||this.tmp.citation_errors.push({citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+d.id,citationItems_pos:o,error_code:p.ERROR_NO_RENDERED_FORM}),o===t.length-1&&this.parallel.ComposeSet(),u.splice_delimiter=p.getSpliceDelimiter.call(this,D,l,o),a&&a["author-only"]&&(this.tmp.suppress_decorations=!0),o>0){var j=(v=t[o-1][1]).suffix&&[".",","].indexOf(v.suffix.slice(-1))>-1,M=!v.suffix&&a.prefix&&[".",","].indexOf(a.prefix.slice(0,1))>-1;if(j||M){var L=u.splice_delimiter.indexOf(" ");u.splice_delimiter=L>-1&&!M?u.splice_delimiter.slice(L):""}}u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,i.push(u)}this.tmp.has_purged_parallel=!1,this.parallel.PruneOutputQueue(this),f=this.output.queue.slice();var F=this.citation.opt.layout_suffix,U=this.tmp.cite_locales[this.tmp.cite_locales.length-1];U&&this.tmp.cite_affixes[this.tmp.area][U]&&this.tmp.cite_affixes[this.tmp.area][U].suffix&&(F=this.tmp.cite_affixes[this.tmp.area][U].suffix),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(F.slice(0,1))>-1&&(F=F.slice(0,1));var B=this.citation.opt.layout_delimiter;for(B||(B=""),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(B.slice(0,1))>-1&&(B=B.slice(0,1)),F=this.output.checkNestedBrace.update(F),O=0,C=this.output.queue.length;O<C;O+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[O]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(x||(this.output.queue[this.output.queue.length-1].strings.suffix=F),this.output.queue[0].strings.prefix=_)),this.opt.development_extensions.clean_up_csl_flaws)for(N=0,P=this.output.queue.length;N<P;N+=1)this.output.adjust.upward(this.output.queue[N]),this.output.adjust.leftward(this.output.queue[N]),this.output.adjust.downward(this.output.queue[N]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[N]);for(o=0,s=f.length;o<s;o+=1){var z=[];if(this.output.queue=[f[o]],this.tmp.suppress_decorations=i[o].suppress_decorations,this.tmp.splice_delimiter=i[o].splice_delimiter,f[o].parallel_delimiter&&(this.tmp.splice_delimiter=f[o].parallel_delimiter),this.tmp.have_collapsed=i[o].have_collapsed,c=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof c)return this.tmp.suppress_decorations=!1,c;if("object"==typeof c&&0===c.length&&!a["suppress-author"])if(this.tmp.has_purged_parallel)c.push("");else{var V=0===o?y(this.citation.opt.layout_prefix):"",$=o===f.length-1?y(this.citation.opt.layout_suffix):"";c.push(V+"[CSL STYLE ERROR: reference with no printed form.]"+$)}if(z.length&&"string"==typeof c[0]){c.reverse();var q=c.pop();q&&","===q.slice(0,1)?z.push(q):"string"==typeof z.slice(-1)[0]&&","===z.slice(-1)[0].slice(-1)?z.push(" "+q):q&&z.push(y(this.tmp.splice_delimiter)+q)}else c.reverse(),void 0!==(h=c.pop())&&(z.length&&"string"==typeof z[z.length-1]&&(z[z.length-1]+=h.successor_prefix),z.push(h));for(m=c.length,g=0;g<m;g+=1)"string"!=typeof(b=c[g])?void 0!==(h=c.pop())&&z.push(h):z.push(y(this.tmp.splice_delimiter)+b);z.length>1&&"string"!=typeof z[0]&&(z=[this.output.renderBlobs(z)]),z.length&&("string"==typeof z[0]?o>0&&(z[0]=y(this.tmp.splice_delimiter)+z[0]):z[0].splice_prefix=o>0?this.tmp.splice_delimiter:""),n=n.concat(z)}if((r+=this.output.renderBlobs(n))&&!this.tmp.suppress_decorations)for(s=this.citation.opt.layout_decorations.length,o=0;o<s;o+=1)"normal"!==(u=this.citation.opt.layout_decorations[o])[1]&&(a&&a["author-only"]||(r=this.fun.decorate[u[0]][u[1]](this,r)));return this.tmp.suppress_decorations=!1,r},p.getCite=function(t,e,r,n){var i;for(this.tmp.cite_renders_content=!1,this.parallel.StartCite(t,e,r),p.citeStart.call(this,t,e,n),i=0,this.tmp.name_node={},this.nameOutput=new p.NameOutput(this,t,e);i<this[this.tmp.area].tokens.length;)i=p.tokenExec.call(this,this[this.tmp.area].tokens[i],t,e);return p.citeEnd.call(this,t,e),this.parallel.CloseCite(this),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&this.tmp.bibliography_errors.push({index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:p.ERROR_NO_RENDERED_FORM}),""+t.id},p.citeStart=function(t,e,r){if(r||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.subsequent_author_substitute_ok=!this.tmp.suppress_decorations,this.tmp.lastchr="",this.tmp.have_collapsed=!("citation"!==this.tmp.area||!this.citation.opt.collapse||!this.citation.opt.collapse.length),this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new p.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var n=0,i=this.tmp.disambig_settings.givens.length;n<i;n+=1)this.tmp.disambig_settings.givens[n]=this.registry.registry[t.id].disambig.givens[n].slice();for(n=0,i=this.tmp.disambig_request.givens.length;n<i;n+=1)this.tmp.disambig_request.givens[n]=this.registry.registry[t.id].disambig.givens[n].slice()}}else this.tmp.disambig_restore=new p.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},p.citeEnd=function(t,e){if(this.tmp.disambig_restore&&this.registry.registry[t.id]){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var r=0,n=this.registry.registry[t.id].disambig.givens.length;r<n;r+=1)this.registry.registry[t.id].disambig.givens[r]=this.tmp.disambig_restore.givens[r].slice()}if(this.tmp.disambig_restore=!1,this.tmp.last_suffix_used=e&&e.suffix?e.suffix:"",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var i=[];for(r=this.tmp.issued_date.list.length-1;r>this.tmp.issued_date.pos;r+=-1)i.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),r=i.length-1;r>-1;r+=-1)this.tmp.issued_date.list.push(i.pop());this.parallel.use_parallels&&(this.parallel.cite.issued=!1)}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},t.exports=p,p.Engine.prototype.makeBibliography=function(t){var e,r,n,i,s,o;if(!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),o=(e=p.getBibliographyEntries.call(this,t))[1];var a=e[2];for(r={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:e[0],bibliography_errors:this.tmp.bibliography_errors.slice(),done:a},this.bibliography.opt["second-field-align"]&&(r["second-field-align"]=this.bibliography.opt["second-field-align"]),i=this.registry.reflist.length,s=0;s<i;s+=1)(n=this.registry.reflist[s]).offset>r.maxoffset&&(r.maxoffset=n.offset);return this.bibliography.opt.hangingindent&&(r.hangingindent=this.bibliography.opt.hangingindent),r.bibstart=this.fun.decorate.bibstart,r.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[r,o]},p.getBibliographyEntries=function(t){var e,r,n,i,s,o,a,l,u,c,h,f,d,m,g,b,v,y,_,x,w,E,A;function S(t,e){return t===e}function O(t,e){return!("none"!==t&&t||e)||("string"==typeof e?S(t,e):!!e&&function(t,e){for(c=e.length,h=0;h<c;h+=1)if(S(t,e[h]))return!0;return!1}(t,e))}if(e=[],x=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,r=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.retrieveItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,v={},t&&t.page_start&&t.page_length&&(A=0,!0!==t.page_start))for(g=0,b=r.length;g<b&&(v[r[g]]=!0,t.page_start!=r[g]);g+=1);var C=[];for(g=0,b=r.length;g<b;g+=1){if(t&&t.page_start&&t.page_length){if(v[r[g]])continue;if(l=this.retrieveItem(r[g]),A===t.page_length)break}else if(v[(l=r[g]).id])continue;if(t){if(n=!0,t.include){for(n=!1,w=0,E=t.include.length;w<E;w+=1)if(O((u=t.include[w]).value,l[u.field])){n=!0;break}}else if(t.exclude){for(i=!1,w=0,E=t.exclude.length;w<E;w+=1)if(O((u=t.exclude[w]).value,l[u.field])){i=!0;break}i&&(n=!1)}else if(t.select){for(n=!1,s=!0,w=0,E=t.select.length;w<E;w+=1)O((u=t.select[w]).value,l[u.field])||(s=!1);s&&(n=!0)}if(t.quash){for(s=!0,w=0,E=t.quash.length;w<E;w+=1)O((u=t.quash[w]).value,l[u.field])||(s=!1);s&&(n=!1)}if(!n)continue}if((o=new p.Token("group",p.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",o),l.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=l.system_id:this.output.current.value().system_id=l.id,y=[[{id:""+l.id},l]],d=[],!this.registry.registry[l.id].master||t&&t.page_start&&t.page_length)this.registry.registry[l.id].siblings||(this.parallel.StartCitation(y),this.tmp.term_predecessor=!1,d.push(""+p.getCite.call(this,l)),t&&t.page_start&&t.page_length&&(A+=1));else{for(m=!0,this.parallel.StartCitation(y),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,d.push(""+p.getCite.call(this,l)),v[l.id]=!0,w=0,E=this.registry.registry[l.id].siblings.length;w<E;w+=1)_=this.retrieveItem(this.registry.registry[l.id].siblings[w]),d.push(""+p.getCite.call(this,_)),v[_.id]=!0;this.parallel.ComposeSet(),this.parallel.PruneOutputQueue()}for(x.push(""),this.tmp.bibliography_pos+=1,C.push(d),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(m||!this.output.queue[0].blobs[0].blobs[0].strings?(f=this.output.queue[0].blobs,m=!1):f=this.output.queue[0].blobs[0].blobs,f[0].strings.prefix=this.bibliography.opt.layout_prefix+f[0].strings.prefix),w=0,E=this.output.queue.length;w<E;w+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[w]);for(w=0,E=this.output.queue.length;w<E;w+=1)this.output.adjust.upward(this.output.queue[w]),this.output.adjust.leftward(this.output.queue[w]),this.output.adjust.downward(this.output.queue[w],!0),this.output.adjust.fix(this.output.queue[w]);(a=this.output.string(this,this.output.queue)[0])||this.opt.update_mode!==p.NUMERIC||(a=p.Output.Formats[this.opt.mode]["@bibliography/entry"](this,e.length+1+". [CSL STYLE ERROR: reference with no printed form.]")),a&&e.push(a)}var T=!1;if(t&&t.page_start&&t.page_length){var k=r.slice(-1)[0],I=C.slice(-1)[0];k&&I&&k!=I||(T=!0)}return this.tmp.disambig_override=!1,[C,e,T]},t.exports=p,p.Engine.prototype.setCitationId=function(t,e){var r,n,i;if(r=!1,!t.citationID||e){for(n=Math.floor(1e14*Math.random());;){if(i=0,!this.registry.citationreg.citationById[n]){t.citationID="a"+n.toString(32);break}n+=1==(i=!i&&n<5e13?1:-1)?1:-1}r=""+n}return this.registry.citationreg.citationById[t.citationID]=t,r},t.exports=p,p.Engine.prototype.rebuildProcessorState=function(t,e,r){t||(t=[]),e||(e="html");for(var n={},i=[],s=0,o=t.length;s<o;s+=1)for(var a=0,l=t[s].citationItems.length;a<l;a+=1){var u=""+t[s].citationItems[a].id;n[u]||i.push(u),n[u]=!0}this.updateItems(i);var c=[],h=[],f=[],d=this.opt.mode;for(this.setOutputFormat(e),s=0,o=t.length;s<o;s+=1){var m=this.processCitationCluster(t[s],c,h,p.ASSUME_ALL_ITEMS_REGISTERED);for(c.push([t[s].citationID,t[s].properties.noteIndex]),a=0,l=m[1].length;a<l;a+=1){var g=m[1][a][0];f[g]=[c[g][0],c[g][1],m[1][a][1]]}}return this.updateUncitedItems(r),this.setOutputFormat(d),f},p.Engine.prototype.restoreProcessorState=function(t){var e,r,n,i,s,o,a,l,u;a=[],l=[],t||(t=[]);var c=[],h={};for(e=0,r=t.length;e<r;e+=1)h[t[e].citationID]&&this.setCitationId(t[e],!0),h[t[e].citationID]=!0,c.push(t[e].properties.index);var f=t.slice();for(f.sort(function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0}),e=0,r=f.length;e<r;e+=1)f[e].properties.index=e;for(e=0,r=f.length;e<r;e+=1){for(u=[],n=0,i=f[e].citationItems.length;n<i;n+=1)void 0===(s=f[e].citationItems[n]).sortkeys&&(s.sortkeys=[]),o=this.retrieveItem(""+s.id),u.push([o,s]),f[e].citationItems[n].item=o,l.push(""+s.id);f[e].properties.unsorted||u.sort(this.citation.srt.compareCompositeKeys),f[e].sortedItems=u,this.registry.citationreg.citationById[f[e].citationID]=f[e]}for(this.updateItems(l),e=0,r=t.length;e<r;e+=1)a.push([""+t[e].citationID,t[e].properties.noteIndex]);var d=[];return t&&t.length?d=this.processCitationCluster(t[0],[],a.slice(1)):(this.registry=new p.Registry(this),this.tmp=new p.Engine.Tmp,this.disambiguate=new p.Disambiguation(this)),d},p.Engine.prototype.updateItems=function(t,e,r,n){var i=this.tmp.area,s=this.tmp.root,o=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",n||(this.tmp.loadedItemIDs={}),this.registry.init(t),r)for(var a in this.registry.ambigcites)this.registry.ambigsTouched[a]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=o,this.tmp.area=i,this.tmp.root=s,this.registry.getSortedIds()},p.Engine.prototype.updateUncitedItems=function(t,e){var r,n=this.tmp.area,i=this.tmp.root,s=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},t||(t=[]),"object"==typeof t)if(void 0===t.length)for(var o in r=t,t=[],r)t.push(o);else if("number"==typeof t.length){r={};for(var a=0,l=t.length;a<l;a+=1)r[t[a]]=!0}return this.registry.init(t,!0),this.registry.dopurge(r),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=s,this.tmp.area=n,this.tmp.root=i,this.registry.getSortedIds()},t.exports=p,p.localeResolve=function(t,e){var r,n;return e||(e="en-US"),t||(t=e),r={},n=t.split(/[\-_]/),r.base=p.LANG_BASES[n[0]],void 0===r.base?{base:e,best:t,bare:n[0]}:(1===n.length&&(r.generic=!0),r.best=1===n.length||"x"===n[1]?r.base.replace("_","-"):n.slice(0,2).join("-"),r.base=r.base.replace("_","-"),r.bare=n[0],r)},p.Engine.prototype.localeConfigure=function(t,e){var r;if((!e||!this.locale[t.best])&&("en-US"===t.best?(r=p.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(r,"en-US",t.best)):"en-US"!==t.best&&(t.base!==t.best&&(r=p.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(r,t.base,t.best)),r=p.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(r,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),void 0===this.locale[t.best].terms["page-range-delimiter"]&&(this.locale[t.best].terms["page-range-delimiter"]=["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())>-1?"-":"\u2013"),void 0===this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]="\u2013"),void 0===this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]="\u2013"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var n=["default-locale","locale-sort","locale-translit","locale-translat"],i=0,s=n.length;i<s;i+=1)for(var o=0,a=this.opt[n[i]].length;o<a;o+=1)this.opt[n[i]][o]=this.opt[n[i]][o].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},p.Engine.prototype.localeSet=function(t,e,r){var n,i,s,o,a,l,u,c,h,f,d;if(e=e.replace("_","-"),r=r.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),r=r.toLowerCase()),this.locale[r]||(this.locale[r]={},this.locale[r].terms={},this.locale[r].opts={},this.locale[r].opts["skip-words"]=p.SKIP_WORDS,this.locale[r].opts["leading-noise-words"]||(this.locale[r].opts["leading-noise-words"]=[]),this.locale[r].dates={},this.locale[r].ord={"1.0.1":!1,keys:{}},this.locale[r]["noun-genders"]={}),i=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))i=t.dataObj;else for(s=t.getNodesByName(t.dataObj,"locale"),a=0,f=t.numberofnodes(s);a<f;a+=1)if(t.getAttributeValue(n=s[a],"lang","xml")===e){i=n;break}for(s=t.getNodesByName(i,"type"),P=0,D=t.numberofnodes(s);P<D;P+=1){var m=s[P],g=t.getAttributeValue(m,"name"),b=t.getAttributeValue(m,"gender");this.opt.gender[g]=b}if(t.getNodesByName(i,"term","ordinal").length){for(var v in this.locale[r].ord.keys)delete this.locale[r].terms[v];this.locale[r].ord={"1.0.1":!1,keys:{}}}s=t.getNodesByName(i,"term");var y={"last-digit":{},"last-two-digits":{},"whole-number":{}},_=!1,x={};for(a=0,f=t.numberofnodes(s);a<f;a+=1){if("sub verbo"===(c=t.getAttributeValue(l=s[a],"name"))&&(c="sub-verbo"),"ordinal"===c.slice(0,7)){if(t.getNodeValue(l),"ordinal"===c)_=!0;else{var w,E=t.getAttributeValue(l,"match"),A=c.slice(8);(w=t.getAttributeValue(l,"gender-form"))||(w="neuter"),E||(E="last-two-digits","0"===A.slice(0,1)&&(E="last-digit")),"0"===A.slice(0,1)&&(A=A.slice(1)),y[E][A]||(y[E][A]={}),y[E][A][w]=c}this.locale[r].ord.keys[c]=!0}void 0===this.locale[r].terms[c]&&(this.locale[r].terms[c]={}),u="long",w=!1,t.getAttributeValue(l,"form")&&(u=t.getAttributeValue(l,"form")),t.getAttributeValue(l,"gender-form")&&(w=t.getAttributeValue(l,"gender-form")),t.getAttributeValue(l,"gender")&&(this.locale[r]["noun-genders"][c]=t.getAttributeValue(l,"gender")),w?(this.locale[r].terms[c][w]={},this.locale[r].terms[c][w][u]=[],d=this.locale[r].terms[c][w],x[c]=!0):(this.locale[r].terms[c][u]=[],d=this.locale[r].terms[c]),t.numberofnodes(t.getNodesByName(l,"multiple"))?(d[u][0]=t.getNodeValue(l,"single"),d[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),d[u][1]=t.getNodeValue(l,"multiple"),d[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(d[u]=t.getNodeValue(l),d[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(_){for(var S in x){var O={},C=0;for(var T in this.locale[r].terms[S])["masculine","feminine"].indexOf(T)>-1?O[T]=this.locale[r].terms[S][T]:C+=1;if(!C)if(O.feminine)for(var T in O.feminine)this.locale[r].terms[S][T]=O.feminine[T];else if(O.masculine)for(var T in O.masculine)this.locale[r].terms[S][T]=O.masculine[T]}this.locale[r].ord["1.0.1"]=y}for(c in this.locale[r].terms)for(P=0,D=2;P<D;P+=1)if(this.locale[r].terms[c][w=p.GENDERS[P]])for(u in this.locale[r].terms[c])this.locale[r].terms[c][w][u]||(this.locale[r].terms[c][w][u]=this.locale[r].terms[c][u]);for(s=t.getNodesByName(i,"style-options"),a=0,f=t.numberofnodes(s);a<f;a+=1)for(h in o=t.attributes(s[a]))if(o.hasOwnProperty(h))if("@punctuation-in-quote"===h||"@limit-day-ordinals-to-day-1"===h)this.locale[r].opts[h.slice(1)]="true"===o[h];else if("@jurisdiction-preference"===h){var k=o[h].split(/\s*,\s*/);this.locale[r].opts[h.slice(1)]=k}else if("@skip-words"===h){var I=o[h].split(/\s*,\s*/);this.locale[r].opts[h.slice(1)]=I}else if("@leading-noise-words"===h){var N=o[h].split(/\s*,\s*/);this.locale[r].opts["leading-noise-words"]=N}else if("@name-as-sort-order"===h){this.locale[r].opts["name-as-sort-order"]={};for(var P=0,D=(R=o[h].split(/\s+/)).length;P<D;P+=1)this.locale[r].opts["name-as-sort-order"][R[P]]=!0}else if("@name-as-reverse-order"===h)for(this.locale[r].opts["name-as-reverse-order"]={},P=0,D=(R=o[h].split(/\s+/)).length;P<D;P+=1)this.locale[r].opts["name-as-reverse-order"][R[P]]=!0;else if("@name-never-short"===h){var R;for(this.locale[r].opts["name-never-short"]={},P=0,D=(R=o[h].split(/\s+/)).length;P<D;P+=1)this.locale[r].opts["name-never-short"][R[P]]=!0}for(s=t.getNodesByName(i,"date"),a=0,f=t.numberofnodes(s);a<f;a+=1){var j;this.locale[r].dates[t.getAttributeValue(j=s[a],"form")]=j}},t.exports=p,p.getLocaleNames=function(t,e){var r=p.setupXml(t);function n(t,e){var r=["base","best"];if(e){normalizedLocale=p.localeResolve(e);for(var n=0,i=r.length;n<i;n++)normalizedLocale[r[n]]&&-1===t.indexOf(normalizedLocale[r[n]])&&t.push(normalizedLocale[r[n]])}}function i(t){for(var e=r.getNodesByName(r.dataObj,t),n=0,i=e.length;n<i;n++){var o=r.getAttributeValue(e[n],"locale");if(o)for(var a=0,l=(o=o.split(/ +/)).length;a<l;a++)this.extendLocaleList(s,o[a])}}var s=["en-US"];n(s,e);var o=r.getNodesByName(r.dataObj,"style")[0],a=r.getAttributeValue(o,"default-locale");n(s,a);for(var l=0,u=["layout","if","else-if","condition"].length;l<u;l++)i(r);return s},t.exports=p,p.Node={},p.Node.bibliography={build:function(t,e){this.tokentype===p.START&&(t.build.area="bibliography",t.build.root="bibliography",t.build.extension="",this.execs.push(function(t,e){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""})),e.push(this)}},t.exports=p,p.Node.choose={build:function(t,e){var r;this.tokentype===p.START&&(r=function(t,e){t.tmp.jump.push(void 0,p.LITERAL)}),this.tokentype===p.END&&(r=function(t,e){t.tmp.jump.pop()}),this.execs.push(r),e.push(this)},configure:function(t,e){this.tokentype===p.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},t.exports=p,p.Node.citation={build:function(t,e){if(this.tokentype===p.START&&(t.build.area="citation",t.build.root="citation",t.build.extension="",this.execs.push(function(t,e){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""})),this.tokentype===p.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==p.POSITION&&t.opt.update_mode!==p.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var r=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[r].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new p.Registry.Comparifier(t,"citation_sort")}e.push(this)}},t.exports=p,p.Node["#comment"]={build:function(t,e){}},t.exports=p,p.Node.date={build:function(t,e){var r,n,i,s,o,a,l;this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||p.Util.substituteStart.call(this,t,e),this.execs.push(t.build.extension?p.dateMacroAsSortKey:function(t,e,u){var c;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],c=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(void 0===(r=e[this.variables[0]])&&(r={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&u&&"locator-date"===this.variables[0]&&u["locator-date"]&&(r=u["locator-date"])),t.tmp.date_object=r,n=this.dateparts.length,i=0;i<n;i+=1)void 0!==t.tmp.date_object[(s=this.dateparts[i])+"_end"]?c.push(s):"month"===s&&void 0!==t.tmp.date_object.season_end&&c.push(s);for(o=[],n=(a=["year","month","day"]).length,i=0;i<n;i+=1)c.indexOf(a[i])>-1&&o.push(a[i]);for(c=o.slice(),l=2,n=c.length,i=0;i<n;i+=1)if(t.tmp.date_object[s=c[i]]!==t.tmp.date_object[s+"_end"]){l=i;break}t.tmp.date_collapse_at=c.slice(l)}}),this.execs.push(function(t,e){if(e[this.variables[0]]&&(t.parallel.StartVariable(this.variables[0]),t.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===e.type&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var r in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(r)&&"year"===r.slice(0,4)){t.tmp.issued_date={};var n=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=n,t.tmp.issued_date.pos=n.length-1}})),t.build.extension||this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||this.execs.push(function(t,e){e[this.variables[0]]&&(t.output.endTag(),t.parallel.CloseVariable(this.variables[0]))}),e.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||t.build.extension||p.Util.substituteEnd.call(this,t,e)}},t.exports=p,p.Node["date-part"]={build:function(t,e){var r,n,i,s,o,a,l,u,c,h,f,d,m,g,b,v;this.strings.form||(this.strings.form="long"),t.build.date_parts.push(this.strings.name);var y=t.build.date_variables[0];this.execs.push(function(t,e){if(t.tmp.date_object){if(i=!0,s="",o="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&(t.parallel.AppendToVariable(t.tmp.date_object.literal),t.output.append(t.tmp.date_object.literal,this)),t.tmp.date_object&&(s=t.tmp.date_object[this.strings.name],o=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==s||t.tmp.suppress_decorations||(s=!1),a=t.tmp.have_collapsed,l="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,u=t.opt["disambiguate-add-year-suffix"],!t.tmp.suppress_decorations&&u&&l&&(t.tmp.years_used.push(s),t.tmp.last_years_used.length>=t.tmp.years_used.length&&a&&t.tmp.last_years_used[t.tmp.years_used.length-1]===s&&(s=!1)),void 0!==s){c=!1,h=!1,"year"===this.strings.name&&(parseInt(s,10)<500&&parseInt(s,10)>0&&(h=t.getTerm("ad")),parseInt(s,10)<0&&(c=t.getTerm("bc"),s=-1*parseInt(s,10)),o&&(parseInt(o,10)<500&&parseInt(o,10)>0&&t.getTerm("ad"),parseInt(o,10)<0&&(t.getTerm("bc"),o=-1*parseInt(o,10)))),t.parallel.AppendToVariable(s);for(var _=""+t.tmp.date_object.month;_.length<2;)_="0"+_;var x=t.locale[t.opt.lang]["noun-genders"][_="month-"+_];if(this.strings.form){var w=this.strings.form;if("day"===this.strings.name&&"ordinal"===w&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+s!="1"&&(w="numeric"),s=p.Util.Dates[this.strings.name][w](t,s,x,this.default_locale),"month"===this.strings.name)if(t.tmp.strip_periods)s=s.replace(/\./g,"");else for(var E=0,A=this.decorations.length;E<A;E+=1)if("@strip-periods"===this.decorations[E][0]&&"true"===this.decorations[E][1]){s=s.replace(/\./g,"");break}if(o)if(o=p.Util.Dates[this.strings.name][w](t,o,x,"accessed"===y,"_end"),t.tmp.strip_periods)o=o.replace(/\./g,"");else for(E=0,A=this.decorations.length;E<A;E+=1)if("@strip-periods"===this.decorations[E][0]&&"true"===this.decorations[E][1]){o=o.replace(/\./g,"");break}}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(f=!0,n=t.tmp.date_collapse_at.length,r=0;r<n;r+=1)if(-1===t.tmp.donesies.indexOf(t.tmp.date_collapse_at[r])){f=!1;break}if(f){if(""+o!="0"){if(0===t.dateput.queue.length&&(i=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&s&&o){o=t.fun.year_mangler(s+"-"+o,!0);var S=t.getTerm("year-range-delimiter");o=o.slice(o.indexOf(S)+1)}t.dateput.append(o,this),i&&(t.dateput.current.value()[0].strings.prefix="")}t.output.append(s,this),(d=t.output.current.value()).blobs[d.blobs.length-1].strings.suffix="",t.output.append(t.getTerm("year-range-delimiter"),"empty"),m=t.dateput.current.value(),d.blobs=d.blobs.concat(m),t.dateput.string(t,t.dateput.queue),t.tmp.date_collapse_at=[]}else t.output.append(s,this),t.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+o!="0"&&(0===t.dateput.queue.length&&(i=!0),t.dateput.openLevel("empty"),t.dateput.append(o,this),i&&(t.dateput.current.value().blobs[0].strings.prefix=""),c&&t.dateput.append(c),h&&t.dateput.append(h),t.dateput.closeLevel())}else t.output.append(s,this);c&&t.output.append(c),h&&t.output.append(h),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&((s=""+t.tmp.date_object.season)&&s.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,t.output.append(t.getTerm("season-0"+s),this)):s&&t.output.append(s,this));t.tmp.value=[],!e[y]||!s&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,b=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),g=new p.NumericBlob(!1,b,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,v=new p.Util.Suffixator(p.SUFFIX_CHARS),g.setFormatter(v),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(g.range_prefix=t.getTerm("citation-range-delimiter")),g.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter?t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?t[t.tmp.area].opt["year-suffix-delimiter"]:t[t.tmp.area].opt.layout_delimiter,g.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(g,"literal"))}}),e.push(this)}},t.exports=p,p.Node["else-if"]={build:function(t,e){p.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){p.Conditions.Configure.call(this,t,e)}},t.exports=p,p.Node.else={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===p.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},t.exports=p,p.Node["et-al"]={build:function(t,e){"citation"!==t.build.area&&"bibliography"!==t.build.area||this.execs.push(function(t,e,r){t.tmp.etal_node=this,"string"==typeof this.strings.term&&(t.tmp.etal_term=this.strings.term)}),e.push(this)}},t.exports=p,p.Node.group={build:function(t,e,r){var n,i,s;if(this.realGroup=r,this.tokentype===p.START&&(p.Util.substituteStart.call(this,t,e),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()+1),this.juris||e.push(this),(i=[]).push(n=function(t,e){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(t.tmp.group_context.tip.label_capitalize_if_first||(t.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){var r=!1,n=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var i=t.tmp.group_context.tip.label_form;i||(i=this.strings.label_form_override);var s=t.tmp.group_context.tip.label_capitalize_if_first;s||(s=this.strings.label_capitalize_if_first),t.tmp.group_context.tip.condition?(r=t.tmp.group_context.tip.condition,n=t.tmp.group_context.tip.force_suppress):this.strings.reject?(r={test:this.strings.reject,not:!0},n=!0):this.strings.require&&(r={test:this.strings.require,not:!1}),t.tmp.group_context.push({old_term_predecessor:t.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:i,label_capitalize_if_first:s,parallel_conditions:this.strings.set_parallel_condition,condition:r,force_suppress:n,done_vars:t.tmp.group_context.tip.done_vars.slice()})}}),this.execs=i.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(t.build["publisher-special"]=!0,this.execs.push(n=function(t,e){if(this.strings["subgroup-delimiter"]&&e.publisher&&e["publisher-place"]){var r=e.publisher.split(/;\s*/),n=e["publisher-place"].split(/;\s*/);r.length>1&&r.length===n.length&&(t.publisherOutput=new p.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=r,t.publisherOutput["publisher-place-list"]=n)}})),this.juris)){for(var o=0,a=e.length;o<a;o++);var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,t,e);var u=new p.Token("if",p.START);s=this.juris,u.tests.push(n=function(e){if(!t.sys.retrieveStyleModule||!p.MODULE_MACROS[s]||!e.jurisdiction)return!1;var r=t.getJurisdictionList(e.jurisdiction);if(!t.opt.jurisdictions_seen[r[0]]){var n=t.retrieveAllStyleModules(r);for(var i in n){t.juris[i]={};for(var o=p.setupXml(n[i]),a=0,l=(f=o.getNodesByName(o.dataObj,"law-module")).length;a<l;a++){var u=o.getAttributeValue(f[a],"types");if(u){t.juris[i].types={};for(var c=0,h=(u=u.split(/\s+/)).length;c<h;c++)t.juris[i].types[u[c]]=!0}}var f;for(t.juris[i].types||(t.juris[i].types=p.MODULE_TYPES),a=0,l=(f=o.getNodesByName(o.dataObj,"macro")).length;a<l;a++){var d=o.getAttributeValue(f[a],"name");p.MODULE_MACROS[d]?(t.juris[i][d]=[],t.buildTokenLists(f[a],t.juris[i][d]),t.configureTokenList(t.juris[i][d])):p.debug('CSL: skipping non-modular macro name "'+d+'" in module context')}}}for(a=0,l=r.length;a<l;a++)if(t.juris[i=r[a]]&&t.juris[i].types[e.type])return e["best-jurisdiction"]=i,!0;return!1}),u.test=t.fun.match.any(u,t,u.tests),e.push(u);var c=new p.Token("text",p.SINGLETON);n=function(t,e,r){var n=0;if(t.juris[e["best-jurisdiction"]][this.juris])for(;n<t.juris[e["best-jurisdiction"]][this.juris].length;)n=p.tokenExec.call(t,t.juris[e["best-jurisdiction"]][this.juris][n],e,r)},c.juris=this.juris,c.execs.push(n),e.push(c);var h=new p.Token("if",p.END);p.Node.if.build.call(h,t,e);var f=new p.Token("else",p.START);p.Node.else.build.call(f,t,e)}if(this.tokentype===p.END&&(t.build["publisher-special"]&&(t.build["publisher-special"]=!1,"string"==typeof t[t.build.root].opt["name-delimiter"]&&this.execs.push(n=function(t,e){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)})),this.execs.push(n=function(t,e){if(t.output.endTag(),this.realGroup){var r=t.tmp.group_context.pop();if(t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=r.force_suppress),!r.force_suppress&&(r.variable_success||r.term_intended&&!r.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var n=t.output.current.value().blobs,i=t.output.current.value().blobs.length-1;t.tmp.just_looking||void 0===r.parallel_conditions||t.parallel.parallel_conditional_blobs_list.push({blobs:n,conditions:r.parallel_conditions,id:e.id,pos:i})}else{if(t.tmp.term_predecessor=r.old_term_predecessor,t.tmp.group_context.tip.variable_attempt=r.variable_attempt,r.force_suppress&&!t.tmp.group_context.tip.condition){t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=r.variable_success_parent;for(var s=0,o=r.done_vars.length;s<o;s++)t.tmp.done_vars.indexOf(r.done_vars[s])>-1&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,s).concat(t.tmp.done_vars.slice(s+1)))}t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}}),this.juris)){var d=new p.Token("else",p.END);p.Node.else.build.call(d,t,e);var m=new p.Token("choose",p.END);p.Node.choose.build.call(m,t,e)}this.tokentype===p.END&&(this.juris||e.push(this),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()-1),p.Util.substituteEnd.call(this,t,e))}},t.exports=p,p.Node.if={build:function(t,e){p.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){p.Conditions.Configure.call(this,t,e)}},t.exports=p,p.Node.conditions={build:function(t,e){this.tokentype===p.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===p.END&&t.tmp.conditions.matchCombine()}},t.exports=p,p.Node.condition={build:function(t,e){if(this.tokentype===p.SINGLETON){var r=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(r)}}},t.exports=p,p.Conditions={},p.Conditions.TopNode=function(t,e){this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new p.Conditions.Engine(t,this)),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(this.execs.push(function(t,e){return this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default),this[t.tmp.jump.value()]}),this.locale_default&&(t.opt.lang=this.locale_default))},p.Conditions.Configure=function(t,e){this.tokentype===p.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===p.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},p.Conditions.Engine=function(t,e){this.token=e,this.state=t},p.Conditions.Engine.prototype.addTest=function(t){this.token.tests.push(t)},p.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},p.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},t.exports=p,p.Node.info={build:function(t,e){t.build.skip=this.tokentype===p.START&&"info"}},t.exports=p,p.Node.institution={build:function(t,e){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&this.execs.push(function(t,e){t.tmp.institution_delimiter="string"==typeof this.strings.delimiter?this.strings.delimiter:t.tmp.name_delimiter,"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?this.and_term=t.opt.development_extensions.expect_and_symbol_form?t.getTerm("and","symbol",0):"&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),void 0===this.and_term&&t.tmp.and_term&&(this.and_term=t.getTerm("and","long",0)),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new p.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this}),e.push(this)},configure:function(t,e){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(t.build.has_institution=!0)}},t.exports=p,p.Node["institution-part"]={build:function(t,e){var r;"long"===this.strings.name?r=this.strings["if-short"]?function(t,e){t.nameOutput.institutionpart["long-with-short"]=this}:function(t,e){t.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(r=function(t,e){t.nameOutput.institutionpart.short=this}),this.execs.push(r),e.push(this)}},t.exports=p,p.Node.key={build:function(t,e){var r;e=t[t.build.root+"_sort"].tokens;var n=new p.Token("key",p.START);t.tmp.root=t.build.root,n.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),n.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),n.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),n.execs.push(r=function(t,e){t.tmp.done_vars=[]}),t.opt.citation_number_sort_direction=this.strings.sort_direction,n.execs.push(r=function(t,e){t.output.openLevel("empty")});var i=[];if(this.strings.sort_direction===p.DESCENDING?(i.push(1),i.push(-1)):(i.push(-1),i.push(1)),t[t.build.area].opt.sort_directions.push(i),p.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(t.build.date_key=!0),n.execs.push(r=function(t,e){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))}),e.push(n),this.variables.length){var s=this.variables[0];if("citation-number"===s&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t.opt.citation_number_sort=!1),"bibliography"===t.build.root&&"_sort"===t.build.extension&&(t.opt.citation_number_sort_used=!1)),p.NAME_VARIABLES.indexOf(s)>-1){var o=new p.Token("names",p.START);o.tokentype=p.START,o.variables=this.variables,p.Node.names.build.call(o,t,e);var a=new p.Token("name",p.SINGLETON);a.tokentype=p.SINGLETON,a.strings["name-as-sort-order"]="all",a.strings["sort-separator"]=" ",a.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),a.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),a.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),p.Node.name.build.call(a,t,e);var l=new p.Token("institution",p.SINGLETON);l.tokentype=p.SINGLETON,p.Node.institution.build.call(l,t,e);var u=new p.Token("names",p.END);u.tokentype=p.END,p.Node.names.build.call(u,t,e)}else{var c=new p.Token("text",p.SINGLETON);c.dateparts=this.dateparts,p.NUMERIC_VARIABLES.indexOf(s)>-1?r=function(t,e){var r;r=!1,(r="citation-number"===s?t.registry.registry[e.id].seq.toString():e[s])&&(r=p.Util.padding(r)),t.output.append(r,this)}:"citation-label"===s?r=function(t,e){var r=t.getCitationLabel(e);t.output.append(r,this)}:p.DATE_VARIABLES.indexOf(s)>-1?(r=p.dateAsSortKey,c.variables=this.variables):r="title"===s?t.transform.getOutputFunction(this.variables,"title",!1,!1,!0):function(t,e){t.output.append(e[s],"empty")},c.execs.push(r),e.push(c)}}else{var h=new p.Token("text",p.SINGLETON);h.postponed_macro=this.postponed_macro,p.expandMacro.call(t,h,e)}var f=new p.Token("key",p.END);f.execs.push(r=function(t,e){var r=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(r=t.sys.normalizeUnicode(r)),""===(r=r?r.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"")&&(r=void 0),("string"!=typeof r||t.tmp.empty_date)&&(r=void 0,t.tmp.empty_date=!1),t[t[t.tmp.area].root+"_sort"].keys.push(r),t.tmp.value=[]}),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),f.execs.push(r=function(t,e){var r=t.registry.registry[e.id].disambig.year_suffix;r||(r=0);var n=p.Util.padding(""+r);t[t.tmp.area].keys.push(n)})),t.build.date_key=!1),f.execs.push(r=function(t,e){t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-use-last"]=void 0,t.tmp.sort_key_flag=!1}),e.push(f)}},t.exports=p,p.Node.label={build:function(t,e){if(this.strings.term)this.execs.push(function(t,e,r){var n=p.evaluateLabel(this,t,e,r);r&&"locator"===this.strings.term&&(t.parallel.StartVariable("label"),t.parallel.AppendToVariable(r.label),r.section_form_override=this.strings.form),n&&(t.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(t,n),-1===n.indexOf("%s")&&(this.strings.capitalize_if_first&&(t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area||(n=p.Output.Formatters["capitalize-first"](t,n))),t.output.append(n,this)),r&&"locator"===this.strings.term&&t.parallel.CloseVariable()});else{this.strings.form||(this.strings.form="long");var r=t.build.names_variables.slice(-1)[0];t.build.name_label||(t.build.name_label={});for(var n=0,i=r.length;n<i;n+=1)t.build.name_label[r[n]]||(t.build.name_label[r[n]]={});if(t.build.name_flag)for(n=0,i=r.length;n<i;n+=1)t.build.name_label[r[n]].after=this;else for(n=0,i=r.length;n<i;n+=1)t.build.name_label[r[n]].before=this}e.push(this)}},t.exports=p,p.Node.layout={build:function(t,e){var r,n,i,s;function o(){"bibliography"===t.build.area&&((n=new p.Token("text",p.SINGLETON)).execs.push(function(t,e,r){var n;n=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var i=t.output.current.value();t.opt.using_display?i.blobs[i.blobs.length-1].strings.suffix=n:i.strings.suffix=n,t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")}),e.push(n))}if(this.tokentype===p.START&&(t.build.current_default_locale=this.locale_raw?this.locale_raw:t.opt["default-locale"],this.execs.push(function(t,e,r){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&(cite_entry=new p.Token("group",p.START),cite_entry.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",cite_entry),t.output.current.value().item_id=e.system_id,r&&(t.output.current.value().locator_txt=r.locator_txt,t.output.current.value().suffix_txt=r.suffix_txt))})),this.tokentype!==p.START||t.tmp.cite_affixes[t.build.area]||(this.execs.push(function(t,e){t.tmp.done_vars=[],t.opt.suppressedJurisdictions[e.country]&&e.country&&-1===["treaty","patent"].indexOf(e.type)&&t.tmp.done_vars.push("country"),!t.tmp.just_looking&&t.registry.registry[e.id]&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),t.tmp.rendered_name=!1}),this.execs.push(function(t,e){t.tmp.sort_key_flag=!1}),this.execs.push(function(t,e){t.tmp.nameset_counter=0}),this.execs.push(function(t,e){var r=new p.Token;t.opt.development_extensions.rtl_support&&["ar","he","fa","ur","yi","ps","syr"].indexOf(e.language)>-1&&((r=new p.Token).strings.prefix="\u202b",r.strings.suffix="\u202c"),t.output.openLevel(r)}),e.push(this),"citation"===t.build.area&&((r=new p.Token("text",p.SINGLETON)).execs.push(function(t,e,r){var n;if(r&&r.prefix){n="";var i=r.prefix.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),s=i.slice(-1);i.match(p.ENDSWITH_ROMANESQUE_REGEXP)?n=" ":p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1?n=" ":s.match(/[\)\],0-9]/)&&(n=" ");var o=!1;p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(s)>-1&&r.prefix.trim().indexOf(" ")>-1&&(t.tmp.term_predecessor=!1,o=!0);var a=(r.prefix+n).replace(/\s+/g," ");t.tmp.just_looking||(a=t.output.checkNestedBrace.update(a)),t.output.append(a,this,!1,o)}}),e.push(r))),this.locale_raw&&((s=new p.Token("dummy",p.START)).locale=this.locale_raw,s.strings.delimiter=this.strings.delimiter,s.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===p.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(i=new p.Token("else",p.START),p.Node.else.build.call(i,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)s.name="else-if",p.Attributes["@locale-internal"].call(s,t,this.locale_raw),p.Node["else-if"].build.call(s,t,e);else{var a=new p.Token("choose",p.START);p.Node.choose.build.call(a,t,e),s.name="if",p.Attributes["@locale-internal"].call(s,t,this.locale_raw),p.Node.if.build.call(s,t,e)}t.tmp.cite_affixes[t.build.area][s.locale]={},t.tmp.cite_affixes[t.build.area][s.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][s.locale].suffix=this.strings.suffix}this.tokentype===p.END&&(this.locale_raw&&(o(),t.build.layout_locale_flag?(s.name="else-if",s.tokentype=p.END,p.Attributes["@locale-internal"].call(s,t,this.locale_raw),p.Node["else-if"].build.call(s,t,e)):(s.name="if",s.tokentype=p.END,p.Attributes["@locale-internal"].call(s,t,this.locale_raw),p.Node.if.build.call(s,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(o(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(i=new p.Token("else",p.END),p.Node.else.build.call(i,t,e),i=new p.Token("choose",p.END),p.Node.choose.build.call(i,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&((n=new p.Token("text",p.SINGLETON)).execs.push(function(t,e,r){var n;if(r&&r.suffix){n="",(r.suffix.match(p.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(r.suffix.slice(0,1))>-1)&&(n=" ");var i=r.suffix;t.tmp.just_looking||(i=t.output.checkNestedBrace.update(i)),t.output.append(n+i,this)}}),e.push(n)),this.execs.push(function(t,e){t.output.closeLevel()}),this.execs.push(function(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()}),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},t.exports=p,p.Node.macro={build:function(t,e){}},t.exports=p,p.NameOutput=function(t,e,r,n){this.debug=!1,this.state=t,this.Item=e,this.item=r,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},p.NameOutput.prototype.init=function(t){this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,r=this.variables.length;e<r;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0]},p.NameOutput.prototype.reinit=function(t,e){if(this.labelVariable=e,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var r=this.state.tmp.value.slice();this.state.tmp.value=[];for(var n=0,i=this.variables.length;n<i;n+=1)this.Item[this.variables[n]]&&this.Item[this.variables[n]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[n]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.value=r}},p.NameOutput.prototype.outputNames=function(){var t=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=p.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",d=0,m=this.family.execs.length;d<m;d+=1)this.family.execs[d].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=p.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",d=0,m=this.given.execs.length;d<m;d+=1)this.given.execs[d].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.getEtAlConfig(),this.divideAndTransliterateNames(),this.truncatePersonalNameLists(),this.disambigNames(),this.constrainNames(),"count"!==this.name.strings.form){this.setEtAlParameters(),this.setCommonTerm(),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames();var e=[];for(d=0,m=t.length;d<m;d+=1){var r=t[d],n=[],i=!1,s=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){for(var o=0,a=this.institutions[r].length;o<a;o+=1)n.push(this.joinPersonsAndInstitutions([this.persons[r][o],this.institutions[r][o]]));if(this.institutions[r].length){var l=this.nameset_base+this.variable_offset[r];this.freeters[r].length&&(l+=1),i=this.joinInstitutionSets(n,l)}s=this.joinFreetersAndInstitutionSets([this.freeters[r],i])}else s=this._join([this.freeters[r]],"");if(s&&(this.state.tmp.extension||(s=this._applyLabels(s,r)),e.push(s)),this.common_term)break}for(this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),d=0,m=e.length;d<m;d+=1)this.state.output.append(e[d],"literal",!0);this.state.output.closeLevel("empty");var u=this.state.output.pop(),c=p.Util.cloneToken(this.names);if(this.state.output.append(u,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.state.tmp.name_node.top=this.state.output.current.value(),"authority"!==t[0]){var h=[],f=this.Item[t[0]];if(f)for(var d=0,m=f.length;d<m;d+=1){var g=p.Util.Names.getRawName(f[d]);g&&h.push(g)}(h=h.join(", "))&&(this.state.tmp.name_node.string=h)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type){var b=[];this.state.tmp.first_name_string&&b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),(b=b.join(", "))&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",b),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),u=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(u)))}this._collapseAuthor(),this.variables=[]}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},p.NameOutput.prototype._applyLabels=function(t,e){var r;if(!this.label||!this.label[this.labelVariable])return t;var n=0,i=this.freeters_count[e]+this.institutions_count[e];if(i>1)n=1;else{for(var s=0,o=this.persons[e].length;s<o;s+=1)i+=this.persons_count[e][s];i>1&&(n=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(n=this.label[this.labelVariable].before.strings.plural),r=this._buildLabel(e,n,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(r,this.label[this.labelVariable].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(n=this.label[this.labelVariable].after.strings.plural),r=this._buildLabel(e,n,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(r,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},p.NameOutput.prototype._buildLabel=function(t,e,r,n){this.common_term&&(t=this.common_term);var i=!1,s=this.label[n][r];return s&&(i=p.castLabel(this.state,s,t,e,p.TOLERANT)),i},p.NameOutput.prototype._collapseAuthor=function(){var t,e,r;0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.item&&this.item["suppress-author"]&&this._first_creator_variable==this.variables[0]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=r,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,r=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=r,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1))))},t.exports=p,p.NameOutput.prototype.isPerson=function(t){return!(t.literal||!t.given&&t.family&&t.isInstitution)},t.exports=p,p.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,r,n;for(t in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],i=0,s=this.persons[t].length;i<s;i+=1)this.persons_count[t][i]=this.persons[t][i].length,this.persons[t][i]=this._truncateNameList(this.persons,t,i);if((n=1===this.etal_min&&1===this.etal_use_first&&!this.state.tmp.extension&&!this.state.tmp.just_looking&&t)||this._please_chop)for(e=0,r=this.variables.length;e<r;e+=1){this.freeters[t=this.variables[e]].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=n));for(var i=0,s=this.persons[t].length;i<s;i++)if(this.persons[t][i].length){if(this._please_chop===t){this.persons[t][i]=this.persons[t][i].slice(1),this.persons_count[t][i]+=-1,this._please_chop=!1;break}if(n&&!this._please_chop){this.freeters[t]=this.persons[t][i].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=n;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):n&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,this._please_chop=n))}for(e=0,r=this.variables.length;e<r;e+=1)for(this.institutions[t].length&&(this.nameset_offset+=1),i=0,s=this.persons[t].length;i<s;i++)this.persons[t][i].length&&(this.nameset_offset+=1)},p.NameOutput.prototype._truncateNameList=function(t,e,r){var n;return n=void 0===r?t[e]:t[e][r],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&n.length>50&&n.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2&&(n=n.slice(0,this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+1).concat(n.slice(-1))),n},t.exports=p,p.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,r,n,i=this.Item,s=this.variables;for(this.varnames=s.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=s.length;t<e;t+=1){var o=s[t];this.variable_offset[o]=this.nameset_offset;var a=this._normalizeVariableValue(i,o);if(this.name.strings["suppress-min"]&&a.length>=this.name.strings["suppress-min"]&&(a=[]),this.name.strings["suppress-max"]&&a.length<=this.name.strings["suppress-max"]&&(a=[]),this._getFreeters(o,a),this._getPersonsAndInstitutions(o,a),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[o]=[],r=0,n=this.persons[o].length;r<n;r+=1)this.persons[o][r]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[o]=[],this.freeters[o]=this.freeters[o].concat(this.persons[o]),r=0,n=this.persons[o].length;r<n;r+=1)for(var l=0,u=this.persons[o][r].length;l<u;l+=1)this.freeters[o].push(this.persons[o][r][l]);this.persons[o]=[]}}},p.NameOutput.prototype._normalizeVariableValue=function(t,e){var r;return"string"==typeof t[e]||"number"==typeof t[e]?(p.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),r=[{literal:t[e]+""}]):t[e]?"number"!=typeof t[e].length?(p.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]],r=t[e].slice()):r=t[e].slice():r=[],r},p.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var r=e.length-1;r>-1&&this.isPerson(e[r]);r--)(n=this._checkNickname(e.pop()))&&this.freeters[t].push(n);else for(r=e.length-1;r>-1;r--){var n=e.pop();this.isPerson(n)&&(n=this._checkNickname(n)),this.freeters[t].push(n)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},p.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var r=[],n=!1,i=!0,s=e.length-1;s>-1;s+=-1)if(this.isPerson(e[s])){var o=this._checkNickname(e[s]);o&&r.push(o)}else n=!0,this.institutions[t].push(e[s]),i||(r.reverse(),this.persons[t].push(r),r=[]),i=!1;n&&(r.reverse(),this.persons[t].push(r),this.persons[t].reverse(),this.institutions[t].reverse())}},p.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;e>-1;e+=-1)t.pop()},p.NameOutput.prototype._checkNickname=function(t){var e;if(["interview","personal_communication"].indexOf(this.Item.type)>-1&&(e=p.Util.Names.getRawName(t))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var r=e;this.state.sys.normalizeAbbrevsKey&&(r=this.state.sys.normalizeAbbrevsKey("author",e)),this.state.transform.loadAbbreviation("default","nickname",r);var n=this.state.transform.abbrevs.default.nickname[r];n&&(t="!here>>>"!==n&&{family:n,given:""})}return t},t.exports=p,p.NameOutput.prototype.joinPersons=function(t,e,r,n){return n||(n="name"),void 0===r?1===this.etal_spec[e].freeters?this._joinEtAl(t,n):2===this.etal_spec[e].freeters?this._joinEllipsis(t,n):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,n):1===this.etal_spec[e].persons[r]?this._joinEtAl(t,n):2===this.etal_spec[e].persons[r]?this._joinEllipsis(t,n):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,n)},p.NameOutput.prototype.joinInstitutionSets=function(t,e){return 1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t,"institution")},p.NameOutput.prototype.joinPersonsAndInstitutions=function(t){return this._join(t,this.state.tmp.name_delimiter)},p.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){return this._join(t,"[never here]",this.with.single,this.with.multiple)},p.NameOutput.prototype._joinEtAl=function(t,e){var r=this._join(t,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(e)),this.state.output.current.value().strings.delimiter="",this.state.output.append(r,"literal",!0),t.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._joinEllipsis=function(t,e){return this._join(t,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,e)},p.NameOutput.prototype._joinAnd=function(t,e){return this._join(t,this.state.inheritOpt(this[e],"delimiter",e+"-delimiter",", "),this[e].and.single,this[e].and.multiple,e)},p.NameOutput.prototype._join=function(t,e,r,n,i){var s,o;if(!t)return!1;for(s=t.length-1;s>-1;s+=-1)t[s]&&0!==t[s].length&&t[s].blobs.length||(t=t.slice(0,s).concat(t.slice(s+1)));if(!t.length)return!1;if(r&&2===t.length)r&&(r=new p.Blob(r.blobs,r)),t=[t[0],r,t[1]];else{for(s=0,o=t.length-(n?2:1);s<o;s+=1)t[s].strings.suffix+=e;if(t.length>1){var a=t.pop();n?(n=new p.Blob(n.blobs,n),t.push(n)):(r&&(r=new p.Blob(r.blobs,r)),t.push(r)),t.push(a)}}for(this.state.output.openLevel(),r&&n&&(this.state.output.current.value().strings.delimiter=""),s=0,o=t.length;s<o;s+=1)this.state.output.append(t[s],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._getToken=function(t){var e=this[t];return"institution"===t?new p.Token:e},t.exports=p,p.NameOutput.prototype.setCommonTerm=function(){var t=this.variables.slice();if(t.sort(),this.common_term=t.join(""),!this.common_term)return!1;var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2)this.common_term=!1;else for(var r=0,n=this.variables.length-1;r<n;r+=1){var i=this.variables[r],s=this.variables[r+1];if((this.freeters[i].length||this.freeters[s].length)&&(this.etal_spec[i].freeters!==this.etal_spec[s].freeters||!this._compareNamesets(this.freeters[i],this.freeters[s])))return void(this.common_term=!1);if(this.persons[i].length!==this.persons[s].length)return void(this.common_term=!1);for(var o=0,a=this.persons[i].length;o<a;o+=1)if(this.etal_spec[i].persons[o]!==this.etal_spec[s].persons[o]||!this._compareNamesets(this.persons[i][o],this.persons[s][o]))return void(this.common_term=!1)}},p.NameOutput.prototype._compareNamesets=function(t,e){if(t.length!==e.length)return!1;for(var r=0,n=e.length;r<n;r+=1)for(var i=0,s=p.NAME_PARTS.length;i<s;i+=1){var o=p.NAME_PARTS[i];if(!t[r]||t[r][o]!=e[r][o])return!1}return!0},t.exports=p,p.NameOutput.prototype.constrainNames=function(){var t;this.names_count=0;for(var e=0,r=this.variables.length;e<r;e+=1){var n=this.variables[e];t=this.nameset_base+e,this.freeters[n].length&&(this.state.tmp.names_max.push(this.freeters[n].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,n,t),this.names_count+=this.freeters[n].length),this.institutions[n].length&&(this.state.tmp.names_max.push(this.institutions[n].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,n,t),this.persons[n]=this.persons[n].slice(0,this.institutions[n].length),this.names_count+=this.institutions[n].length);for(var i=0,s=this.persons[n].length;i<s;i+=1)this.persons[n][i].length&&(this.state.tmp.names_max.push(this.persons[n][i].length,"literal"),this._imposeNameConstraints(this.persons[n],this.persons_count[n],i,t),this.names_count+=this.persons[n][i].length)}},p.NameOutput.prototype._imposeNameConstraints=function(t,e,r,n){var i=t[r],s=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]?s=this.state.tmp.disambig_request.names[n]:e[r]>=this.etal_min&&(s=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[n]>this.etal_use_first?s=e[r]<this.etal_min?e[r]:this.state.tmp.disambig_request.names[n]:e[r]>=this.etal_min&&(s=this.etal_use_first),this.etal_use_last&&s>this.etal_min-2&&(s=this.etal_min-2));var o=e[r]>s;s>e[r]&&(s=i.length),this.etal_min>=this.etal_use_first&&o&&(t[r]=this.etal_use_last?i.slice(0,s).concat(i.slice(-1)):i.slice(0,s)),this.state.tmp.disambig_settings.names[n]=t[r].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},t.exports=p,p.NameOutput.prototype.disambigNames=function(){for(var t,e=0,r=this.variables.length;e<r;e+=1){var n=this.variables[e];if(t=this.nameset_base+e,this.freeters[n].length&&this._runDisambigNames(this.freeters[n],t),this.institutions[n].length){void 0===this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var i=0,s=this.institutions[n].length;i<s;i+=1)void 0===this.state.tmp.disambig_settings.givens[t][i]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(i=0,s=this.persons[n].length;i<s;i+=1)this.persons[n][i].length&&this._runDisambigNames(this.persons[n][i],t)}},p.NameOutput.prototype._runDisambigNames=function(t,e){var r,n,i,s,o,a;for(s=0,o=t.length;s<o;s+=1)if(t[s].given||t[s].family){if(n=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[s],s),void 0===this.state.tmp.disambig_settings.givens[e])for(var l=0,u=e+1;l<u;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[e][s]&&(r=this.state.inheritOpt(this.name,"form","name-form","long"),i=this.state.registry.namereg.evalname(""+this.Item.id,t[s],s,0,r,n),this.state.tmp.disambig_settings.givens[e].push(i)),r=this.state.inheritOpt(this.name,"form","name-form","long"),a=this.state.registry.namereg.evalname(""+this.Item.id,t[s],s,0,r,n),this.state.tmp.disambig_request){var c=this.state.tmp.disambig_settings.givens[e][s];1!==c||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==t[s].given||(c=2),i=c,this.state.opt["disambiguate-add-givenname"]&&t[s].given&&(i=this.state.registry.namereg.evalname(""+this.Item.id,t[s],s,i,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else i=a;!this.state.tmp.just_looking&&this.item&&this.item.position===p.POSITION_FIRST&&a>i&&(i=a),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][s]=i,"string"!=typeof n||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},t.exports=p,p.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===t&&(t={}),t.position?(this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.state.inheritOpt(this.name,"et-al-min"),this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.state.inheritOpt(this.name,"et-al-use-first")):(this.etal_min=this.state.tmp["et-al-min"]?this.state.tmp["et-al-min"]:this.state.inheritOpt(this.name,"et-al-min"),this.etal_use_first=this.state.tmp["et-al-use-first"]?this.state.tmp["et-al-use-first"]:this.state.inheritOpt(this.name,"et-al-use-first"),this.etal_use_last="boolean"==typeof this.state.tmp["et-al-use-last"]?this.state.tmp["et-al-use-last"]:this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},t.exports=p,p.NameOutput.prototype.setEtAlParameters=function(){var t,e,r,n;for(t=0,e=this.variables.length;t<e;t+=1){var i=this.variables[t];for(void 0===this.etal_spec[i]&&(this.etal_spec[i]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[i],this.freeters[i].length&&this._setEtAlParameter("freeters",i),r=0,n=this.persons[i].length;r<n;r+=1)void 0===this.etal_spec[i][r]&&(this.etal_spec[i].persons[r]=0),this._setEtAlParameter("persons",i,r);this.institutions[i].length&&this._setEtAlParameter("institutions",i)}},p.NameOutput.prototype._setEtAlParameter=function(t,e,r){var n,i;"persons"===t?(n=this.persons[e][r],i=this.persons_count[e][r]):(n=this[t][e],i=this[t+"_count"][e]),n.length<i&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[r]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[r]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[r]=0:this.etal_spec[e][t]=0},t.exports=p,p.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,r=this.variables.length;e<r;e+=1){var n=this.variables[e];(this.freeters[n].length||this.institutions[n].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[n].length&&(this.freeters[n]=this._renderNames(n,this.freeters[n],t));for(var i=0,s=this.institutions[n].length;i<s;i+=1)this.persons[n][i]=this._renderNames(n,this.persons[n][i],t,i)}this.renderInstitutionNames()},p.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;t<e;t+=1)for(var r=this.variables[t],n=0,i=this.institutions[r].length;n<i;n+=1){var s,o=this.institutions[r][n],a={primary:"locale-orig",secondary:!1,tertiary:!1};if(s=this.state.tmp.extension?["sort"]:o.isInstitution||o.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],u=0,c=l.length;u<c&&!(s.length-1<u);u+=1)s[u]&&(a[l[u]]="locale-"+s[u]);else a.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(a.secondary=!1,a.tertiary=!1),this.setRenderedName(o);var p=this._renderInstitutionName(r,o,a,n);this.institutions[r][n]=p}},p.NameOutput.prototype._renderInstitutionName=function(t,e,r,n){var i,s,o,a,l,u,c=this.getName(e,r.primary,!0),p=c.name,h=c.usedOrig;p&&(p=this.fixupInstitution(p,t,n)),u=!1,r.secondary&&(h=(c=this.getName(e,r.secondary,!1,h)).usedOrig,(u=c.name)&&(u=this.fixupInstitution(u,t,n))),i=!1,r.tertiary&&(i=(c=this.getName(e,r.tertiary,!1,h)).name)&&(i=this.fixupInstitution(i,t,n));var f={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(p&&(f.l.pri=p.long,f.s.pri=p.short.length?p.short:p.long),u&&(f.l.sec=u.long,f.s.sec=u.short.length?u.short:u.long),i&&(f.l.ter=i.long,f.s.ter=i.short.length?i.short:i.long),this.institution.strings["institution-parts"]){case"short":p.short.length?(o=this._getShortStyle(),a=[this._composeOneInstitutionPart([f.s.pri,f.s.sec,f.s.ter],r,o,t)]):(s=this._getLongStyle(p,t,n),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,s,t)]);break;case"short-long":s=this._getLongStyle(p,t,n),o=this._getShortStyle(),a=[l=this._renderOneInstitutionPart(p.short,o),this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,s,t)];break;case"long-short":s=this._getLongStyle(p,t,n),o=this._getShortStyle(),l=this._renderOneInstitutionPart(p.short,o),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,s,t),l];break;default:s=this._getLongStyle(p,t,n),a=[this._composeOneInstitutionPart([f.l.pri,f.l.sec,f.l.ter],r,s,t)]}var d=this._join(a," ");return this.state.tmp.name_node.children.push(d),d},p.NameOutput.prototype._composeOneInstitutionPart=function(t,e,r,n){var i,s,o,a,l=!1,u=!1,c=!1;if(t[0]){if(i=p.Util.cloneToken(r),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var h=!1,f=0,d=i.decorations.length;f<d;f+=1)"@font-style"===r.decorations[f][0]&&"italic"===i.decorations[f][1]&&(h=!0);h||i.decorations.push(["@font-style","italic"])}l=this._renderOneInstitutionPart(t[0],i)}if(t[1]&&(u=this._renderOneInstitutionPart(t[1],r)),t[2]&&(c=this._renderOneInstitutionPart(t[2],r)),u||c){this.state.output.openLevel("empty"),this.state.output.append(l),s=p.Util.cloneToken(r),e.secondary&&(s.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,s.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,s.strings.prefix||(s.strings.prefix=" "));var m=new p.Token;m.decorations.push(["@font-style","normal"]),m.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(m),this.state.output.append(u,s),this.state.output.closeLevel(),o=p.Util.cloneToken(r),e.tertiary&&(o.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,o.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,o.strings.prefix||(o.strings.prefix=" "));var g=new p.Token;g.decorations.push(["@font-style","normal"]),g.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(g),this.state.output.append(c,o),this.state.output.closeLevel(),this.state.output.closeLevel(),a=this.state.output.pop()}else a=l;return a},p.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var r=0,n=t.length;r<n;r+=1)if(t[r]){var i=t[r];if(this.state.tmp.strip_periods)i=i.replace(/\./g,"");else for(var s=0,o=e.decorations.length;s<o;s+=1)if("@strip-periods"===e.decorations[s][0]&&"true"===e.decorations[s][1]){i=i.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),"!here>>>"===i?t[r]=!1:(this.state.output.append(i,e,!0),t[r]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},p.NameOutput.prototype._renderNames=function(t,e,r,n){var i=!1;if(e.length){for(var s=[],o=0,a=e.length;o<a;o+=1){var l,u=e[o],c={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:u.isInstitution||u.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var h=["primary","secondary","tertiary"],f=0,d=h.length;f<d&&!(l.length-1<f);f+=1)c[h[f]]="locale-"+l[f];else c.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(c.secondary=!1,c.tertiary=!1),this.setRenderedName(u),u.literal||u.isInstitution)s.push(this._renderInstitutionName(t,u,c,n));else{var m=this._renderPersonalName(t,u,c,r,o,n),g=p.Util.cloneToken(this.name);this.state.output.append(m,g,!0),s.push(this.state.output.pop())}}i=this.joinPersons(s,r,n)}return i},p.NameOutput.prototype._renderPersonalName=function(t,e,r,n,i,s){var o=this.getName(e,r.primary,!0),a=this._renderOnePersonalName(o.name,n,i,s),l=!1;r.secondary&&(o=this.getName(e,r.secondary,!1,o.usedOrig)).name&&(l=this._renderOnePersonalName(o.name,n,i,s));var u,c=!1;if(r.tertiary&&(o=this.getName(e,r.tertiary,!1,o.usedOrig)).name&&(c=this._renderOnePersonalName(o.name,n,i,s)),l||c){this.state.output.openLevel("empty"),this.state.output.append(a);var h=new p.Token;r.secondary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[r.secondary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[r.secondary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(l,h);var f=new p.Token;r.tertiary&&(f.strings.prefix=this.state.opt.citeAffixes.persons[r.tertiary].prefix,f.strings.suffix=this.state.opt.citeAffixes.persons[r.tertiary].suffix,f.strings.prefix||(f.strings.prefix=" ")),this.state.output.append(c,f),this.state.output.closeLevel(),u=this.state.output.pop()}else u=a;return u},p.NameOutput.prototype._isRomanesque=function(t){var e,r=2;return t.family.replace(/\"/g,"").match(p.ROMANESQUE_REGEXP)||(r=0),!r&&t.given&&t.given.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&(r=1),2==r&&(t.multi&&t.multi.main?e=t.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),["ja","zh"].indexOf(e)>-1&&(r=1)),r},p.NameOutput.prototype._renderOnePersonalName=function(t,e,r,n){var i=t,s=this._droppingParticle(i,e,n),o=this._familyName(i),a=this._nonDroppingParticle(i),l=this._givenName(i,e,r),u=this._nameSuffix(i);!1===l&&(s=!1,u=!1);var c,h=this.state.inheritOpt(this.name,"sort-separator");h||(h=""),c=i["comma-suffix"]?", ":" ";var f,d,m,g,b=this._isRomanesque(i),v=function t(e){return!!e&&("string"==typeof e.blobs?["\u2019","'","-"," "].indexOf(e.blobs.slice(-1))>-1:t(e.blobs[e.blobs.length-1]))}(a);if(0===b)f=this._join([a,o,l],"");else if(1===b||i["static-ordering"])f=this._join([a,o,l]," ");else if(i["reverse-ordering"])f=this._join([l,a,o]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(m=this._join([a,o,s]," "),d=this._join([m,l],this.state.opt.sort_sep),f=this._join([d,u]," ")):(g=this._join([l,s,a]," "),d=this._join([o,g],this.state.opt.sort_sep),f=this._join([d,u]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===r&&(0===n||void 0===n))["Lord","Lady"].indexOf(i.given)>-1&&(h=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(g=this._join([l,s],i["comma-dropping-particle"]+" "),(g=this._join([g,a]," "))&&this.given&&(g.strings.prefix=this.given.strings.prefix,g.strings.suffix=this.given.strings.suffix),o&&this.family&&(o.strings.prefix=this.family.strings.prefix,o.strings.suffix=this.family.strings.suffix),d=this._join([o,g],h),f=this._join([d,u],h)):((m=this._join([a,o],v?"":" "))&&this.family&&(m.strings.prefix=this.family.strings.prefix,m.strings.suffix=this.family.strings.suffix),(g=this._join([l,s],i["comma-dropping-particle"]+" "))&&this.given&&(g.strings.prefix=this.given.strings.prefix,g.strings.suffix=this.given.strings.suffix),d=this._join([m,g],h),f=this._join([d,u],h));else{i["dropping-particle"]&&i.family&&!i["non-dropping-particle"]&&["'","\u02bc","\u2019","-"].indexOf(i["dropping-particle"].slice(-1))>-1&&(o=this._join([s,o],""),s=!1);var y=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1&&(y="\xa0"),v?(g=this._join([a,o],""),g=this._join([s,g],y)):g=this._join([s,a,o],y),(g=this._join([g,u],c))&&this.family&&(g.strings.prefix=this.family.strings.prefix,g.strings.suffix=this.family.strings.suffix),l&&this.given&&(l.strings.prefix=this.given.strings.prefix,l.strings.suffix=this.given.strings.suffix),g.strings.prefix&&(i["comma-dropping-particle"]=""),f=this._join([l,g],i["comma-dropping-particle"]+y)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(f),f},p.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},p.NameOutput.prototype._stripPeriods=function(t,e){var r=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(r)for(var n=0,i=r.decorations.length;n<i;n+=1)if("@strip-periods"===r.decorations[n][0]&&"true"===r.decorations[n][1]){e=e.replace(/\./g,"");break}return e},p.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var r=this._stripPeriods("family",e);return!!this.state.output.append(r,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._droppingParticle=function(t,e,r){var n=t["dropping-particle"];n&&this.state.tmp.sort_key_flag&&(n=n.replace(/[\'\u2019]/,""));var i=this._stripPeriods("given",n);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===r?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:void 0===r?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(i,this.given_decor,!0))return this.state.output.pop();return!1},p.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return!!this.state.output.append(e,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._givenName=function(t,e,r){var n,i,s="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),o=!(!1===this.state.inheritOpt(this.name,"initialize")),a="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!t.block_initialize;if(this.state.tmp.area.slice(0,12),t["full-form-always"])i=2;else{var l=this.state.tmp.disambig_settings.givens[e][r];i=l>(n=s?0:a?1:2)?l:n}var u=this.state.citation.opt["givenname-disambiguation-rule"];if(u&&"-with-initials"===u.slice(-14)&&(a=!0),t.family&&1===i)if(a){var c=this.state.inheritOpt(this.name,"initialize-with",!1,"");t.given=p.Util.Names.initializeWith(this.state,t.given,c,!o)}else t.given=p.Util.Names.unInitialize(this.state,t.given);else{if(0===i)return!1;2===i&&(t.given=p.Util.Names.unInitialize(this.state,t.given))}var h=this._stripPeriods("given",t.given);return!!this.state.output.append(h,this.given_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._nameSuffix=function(t){var e,r=t.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(r=p.Util.Names.initializeWith(this.state,t.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0));var n="";return(r=this._stripPeriods("family",r))&&"."===r.slice(-1)&&(r=r.slice(0,-1),n="."),!!this.state.output.append(r,"empty",!0)&&((e=this.state.output.pop()).strings.suffix=n+e.strings.suffix,e)},p.NameOutput.prototype._getLongStyle=function(t,e,r){var n;return(n=t.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(n=new p.Token),n},p.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new p.Token},p.NameOutput.prototype._parseName=function(t){var e;if(!t["parse-names"]&&void 0!==t["parse-names"])return t;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=void 0,t.isInstitution=void 0),t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&void 0!==t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||p.parseParticles(t,!0))},p.NameOutput.prototype.getName=function(t,e,r,n){if(n&&"locale-orig"===e)return{name:!1,usedOrig:n};t.family||(t.family=""),t.given||(t.given="");var i={};i["static-ordering"]=this.getStaticOrder(t);var s,o=!0;if("locale-orig"!==e&&(o=!1,t.multi))for(var a=this.state.opt[e],l=0,u=a.length;l<u;l+=1)if(t.multi._key[s=a[l]]){o=!0;var c=t.isInstitution;(t=t.multi._key[s]).isInstitution=c,(i=this.getNameParams(s)).transliterated=!0;break}return o||(s=!1,t.multi&&t.multi.main?s=t.multi.main:this.Item.language&&(s=this.Item.language),s&&(i=this.getNameParams(s))),r||o?(t.family||(t.family=""),t.given||(t.given=""),!(t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":i["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":i["reverse-ordering"],"full-form-always":i["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:i.transliterated,block_initialize:i["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi}).literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),{name:t=this._normalizeNameInput(t),usedOrig:n||!o}):{name:!1,usedOrig:n}},p.NameOutput.prototype.getNameParams=function(t){var e={},r=p.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),n=this.state.locale[r.best]?r.best:this.state.opt["default-locale"][0],i=this.state.locale[n].opts["name-as-sort-order"],s=this.state.locale[n].opts["name-as-reverse-order"],o=this.state.locale[n].opts["name-never-short"],a=t.split("-")[0];return i&&i[a]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),s&&s[a]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),o&&o[a]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},p.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",r=0,n=p.NAME_PARTS.length;r<n;r+=1)t[p.NAME_PARTS[r]]&&(e+=t[p.NAME_PARTS[r]]);this.state.tmp.rendered_name.push(e)}},p.NameOutput.prototype.fixupInstitution=function(t,e,r){this.state.sys.getHumanForm&&"legal_case"===this.Item.type&&"authority"===e&&(t.literal=this.state.sys.getHumanForm(this.Item.jurisdiction,t.literal,!0)),t=this._splitInstitution(t,e,r),this.institution.strings["reverse-order"]&&t.long.reverse();var n=t.long,i=t.long.slice(),s=!1;if(this.state.sys.getAbbreviation)for(var o=this.Item.jurisdiction,a=0,l=n.length;a<l;a+=1){var u=n[a];this.state.sys.normalizeAbbrevsKey&&(u=this.state.sys.normalizeAbbrevsKey(e,n[a])),o=this.state.transform.loadAbbreviation(o,"institution-part",u),this.state.transform.abbrevs[o]["institution-part"][u]&&(i[a]=this.state.transform.abbrevs[o]["institution-part"][u],s=!0)}return t.short=s?i:[],t},p.NameOutput.prototype.getStaticOrder=function(t,e){var r=!1;return!e&&t["static-ordering"]?r=!0:0===this._isRomanesque(t)?r=!0:(!t.multi||!t.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1?r=!0:t.multi&&t.multi.main&&["vi","hu"].indexOf(t.multi.main.slice(0,2))>-1?r=!0:this.state.opt["auto-vietnamese-names"]&&p.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&p.VIETNAMESE_SPECIALS.exec(t.family+t.given)&&(r=!0),r},p.NameOutput.prototype._splitInstitution=function(t,e,r){var n={};!t.literal&&t.family&&(t.literal=t.family,delete t.family);var i=t.literal.replace(/\s*\|\s*/g,"|");if(i=i.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var s=this.Item.jurisdiction,o=i.length;o>0;o+=-1){var a=i.slice(0,o).join("|"),l=a;if(this.state.sys.normalizeAbbrevsKey&&(l=this.state.sys.normalizeAbbrevsKey(e,a)),s=this.state.transform.loadAbbreviation(s,"institution-entire",l),this.state.transform.abbrevs[s]["institution-entire"][l]){var u=this.state.transform.abbrevs[s]["institution-entire"][l],c=(u=this.state.transform.quashCheck(u)).split(/>>[0-9]{4}>>/),p=u.match(/>>([0-9]{4})>>/);if(u=c.pop(),c.length>0&&this.Item["original-date"]&&this.Item["original-date"].year)for(var h=p.length-1;h>0&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(p[h],10));h+=-1)u=c.pop();i=[u=u.replace(/\s*\|\s*/g,"|")];break}}return i.reverse(),n.long=this._trimInstitution(i,e,r),n},p.NameOutput.prototype._trimInstitution=function(t,e,r){var n=!1,i=!1,s=t.slice(),o=!1;return this.institution&&(void 0!==this.institution.strings["use-first"]&&(n=this.institution.strings["use-first"]),void 0!==this.institution.strings["stop-last"]?o=this.institution.strings["stop-last"]:"authority"===e&&this.state.tmp.authority_stop_last&&(o=this.state.tmp.authority_stop_last),o&&(s=s.slice(0,o),t=t.slice(0,o)),void 0!==this.institution.strings["use-last"]&&(i=this.institution.strings["use-last"]),"authority"===e&&(o&&(this.state.tmp.authority_stop_last=o),i&&(this.state.tmp.authority_stop_last+=-1*i))),!1===n&&(0===this.persons[e].length&&(n=this.institution.strings["substitute-use-first"]),n||(n=0)),!1===i&&(i=n?0:t.length),n>t.length-i&&(n=t.length-i),t=t.slice(0,n),s=s.slice(n),i&&(i>s.length&&(i=s.length),i&&(t=t.concat(s.slice(s.length-i)))),t},t.exports=p,p.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},p.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},p.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var t=!1;"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new p.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var r=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var n=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=n:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=r,this.and_blob.multiple=r):(this.and_blob.single=r,this.and_blob.multiple=n))},p.PublisherOutput.prototype.composeElements=function(){for(var t=0;t<2;t+=1)for(var e=["publisher","publisher-place"][t],r=0,n=this["publisher-list"].length;r<n;r+=1)this.state.output.append(this[e+"-list"][r],this[e+"-token"],!0),this[e+"-list"][r]=this.state.output.pop()},p.PublisherOutput.prototype.composePublishers=function(){for(var t=0,e=this["publisher-list"].length;t<e;t+=1)this["publisher-list"][t]=this._join([this[this.varlist[0]+"-list"][t],this[this.varlist[1]+"-list"][t]],this.group_tok.strings.delimiter)},p.PublisherOutput.prototype.joinPublishers=function(){var t=this._join(this["publisher-list"],this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok);this.state.output.append(t,"literal")},p.PublisherOutput.prototype._join=p.NameOutput.prototype._join,p.PublisherOutput.prototype._getToken=p.NameOutput.prototype._getToken,p.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},t.exports=p,p.evaluateLabel=function(t,e,r,n){var i;"locator"===t.strings.term?(n&&n.label&&(i="sub verbo"===n.label?"sub-verbo":n.label),i||(i="page")):i=t.strings.term;var s=t.strings.plural;return"number"!=typeof s&&(e.processNumber(!1,"locator"===t.strings.term?n:r,t.strings.term,r.type),s=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form,e.tmp.shadow_numbers[t.strings.term].labelCapitalizeIfFirst=t.strings.capitalize_if_first,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),["locator","number","page"].indexOf(t.strings.term)>-1&&e.tmp.shadow_numbers[t.strings.term].label&&(i=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&(e.opt.development_extensions.csl_reverse_lookup_support||e.sys.csl_reverse_lookup_support)&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse())),p.castLabel(e,t,i,s,p.TOLERANT)},p.castLabel=function(t,e,r,n,i){var s=e.strings.form,o=e.strings.capitalize_if_first;t.tmp.group_context.tip.label_form&&"static"!==s&&(s=t.tmp.group_context.tip.label_form),t.tmp.group_context.tip.label_capitalize_if_first&&(o=t.tmp.group_context.tip.label_capitalize_if_first);var a=t.getTerm(r,s,n,!1,i,e.default_locale);if(o&&(a=p.Output.Formatters["capitalize-first"](t,a)),t.tmp.strip_periods)a=a.replace(/\./g,"");else for(var l=0,u=e.decorations.length;l<u;l+=1)if("@strip-periods"===e.decorations[l][0]&&"true"===e.decorations[l][1]){a=a.replace(/\./g,"");break}return a},t.exports=p,p.Node.name={build:function(t,e){var r,n;[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(void 0===t.tmp.root?(n=void 0,t.tmp.root="citation"):n=t.tmp.root,t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=p.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=p.POSITION),t.tmp.root=n,r=function(t,e){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(this.and_term=t.opt.development_extensions.expect_and_symbol_form?t.getTerm("and","symbol",0):"&"),t.tmp.and_term=this.and_term,p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new p.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="\u2026",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new p.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new p.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),void 0===t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),void 0===t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(r)),e.push(this)}},t.exports=p,p.Node["name-part"]={build:function(t,e){t.build[this.strings.name]=this}},t.exports=p,p.Node.names={build:function(t,e){if(this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(p.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===p.SINGLETON&&(t.build.names_variables.push(this.variables),this.execs.push(function(t,e,r){t.nameOutput.reinit(this,t.nameOutput.labelVariable)})),this.tokentype===p.START&&(t.build.names_flag=!0,t.build.name_flag=!1,t.build.names_level+=1,1===t.build.names_level&&(t.build.names_variables=[],t.build.name_label={}),t.build.names_variables.push(this.variables),this.execs.push(function(t,e,r){t.tmp.can_substitute.push(!0),t.parallel.StartVariable("names",this.variables[0]),t.nameOutput.init(this)})),this.tokentype===p.END){for(var r=0;r<3;r+=1){var n=["family","given","et-al"][r];this[n]=t.build[n],1===t.build.names_level&&(t.build[n]=void 0)}this.label=t.build.name_label,1===t.build.names_level&&(t.build.name_label={}),t.build.names_level+=-1,t.build.names_variables.pop(),this.execs.push(function(t,e,r){this.etal_style=t.tmp.etal_node?t.tmp.etal_node:"empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)?(this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix=""):(this.etal_prefix_single="",this.etal_prefix_multiple="",this.etal_suffix="");for(var n=0;n<3;n+=1){var i=["family","given"][n];t.nameOutput[i]=this[i]}t.nameOutput.with=this.with;var s="",o="";p.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(s=" ",o=" ");var a={};a.single=new p.Blob("with"),a.single.strings.suffix=o,a.multiple=new p.Blob("with"),a.multiple.strings.suffix=o,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),a.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=s,a.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(a.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),a.multiple.strings.prefix=s):(a.single.strings.prefix=s,a.multiple.strings.prefix=s),t.nameOutput.with=a,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-last"]=void 0}),this.execs.push(function(t,e){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,p.LITERAL),t.parallel.CloseVariable("names"),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)}),t.build.name_flag=!1}e.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(t.build.substitute_level.pop(),p.Util.substituteEnd.call(this,t,e))}},t.exports=p,p.Node.number={build:function(t,e){p.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),this.execs.push(function(t,e,r){var n;if(0!==this.variables.length&&(void 0===r&&(r={}),"locator"!==(n=this.variables[0])||!t.tmp.just_looking)){if(t.parallel.StartVariable(this.variables[0]),t.parallel.AppendToVariable("locator"===this.variables[0]?e.section:e[this.variables[0]]),new RegExp("(?:&|, | and |"+t.getTerm("page-range-delimiter")+")"),"collection-number"===n&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0),t.tmp.group_context.tip.force_suppress)return!1;"locator"===n?t.processNumber(this,r,n,e.type):(!t.tmp.group_context.tip.condition&&e[n]&&(t.tmp.just_did_number=!0),t.processNumber(this,e,n,e.type)),p.Util.outputNumericField(t,n,e.id),t.parallel.CloseVariable("number"),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}}),e.push(this),p.Util.substituteEnd.call(this,t,e)}},t.exports=p,p.Node.sort={build:function(t,e){e=t[t.build.root+"_sort"].tokens,this.tokentype===p.START&&("citation"===t.build.area&&(t.parallel.use_parallels=!1,t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort",this.execs.push(function(t,e){if(t.opt.has_layout_locale){for(var r,n=p.localeResolve(e.language,t.opt["default-locale"][0]),i=t[t.tmp.area.slice(0,-5)].opt.sort_locales,s=0,o=i.length;s<o&&((r=i[s][n.bare])||(r=i[s][n.best]),!r);s+=1);r||(r=t.opt["default-locale"][0]),t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=r}})),this.tokentype===p.END&&(t.build.area=t.build.root,t.build.extension="",this.execs.push(function(t,e){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)})),e.push(this)}},t.exports=p,p.Node.substitute={build:function(t,e){this.tokentype===p.START&&this.execs.push(function(t,e){t.tmp.can_block_substitute=!0,t.tmp.value.length&&t.tmp.can_substitute.replace(!1,p.LITERAL)}),e.push(this)}},t.exports=p,p.Node.text={build:function(t,e){var r,n,i,s,o,a,l,u,c,h,f,d;if(this.postponed_macro){var m=p.Util.cloneToken(this);m.name="group",m.tokentype=p.START,p.Node.group.build.call(m,t,e),p.expandMacro.call(t,this,e);var g=p.Util.cloneToken(this);g.name="group",g.tokentype=p.END,"juris-locator-label"===this.postponed_macro&&(g.isJurisLocatorLabel=!0),p.Node.group.build.call(g,t,e)}else{if(p.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),n="long",i=0,this.strings.form&&(n=this.strings.form),this.strings.plural&&(i=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=p.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=p.NUMERIC),"bibliography_sort"===t.build.area&&(t.opt.citation_number_sort_used=!0),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,this.execs.push(r=function(t,e,r){if(s=""+e.id,!t.tmp.just_looking){if(r&&r["author-only"]){t.tmp.element_trace.replace("do-not-suppress-me");var n=t.getTerm("reference","long","singular");void 0===n&&(n="reference"),d=p.Output.Formatters["capitalize-first"](t,n),t.output.append(d+" "),t.tmp.last_element_trace=!0}r&&r["suppress-author"]&&(t.tmp.last_element_trace&&t.tmp.element_trace.replace("suppress-me"),t.tmp.last_element_trace=!1),o=t.registry.registry[s].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(a=new p.NumericBlob(!1,o,this,e.id),t.tmp.in_cite_predecessor&&(a.suppress_splice_prefix=!0),t.output.append(a,"literal"))}})):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),this.execs.push(r=function(t,e){if(t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.just_looking){o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),a=new p.NumericBlob(!1,o,this,e.id),l=new p.Util.Suffixator(p.SUFFIX_CHARS),a.setFormatter(l),t.output.append(a,"literal"),u=!1;for(var r=0,n=t.tmp.group_context.mystack.length;r<n;r++){var i=t.tmp.group_context.mystack[r];if(!i.variable_success&&(i.variable_attempt||!i.variable_attempt&&!i.term_intended)){u=!0;break}}c=t[t.tmp.area].opt["year-suffix-delimiter"],u&&c&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}})):"citation-label"===this.variables_real[0]&&(t.opt.has_year_suffix=!0,this.execs.push(r=function(t,e){(h=e["citation-label"])||(h=t.getCitationLabel(e)),t.tmp.just_looking||(f="",t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&(o=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),f=t.fun.suffixator.format(o)),h+=f),t.output.append(h,this)}));else if(this.strings.term)this.execs.push(r=function(t,e,r){var s,o=this.strings.term;if(""!==(o=t.getTerm(o,n,i,t.opt.gender[e.type],p.TOLERANT,this.default_locale))&&(t.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(t,o),s=t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area?o:p.Output.Formatters["capitalize-first"](t,o),t.tmp.strip_periods)s=s.replace(/\./g,"");else for(var a=0,l=this.decorations.length;a<l;a+=1)if("@strip-periods"===this.decorations[a][0]&&"true"===this.decorations[a][1]){s=s.replace(/\./g,"");break}t.output.append(s,this)}),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(this.execs.push(r=function(t,e,r){"locator"!==this.variables_real[0]&&(t.tmp.have_collapsed=!1);var i=this.variables[0];"title"!==i||"short"!==n&&!e["title-short"]||(i="title-short"),t.parallel.StartVariable(i),t.parallel.AppendToVariable(e[i],i),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1)}),p.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var b=this.variables[0],v=!1,y=!1,_=!1;"short"===n?"-short"!==this.variables_real[0].slice(-6)&&(y=this.variables_real[0]+"-short"):b=!1,t.build.extension?_=!0:(_=!0,v=!0),r=t.transform.getOutputFunction(this.variables,b,v,y,_)}else r=p.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(t,e,r){r&&r[this.variables[0]]&&(t.processNumber(this,r,this.variables[0],e.type),p.Util.outputNumericField(t,this.variables[0],e.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(t,e){t.processNumber(this,e,this.variables[0],e.type),p.Util.outputNumericField(t,this.variables[0],e.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(t,e){var r;if(this.variables[0]&&(r=t.getVariable(e,this.variables[0],n)))if(t.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])t.output.append(r,this,!1,!1,!0);else if("DOI"===this.variables_real[0]){var i,s=p.Util.cloneToken(this),o=new p.Blob(null,null,"url-wrapper");o.decorations.push(["@DOI","true"]),this.strings.prefix&&this.strings.prefix.match(/^.*https:\/\/doi\.org\/$/)&&(i=(r=r.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/",s.strings.prefix=this.strings.prefix.slice(0,s.strings.prefix.length-16));var a=new p.Blob(i),l=new p.Blob(r);o.push(a),o.push(l),t.output.append(o,s,!1,!1,!0)}else this.decorations=[["@"+this.variables[0],"true"]].concat(this.decorations),t.output.append(r,this,!1,!1,!0);else{if(this.decorations.length)for(var u=this.decorations.length-1;u>-1;u--)this.decorations[u][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,u).concat(this.decorations.slice(u+1)));t.output.append(r,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(t,e){var r;(r=t.getVariable(e,this.variables[0],n))&&t.output.append(r,this)}:"hereinafter"===this.variables_real[0]?function(t,e){var r=t.transform.abbrevs.default.hereinafter[e.id];r&&(t.output.append(r,this),t.tmp.group_context.tip.variable_success=!0)}:function(t,e){var r;this.variables[0]&&(r=t.getVariable(e,this.variables[0],n))&&(r=(r=""+r).split("\\").join(""),t.output.append(r,this))};this.execs.push(r),this.execs.push(r=function(t,e){t.parallel.CloseVariable("text")})}else this.strings.value&&this.execs.push(r=function(t,e){t.tmp.group_context.tip.term_intended=!0,p.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0),t.output.append(this.strings.value,this)});e.push(this),p.Util.substituteEnd.call(this,t,e)}}},t.exports=p,p.Attributes={},p.Attributes["@genre"]=function(t,e){e=e.replace("-"," "),this.tests.push(function(t,r){return e===t.genre})},p.Attributes["@disambiguate"]=function(t,e){"true"===e?(t.opt.has_disambiguate=!0,this.tests.push(function(e,r){if("bibliography"===t.tmp.area){if(t.tmp.disambiguate_count<t.registry.registry[e.id].disambig.disambiguate)return t.tmp.disambiguate_count+=1,!0}else if(t.tmp.disambiguate_maxMax+=1,t.tmp.disambig_settings.disambiguate&&t.tmp.disambiguate_count<t.tmp.disambig_settings.disambiguate)return t.tmp.disambiguate_count+=1,!0;return!1})):"check-ambiguity-and-backreference"===e&&this.tests.push(function(e,r){return!!(t.registry.registry[e.id].disambig.disambiguate&&t.registry.registry[e.id]["citation-count"]>1)})},p.Attributes["@is-numeric"]=function(t,e,r){for(var n=e.split(/\s+/),i=function(e){return function(r,n){var i=r;if(["locator","locator-extra"].indexOf(e)>-1&&(i=n),void 0===i)return!1;if(p.NUMERIC_VARIABLES.indexOf(e)>-1){if(t.tmp.shadow_numbers[e]||t.processNumber(!1,i,e,r.type),i[e]&&t.tmp.shadow_numbers[e].numeric)return!0}else if(["title","locator-extra","version"].indexOf(e)>-1&&i[e]&&i[e].slice(-1)===""+parseInt(i[e].slice(-1),10))return!0;return!1}},s=0;s<n.length;s+=1)this.tests.push(i(n[s]))},p.Attributes["@is-uncertain-date"]=function(t,e){for(var r=e.split(/\s+/),n=function(t){return function(e,r){return!(!e[t]||!e[t].circa)}},i=0,s=r.length;i<s;i+=1)this.tests.push(n(r[i]))},p.Attributes["@locator"]=function(t,e){for(var r=e.replace("sub verbo","sub-verbo"),n=function(e){return function(r,n){return t.processNumber(!1,n,"locator"),e===t.tmp.shadow_numbers.locator.label}},i=0,s=(r=r.split(/\s+/)).length;i<s;i+=1)this.tests.push(n(r[i]))},p.Attributes["@position"]=function(t,e){t.opt.update_mode=p.POSITION,t.parallel.use_parallels=null;for(var r=e.split(/\s+/),n=function(e){return function(r,n){if("bibliography"===t.tmp.area)return!1;if(n&&void 0===n.position&&(n.position=0),n&&"number"==typeof n.position){if(0===n.position&&0===e)return!0;if(e>0&&n.position>=e)return!0}else if(0===e)return!0;return!1}},i=0,s=r.length;i<s;i+=1){var o;"first"===(o=r[i])?o=p.POSITION_FIRST:"subsequent"===o?o=p.POSITION_SUBSEQUENT:"ibid"===o?o=p.POSITION_IBID:"ibid-with-locator"===o&&(o=p.POSITION_IBID_WITH_LOCATOR),this.tests.push("near-note"===o?function(t,e){return!!(e&&e.position>=p.POSITION_SUBSEQUENT&&e["near-note"])}:"far-note"===o?function(t,e){return!(!e||e.position!=p.POSITION_SUBSEQUENT||e["near-note"])}:n(o))}},p.Attributes["@type"]=function(t,e){for(var r=e.split(/\s+/),n=function(t){return function(e,r){return!(e.type!==t)}},i=[],s=0,o=r.length;s<o;s+=1)i.push(n(r[s]));this.tests.push(t.fun.match.any(this,t,i))},p.Attributes["@variable"]=function(t,e){if(this.variables=e.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)this.execs.push(function(t,e,r){for(var n=this.variables.length-1;n>-1;n+=-1)this.variables.pop();n=0;for(var i=this.variables_real.length;n<i;n++)-1!==t.tmp.done_vars.indexOf(this.variables_real[n])||r&&"legal_case"===e.type&&r["suppress-author"]&&"title"===this.variables_real[n]||this.variables.push(this.variables_real[n]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[n])}),this.execs.push(function(t,e,r){for(var n=!1,i=0,s=this.variables.length;i<s;i++){if(["authority","committee"].indexOf(m=this.variables[i])>-1&&"string"==typeof e[m]&&"names"===this.name){var o=!0,a=e[m].split(/\s*;\s*/),l={};if(e.multi&&e.multi._keys[m])for(var u in e.multi._keys[m])if(l[u]=e.multi._keys[m][u].split(/\s*;\s*/),l[u].length!==a.length){o=!1;break}o||(a=[e[m]],l=e.multi._keys[m]);for(var c=0,h=a.length;c<h;c++){var f={literal:a[c],multi:{_key:{}}};for(var u in l)f.multi._key[u]={literal:l[u][c]};a[c]=f}e[m]=a}if("short"!==this.strings.form||e[m]||("title"===m?m="title-short":"container-title"===m&&(m="container-title-short")),"year-suffix"===m){n=!0;break}if(p.DATE_VARIABLES.indexOf(m)>-1){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===m){n=!0;break}if(e[m]){for(var d in e[m])if((-1!==this.dateparts.indexOf(d)||"literal"===d)&&e[m][d]){n=!0;break}if(n)break}}else{if("locator"===m){r&&r.locator&&(n=!0);break}if("locator-extra"===m){r&&r["locator-extra"]&&(n=!0);break}if(["citation-number","citation-label"].indexOf(m)>-1){n=!0;break}if("first-reference-note-number"===m){r&&r["first-reference-note-number"]&&(n=!0);break}if("hereinafter"===m){t.transform.abbrevs.default.hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(n=!0);break}if("object"==typeof e[m])break;if("string"==typeof e[m]&&e[m]){n=!0;break}if("number"==typeof e[m]){n=!0;break}}if(n)break}if(n){for(i=0,s=this.variables_real.length;i<s;i++){var m;"citation-number"===(m=this.variables_real[i])&&"bibliography"===t.tmp.area||(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[m]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[m]))}t.tmp.can_substitute.replace(!1,p.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0});else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var r=function(e){return function(r,n){var i=r;if(n&&["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(e)>-1&&(i=n),"hereinafter"===e&&t.sys.getAbbreviation&&i.id){if(t.transform.abbrevs.default.hereinafter[i.id])return!0}else if(i[e]){if("number"==typeof i[e]||"string"==typeof i[e])return!0;if("object"==typeof i[e])for(var s in i[e])if(i[e][s])return!0}return!1}},n=0,i=this.variables.length;n<i;n+=1)this.tests.push(r(this.variables[n]))},p.Attributes["@page"]=function(t,e){for(var r=e.replace("sub verbo","sub-verbo"),n=function(e){return function(r,n){return t.processNumber(!1,r,"page",r.type),e===(t.tmp.shadow_numbers.page.label?"sub verbo"===t.tmp.shadow_numbers.page.label?"sub-verbo":t.tmp.shadow_numbers.page.label:"page")}},i=0,s=(r=r.split(/\s+/)).length;i<s;i+=1)this.tests.push(n(r[i]))},p.Attributes["@number"]=function(t,e){for(var r=e.replace("sub verbo","sub-verbo"),n=function(e){return function(r,n){return t.processNumber(!1,r,"number",r.type),e===(t.tmp.shadow_numbers.number.label?"sub verbo"===t.tmp.shadow_numbers.number.label?"sub-verbo":t.tmp.shadow_numbers.number.label:"number")}},i=0,s=(r=r.split(/\s+/)).length;i<s;i+=1)this.tests.push(n(r[i]))},p.Attributes["@jurisdiction"]=function(t,e){for(var r=e.split(/\s+/),n=0,i=r.length;n<i;n+=1)r[n]=r[n].split(":");var s=function(t){return function(e,r){if(!e.jurisdiction)return!1;for(var n=e.jurisdiction.split(":"),i=0,s=n.length;i<s;i+=1)n[i]=n[i].split(":");for(i=t.length;i>0;i+=-1)if(t.slice(0,i).join(":")!==n.slice(0,i).join(":"))return!1;return!0}};for(n=0,i=r.length;n<i;n+=1){var o=r[n].slice();this.tests.push(s(o))}},p.Attributes["@context"]=function(t,e){this.tests.push(function(r,n){return t.tmp.area.slice(0,e.length)===e})},p.Attributes["@has-year-only"]=function(t,e){for(var r=e.split(/\s+/),n=function(t){return function(e,r){var n=e[t];return!(!n||n.month||n.season)}},i=0,s=r.length;i<s;i+=1)this.tests.push(n(r[i]))},p.Attributes["@has-to-month-or-season"]=function(t,e){for(var r=e.split(/\s+/),n=function(t){return function(e,r){var n=e[t];return!(!n||!n.month&&!n.season||n.day)}},i=0,s=r.length;i<s;i+=1)this.tests.push(n(r[i]))},p.Attributes["@has-day"]=function(t,e){for(var r=e.split(/\s+/),n=function(t){return function(e,r){var n=e[t];return!(!n||!n.day)}},i=0,s=r.length;i<s;i+=1)this.tests.push(n(r[i]))},p.Attributes["@subjurisdictions"]=function(t,e){var r=parseInt(e,10);this.tests.push(function(t,e){var n=0;return t.jurisdiction&&(n=t.jurisdiction.split(":").length),n&&(n+=-1),n>=r})},p.Attributes["@is-plural"]=function(t,e){this.tests.push(function(r,n){var i=r[e];if(i&&i.length){for(var s=0,o=0,a=!1,l=0,u=i.length;l<u;l+=1)t.opt.development_extensions.spoof_institutional_affiliations&&(i[l].literal||i[l].isInstitution&&i[l].family&&!i[l].given)?(o+=1,a=!1):(s+=1,a=!0);if(s>1)return!0;if(o>1)return!0;if(o&&a)return!0}return!1})},p.Attributes["@locale"]=function(t,e){var r,n,i=t.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=e,this.tokentype===p.START){var s=e.split(/\s+/),o={},a=p.localeResolve(s[0],i);a.generic?o[a.generic]=a.best:o[a.best]=a.best;for(var l=1,u=s.length;l<u;l+=1){var c=p.localeResolve(s[l],i);c.generic?o[c.generic]=a.best:o[c.best]=a.best}t[t.build.area].opt.sort_locales.push(o)}t.opt.has_layout_locale=!0}else{n=e.split(/\s+/);var h=[];for(l=0,u=n.length;l<u;l+=1)r=p.localeResolve(n[l],i),2===n[l].length&&h.push(r.bare),t.localeConfigure(r,!0),n[l]=r;var f=n.slice();this.tests.push(function(t,e,r){return function(n,i){var s,o;for(s=!1,o=p.localeResolve(n.language?n.language:e,e),l=0,u=t.length;l<u;l+=1)if(o.best===t[l].best){s=!0;break}return!s&&r.indexOf(o.bare)>-1&&(s=!0),s}}(f,i,h))}},p.Attributes["@authority-residue"]=function(t,e){var r;this.tests.push((r="true"===e,function(e,n){return e.authority&&e.authority[0]&&e.authority[0].family&&e.authority[0].family.split("|").length+t.tmp.authority_stop_last>0?r:!r}))},p.Attributes["@locale-internal"]=function(t,e){var r,n,i,s;for(n=e.split(/\s+/),this.locale_bares=[],i=0,s=n.length;i<s;i+=1)r=p.localeResolve(n[i],t.opt["default-locale"][0]),2===n[i].length&&this.locale_bares.push(r.bare),t.localeConfigure(r),n[i]=r;this.locale_default=t.opt["default-locale"][0],this.locale=n[0].best,this.locale_list=n.slice(),this.tests.push(function(e){return function(r,n){var o;o=!1;var a=!1;if(r.language&&(a=p.localeResolve(r.language,t.opt["default-locale"][0])).best===t.opt["default-locale"][0]&&(a=!1),a){for(i=0,s=e.locale_list.length;i<s;i+=1)if(a.best===e.locale_list[i].best){t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,o=!0;break}!o&&e.locale_bares.indexOf(a.bare)>-1&&(t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,o=!0)}return o}}(this))},p.Attributes["@is-parallel"]=function(t,e){for(var r=e.split(" "),n=0,i=r.length;n<i;n+=1)"true"===r[n]?r[n]=!0:"false"===r[n]&&(r[n]=!1);this.strings.set_parallel_condition=r},p.Attributes["@jurisdiction-depth"]=function(t,e){this.strings.jurisdiction_depth=parseInt(e,10)},p.Attributes["@require"]=function(t,e){this.strings.require=e},p.Attributes["@reject"]=function(t,e){this.strings.reject=e},p.Attributes["@gender"]=function(t,e){this.gender=e},p.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},p.Attributes["@capitalize-if-first"]=function(t,e){this.strings.capitalize_if_first_override=e},p.Attributes["@label-capitalize-if-first"]=function(t,e){this.strings.label_capitalize_if_first_override=e},p.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},p.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},p.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},p.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},p.Attributes["@class"]=function(t,e){t.opt.class=e},p.Attributes["@version"]=function(t,e){t.opt.version=e},p.Attributes["@value"]=function(t,e){this.strings.value=e},p.Attributes["@name"]=function(t,e){this.strings.name=e},p.Attributes["@form"]=function(t,e){this.strings.form=e},p.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},p.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},p.Attributes["@macro"]=function(t,e){this.postponed_macro=e},p.Attributes["@term"]=function(t,e){this.strings.term="sub verbo"===e?"sub-verbo":e},p.Attributes["@xmlns"]=function(t,e){},p.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},p.Attributes["@lingo"]=function(t,e){},p.Attributes["@macro-has-date"]=function(t,e){this["macro-has-date"]=!0},p.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},p.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},p.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},p.Attributes["@match"]=function(t,e){this.match=e},p.Attributes["@names-min"]=function(t,e){var r=parseInt(e,10);t[t.build.area].opt.max_number_of_names<r&&(t[t.build.area].opt.max_number_of_names=r),this.strings["et-al-min"]=r},p.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},p.Attributes["@names-use-last"]=function(t,e){this.strings["et-al-use-last"]="true"===e},p.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=p.DESCENDING)},p.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},p.Attributes["@has-publisher-and-publisher-place"]=function(t,e){this.strings["has-publisher-and-publisher-place"]=!0},p.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},p.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},p.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},p.Attributes["@newdate"]=function(t,e){},p.Attributes["@givenname-disambiguation-rule"]=function(t,e){p.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)>-1&&(t.citation.opt["givenname-disambiguation-rule"]=e)},p.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},p.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},p.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},p.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},p.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},p.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},p.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},p.Attributes["@et-al-min"]=function(t,e){var r=parseInt(e,10);t[t.build.area].opt.max_number_of_names<r&&(t[t.build.area].opt.max_number_of_names=r),t.setOpt(this,"et-al-min",r)},p.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},p.Attributes["@et-al-use-last"]=function(t,e){t.setOpt(this,"et-al-use-last","true"===e)},p.Attributes["@et-al-subsequent-min"]=function(t,e){var r=parseInt(e,10);t[t.build.area].opt.max_number_of_names<r&&(t[t.build.area].opt.max_number_of_names=r),t.setOpt(this,"et-al-subsequent-min",r)},p.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},p.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},p.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},p.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},p.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},p.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},p.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},p.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},p.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},p.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},p.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},p.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},p.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},p.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},p.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},p.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},p.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},p.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},p.Attributes["@second-field-align"]=function(t,e){"flush"!==e&&"margin"!==e||(t[this.name].opt["second-field-align"]=e)},p.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t[this.name].opt.hangingindent=2)},p.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},p.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},p.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},p.Attributes["@text-case"]=function(t,e){this.execs.push(function(t,r){"normal"===e?this.text_case_normal=!0:(this.strings["text-case"]=e,"title"===e&&(t.opt["default-locale"][0].slice(0,2),r.jurisdiction&&(this.strings["text-case"]="passthrough")))})},p.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},p.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},p.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var r,n,i,s,o;if(o=e.match(/-x-(sort|translit|translat)-/g))for(i=0,n=o.length;i<n;i+=1)o[i]=o[i].replace(/^-x-/,"").replace(/-$/,"");for(s=[(r=e.split(/-x-(?:sort|translit|translat)-/))[0]],i=1,n=r.length;i<n;i+=1)s.push(o[i-1]),s.push(r[i]);for(n=(r=s.slice()).length,i=1;i<n;i+=2)t.opt["locale-"+r[i]].push(r[i+1].replace(/^\s*/g,"").replace(/\s*$/g,""));t.opt["default-locale"]=r.length?r.slice(0,1):["en"]}else"true"===e&&(this.default_locale=!0)},p.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},p.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},p.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},p.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},p.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},p.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},p.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},p.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},p.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},p.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},p.Attributes["@display"]=function(t,e){2===t.bibliography.tokens.length&&(t.opt.using_display=!0),this.strings.cls=e},t.exports=p,p.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},p.Stack.prototype.push=function(t,e){this.mystack.push(e||t?t:""),this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},p.Stack.prototype.replace=function(t,e){if(0===this.mystack.length)throw"Internal CSL processor error: attempt to replace nonexistent stack item with "+t;this.mystack[this.mystack.length-1]=e||t?t:"",this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.tip=this.mystack.length?this.mystack[this.mystack.length-1]:{},t},p.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},p.Stack.prototype.length=function(){return this.mystack.length},t.exports=p,p.Parallel=function(t){this.state=t,this.sets=new p.Stack([]),this.try_cite=!0,this.use_parallels=!1,this.midVars=["section","volume","container-title","collection-number","issue","page-first","page","number"],this.ignoreVarsLawGeneral=["first-reference-note-number","locator","label","page-first","page","genre"],this.ignoreVarsLawProceduralHistory=["issued","first-reference-note-number","locator","label","page-first","page","genre","jurisdiction"],this.ignoreVarsOrders=["first-reference-note-number"],this.ignoreVarsOther=["first-reference-note-number","locator","label","section","page-first","page"]},p.Parallel.prototype.isMid=function(t){return this.midVars.indexOf(t)>-1},p.Parallel.prototype.StartCitation=function(t,e){this.parallel_conditional_blobs_list=[],this.use_parallels&&(this.sortedItems=t,this.sortedItemsPos=-1,this.sets.clear(),this.sets.push([]),this.in_series=!0,this.delim_counter=0,this.delim_pointers=[],this.out=e||this.state.output.queue,this.master_was_neutral_cite=!0)},p.Parallel.prototype.StartCite=function(t,e,r){var n,i,s,o,a;if(this.use_parallels){this.sets.value().length&&this.sets.value()[0].itemId==t.id&&this.ComposeSet(),this.sortedItemsPos+=1,e&&(n=e.position),this.try_cite=!0;for(var l=!1,u=0,c=p.PARALLEL_MATCH_VARS.length;u<c;u+=1)if(t[p.PARALLEL_MATCH_VARS[u]]){l=!0;break}var h=!0,f=this.sets.value().slice(-1)[0];if(f&&f.Item){var d=f.Item.jurisdiction?f.Item.jurisdiction.split(":")[0]:"",m=t.jurisdiction?t.jurisdiction.split(":")[0]:"";f.Item.title!==t.title?h=!1:d!==m?h=!1:f.Item.type!==t.type?h=!1:["article-journal","article-magazine"].indexOf(t.type)>-1&&(this.state.opt.development_extensions.handle_parallel_articles&&f.Item["container-title"]===t["container-title"]||(h=!1))}if(h&&l&&-1!==p.PARALLEL_TYPES.indexOf(t.type)||(this.try_cite=!0,this.in_series&&(this.in_series=!1)),this.cite={},this.cite.front=[],this.cite.mid=[],this.cite.back=[],this.cite.front_collapse={},this.cite.back_forceme=[],this.cite.position=n,this.cite.Item=t,this.cite.itemId=""+t.id,this.cite.prevItemID=""+r,this.target="front",["treaty"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOrders;else if(["article-journal","article-magazine"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOther;else if(e&&e.prefix){this.ignoreVars=this.ignoreVarsLawProceduralHistory,this.cite.useProceduralHistory=!0;var g=this.sets.value()[this.sets.value().length-1];if(g&&g.back)for(u=g.back.length-1;u>-1;u+=-1)g.back[u]&&g[g.back[u]]&&delete g[g.back[u]]}else this.ignoreVars=this.ignoreVarsLawGeneral;if(this.sortedItems&&this.sortedItemsPos>0&&this.sortedItemsPos<this.sortedItems.length){if(o=!1,this.state.registry.registry[""+this.sortedItems[this.sortedItemsPos-1][1].id].parallel==(s=this.sortedItems[this.sortedItemsPos][1]).id){for(i=this.sortedItemsPos-1;i>-1;i+=-1)if(this.sortedItems[i][1].id==t.id){o=this.sortedItems[i][1].locator;break}a=this.sortedItems[this.sortedItemsPos][1].locator,s.position=!o&&a?p.POSITION_IBID_WITH_LOCATOR:a===o?p.POSITION_IBID:p.POSITION_IBID_WITH_LOCATOR}}else{if(!this.state.registry.registry[t.id])return this.try_cite=!1,void(this.force_collapse=!1);this.state.registry.registry[t.id].parallel=!1}this.force_collapse=!1,this.state.registry.registry[t.id].parallel&&(this.force_collapse=!0)}},p.Parallel.prototype.StartVariable=function(t,e){if(this.use_parallels&&(this.try_cite||this.force_collapse)){if(this.variable="names"===t?t+":"+this.target:t,this.ignoreVars.indexOf(t)>-1)return;"container-title"===t&&0===this.sets.value().length&&(this.master_was_neutral_cite=!1),this.data={},this.data.value="",this.data.blobs=[];var r=this.isMid(t);if("authority"===e&&"names:front"===this.variable&&this.sets.value().length){var n=this.sets.value()[this.sets.value().length-1].Item,i=!1;this.cite.Item.authority&&this.cite.Item.authority.length&&(i=this.cite.Item.authority[0].literal);var s=!1;n.authority&&n.authority.length&&(s=n.authority[0].literal),i!==s&&(this.try_cite=!0,this.in_series=!1)}else"front"===this.target&&r?this.target="mid":"mid"===this.target&&!r&&this.cite.Item.title&&"names"!==t?this.target="back":"back"===this.target&&r&&(this.try_cite=!0,this.in_series=!1);"number"===t?this.cite.front.push(this.variable):p.PARALLEL_COLLAPSING_MID_VARSET.indexOf(t)>-1?["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1?this.cite.mid.push(this.variable):this.cite.front.push(this.variable):this.cite[this.target].push(this.variable)}},p.Parallel.prototype.AppendBlobPointer=function(t){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1){if(["volume","page","page-first","issue"].indexOf(this.variable)>-1)return;if("container-title"===this.variable&&this.cite.mid.length>1)return}this.variable&&(this.try_cite||this.force_collapse)&&t&&t.blobs&&(this.cite.useProceduralHistory&&"back"===this.target||this.data.blobs.push([t,t.blobs.length]))}}},p.Parallel.prototype.AppendToVariable=function(t,e){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;(this.try_cite||this.force_collapse)&&(this.data.value+="::"+t)}},p.Parallel.prototype.CloseVariable=function(){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if((this.try_cite||this.force_collapse)&&(this.cite[this.variable]=this.data,this.sets.value().length>0)){var t=this.sets.value()[this.sets.value().length-1];"front"===this.target&&"issued"===this.variable&&this.data.value&&this.master_was_neutral_cite&&(this.target="mid"),"front"===this.target?!t[this.variable]&&!this.data.value||t[this.variable]&&this.data.value===t[this.variable].value||"issued"!==this.variable&&(this.in_series=!1):"mid"===this.target?p.PARALLEL_COLLAPSING_MID_VARSET.indexOf(this.variable)>-1&&(this.cite.front_collapse[this.variable]=!!t[this.variable]&&t[this.variable].value===this.data.value):"back"===this.target&&t[this.variable]&&this.data.value!==t[this.variable].value&&-1===this.sets.value().slice(-1)[0].back_forceme.indexOf(this.variable)&&(this.in_series=!1)}this.variable=!1}},p.Parallel.prototype.CloseCite=function(){var t,e,r,n,i,s;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(r=!1,this.cite.front_collapse["container-title"]||(r=!0),!1===this.cite.front_collapse.volume&&(r=!0),!1===this.cite.front_collapse["collection-number"]&&(r=!0),!1===this.cite.front_collapse.section&&(r=!0),r){this.cite.use_journal_info=!0,(s=this.cite.front.indexOf("section"))>-1&&(this.cite.front=this.cite.front.slice(0,s).concat(this.cite.front.slice(s+1))),(n=this.cite.front.indexOf("volume"))>-1&&(this.cite.front=this.cite.front.slice(0,n).concat(this.cite.front.slice(n+1))),(i=this.cite.front.indexOf("container-title"))>-1&&(this.cite.front=this.cite.front.slice(0,i).concat(this.cite.front.slice(i+1)));var o=this.cite.front.indexOf("collection-number");o>-1&&(this.cite.front=this.cite.front.slice(0,o).concat(this.cite.front.slice(o+1)))}if(this.in_series||this.force_collapse||this.ComposeSet(!0),0===this.sets.value().length){var a=!1;for(t=0,e=this.cite.back.length;t<e;t+=1)if("issued"===this.cite.back[t]&&this.cite.issued&&this.cite.issued.value){a=!0;break}a||this.cite.back_forceme.push("issued")}else{var l=this.cite.front.indexOf("issued");(-1===l||this.master_was_neutral_cite)&&(this.cite.back_forceme=this.sets.value().slice(-1)[0].back_forceme),l>-1&&(this.sets.value()[this.sets.value().length-1].issued||(this.cite.front=this.cite.front.slice(0,l).concat(this.cite.front.slice(l+1)))),this.master_was_neutral_cite&&this.cite.mid.indexOf("names:mid")>-1&&this.cite.front.push("names:mid")}this.sets.value().push(this.cite)}},p.Parallel.prototype.ComposeSet=function(t){var e,r,n;if(this.use_parallels&&(this.force_collapse||this.try_cite)){var i=this.sets.value().length;if(1===this.sets.value().length)this.in_series||(this.sets.value().pop(),this.delim_counter+=1);else{for(n=this.sets.value().length,r=0;r<n;r+=1)e=this.sets.value()[r],0===r?this.delim_counter+=1:(this.delim_pointers.push(!(!e.Item.title&&e.use_journal_info)&&this.delim_counter),this.delim_counter+=1),p.POSITION_FIRST===e.position&&(0===r?(this.state.registry.registry[e.itemId].master=!0,this.state.registry.registry[e.itemId].siblings=[],this.state.registry.registry[e.itemId].parallel=!1):e.prevItemID&&(this.state.registry.registry[e.itemId].parallel=this.state.registry.registry[e.prevItemID].parallel?this.state.registry.registry[e.prevItemID].parallel:e.prevItemID,this.state.registry.registry[e.itemId].siblings=this.state.registry.registry[e.prevItemID].siblings,this.state.registry.registry[e.itemId].siblings||(this.state.registry.registry[e.itemId].siblings=[],p.debug("WARNING: adding missing siblings array to registry object")),this.state.registry.registry[e.itemId].siblings.push(e.itemId)));this.sets.push([])}this.purgeGroupsIfParallel(!(i<2)),this.in_series=!0}},p.Parallel.prototype.PruneOutputQueue=function(){var t,e,r,n,i,s;if(this.use_parallels)for(t=this.sets.mystack.length,e=0;e<t;e+=1)if((r=this.sets.mystack[e]).length>1)for(i=r.length,n=0;n<i;n+=1)this.purgeVariableBlobs(s=r[n],0===n?s.back:s.front.concat(n===r.length-1?s.back_forceme:s.back))},p.Parallel.prototype.purgeVariableBlobs=function(t,e){var r,n,i,s,o,a;if(this.use_parallels){for(void 0===(a=this.state.output.current.value()).length&&(a=a.blobs),n=0,r=this.delim_pointers.length;n<r;n+=1)!1!==(o=this.delim_pointers[n])&&(a[o].parallel_delimiter=", ");for(n=r=e.length-1;n>-1;n+=-1)if(t[i=e[n]])for(o=t[i].blobs.length-1;o>-1;o+=-1)(s=t[i].blobs[o])[0].blobs=s[0].blobs.slice(0,s[1]).concat(s[0].blobs.slice(s[1]+1)),this.state.tmp.has_purged_parallel=!0,s[0]&&s[0].strings&&"string"==typeof s[0].strings.oops&&s[0].parent&&s[0].parent&&(s[0].parent.parent.strings.delimiter=s[0].strings.oops)}},p.Parallel.prototype.purgeGroupsIfParallel=function(t){for(var e=this.parallel_conditional_blobs_list.length-1;e>-1;e+=-1){for(var r=this.parallel_conditional_blobs_list[e],n=!0,i=0,s=r.conditions.length;i<s;i+=1)if(!r.conditions[i]!=!!t&&("master"!==r.conditions[i]||this.state.registry.registry[r.id].master)&&("servant"!==r.conditions[i]||this.state.registry.registry[r.id].parallel)){n=!1;break}if(n){for(var o=[];r.blobs.length>r.pos;)o.push(r.blobs.pop());for(o.length&&o.pop();o.length;)r.blobs.push(o.pop())}this.parallel_conditional_blobs_list.pop()}},t.exports=p,p.Util={},p.Util.Match=function(){this.any=function(t,e,r){return function(t,e){for(var n=0,i=r.length;n<i;n+=1)if(r[n](t,e))return!0;return!1}},this.none=function(t,e,r){return function(t,e){for(var n=0,i=r.length;n<i;n+=1)if(r[n](t,e))return!1;return!0}},this.all=function(t,e,r){return function(t,e){for(var n=0,i=r.length;n<i;n+=1)if(!r[n](t,e))return!1;return!0}},this[void 0]=this.all,this.nand=function(t,e,r){return function(t,e){for(var n=0,i=r.length;n<i;n+=1)if(!r[n](t,e))return!0;return!1}}},t.exports=p,p.Transform=function(t){function e(e,r,n){var i="";return t.sys.getHumanForm&&("country"===e?i=(i=t.sys.getHumanForm(r.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===e&&(i=t.sys.getHumanForm(r.toLowerCase(),!1,!0),i=n?"":i.split("|").slice(1).join(", "))),i}function r(t,r,n,i,s,o,a,l){var u,c="",h=p.FIELD_CATEGORY_REMAP[o];if(!h)return s;var f=o,d=s;t.sys.normalizeAbbrevsKey&&(d=t.sys.normalizeAbbrevsKey(o,s));var m=!1;if("jurisdiction"===f&&d&&(m=-1===d.indexOf(":")),t.sys.getAbbreviation){u=["jurisdiction","country","language-name","language-name-original"].indexOf(f)>-1?"default":n.jurisdiction?n.jurisdiction:"default";var g=t.transform.loadAbbreviation(u,h,d,n.type);if(t.transform.abbrevs[g][h]&&d){var b=t.transform.abbrevs[g][h][d];c="short"===r.strings.form&&b?m?"":b:e(f,d,m)}}return c||t.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===n.type||!i||!n[i]||!a||(c=n[i]),c||t.sys.getAbbreviation||!t.sys.getHumanForm||(c=e(f,d,m)),c||m||t.sys.getHumanForm&&"jurisdiction"===f||(c=s),c}function n(e,r){var n,i=t.opt["default-locale"][0].slice(0,2);if(n=t.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),e.language){var s=(""+e.language).match(n);i=s?s[1]:"tlh"}return e.multi&&e.multi&&e.multi.main&&e.multi.main[r]&&(i=e.multi.main[r]),t.opt.development_extensions.strict_text_case_locales&&!t.opt.development_extensions.normalize_lang_keys_to_lowercase||(i=i.toLowerCase()),i}function i(e,r,i,s,o){var a,l,u,c=o,h=!1;if(!e[r])return{name:"",usedOrig:o,token:p.Util.cloneToken(this)};d={name:"",usedOrig:o,locale:n(e,r)},u=t.opt[i];var f=!1;if("locale-orig"===i)d=o?{name:"",usedOrig:o}:{name:e[r],usedOrig:!1,locale:n(e,r)},f=!0,h=!0;else if(s&&(void 0===u||0===u.length)){var d={name:e[r],usedOrig:!0,locale:n(e,r)};f=!0,h=!0}if(!f){for(var m=0,g=u.length;m<g;m+=1){if(l=(a=u[m]).split(/[\-_]/)[0],a&&e.multi&&e.multi._keys[r]&&e.multi._keys[r][a]){d.name=e.multi._keys[r][a],d.locale=a;break}if(l&&e.multi&&e.multi._keys[r]&&e.multi._keys[r][l]){d.name=e.multi._keys[r][l],d.locale=l;break}}!d.name&&s&&(d={name:e[r],usedOrig:!0,locale:n(e,r)},h=!0)}if(d.token=p.Util.cloneToken(this),["title","container-title"].indexOf(r)>-1&&!(c||d.token.strings["text-case"]&&"sentence"!==d.token.strings["text-case"]&&"normal"!==d.token.strings["text-case"])){var b=!h&&d.locale,v=r.slice(0,-5);d.name=p.titlecaseSentenceOrNormal(t,e,v,b,"sentence"===d.token.strings["text-case"]),delete d.token.strings["text-case"]}return d}function s(e,n,i,s){var o=e.variables[0];if(t.publisherOutput&&i){if(-1===["publisher","publisher-place"].indexOf(o))return!1;t.publisherOutput[o+"-token"]=e,t.publisherOutput.varlist.push(o);var a=i.split(/;\s*/);a.length===t.publisherOutput[o+"-list"].length&&(t.publisherOutput[o+"-list"]=a);for(var l=0,u=a.length;l<u;l+=1)a[l]=r(t,e,n,!1,a[l],s,!0);return t.tmp[o+"-token"]=e,!0}return!1}function o(e){var r=e.match(/^!([-,_a-z]+)>>>/);if(r){var n=r[1].split(",");e=e.slice(r[0].length);for(var i=0,s=n.length;i<s;i+=1)-1===t.tmp.done_vars.indexOf(n[i])&&t.tmp.done_vars.push(n[i])}return e}this.abbrevs={},this.abbrevs.default=new t.sys.AbbreviationSegments,this.getTextSubField=i,this.loadAbbreviation=function(e,r,n,i){return e||(e="default"),n?(t.sys.getAbbreviation&&((e=t.sys.getAbbreviation(t.opt.styleID,t.transform.abbrevs,e,r,n,i,!0))||(e="default")),e):(t.transform.abbrevs[e]||(t.transform.abbrevs[e]=new t.sys.AbbreviationSegments),t.transform.abbrevs[e][r]||(t.transform.abbrevs[e][r]={}),e)},this.getOutputFunction=function(e,n,a,l,u){var c,h=p.LangPrefsMap[e[0]];return c=!!h&&t.opt["cite-lang-prefs"][h],function(t,a,u,f){var d,m,g,b,v,y;if(!e[0]||!a[e[0]]&&!a[l])return null;var _={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))_.primary="locale-sort";else if(c)for(var x=["primary","secondary","tertiary"],w=0,E=x.length;w<E&&!(c.length-1<w);w+=1)c[w]&&(_[x[w]]="locale-"+c[w]);else _.primary="locale-orig";if("title-short"!==e[0]&&("bibliography"===t.tmp.area||"citation"===t.tmp.area&&"note"===t.opt.xclass&&u&&!u.position)||(_.secondary=!1,_.tertiary=!1),t.tmp["publisher-list"])return"publisher"===e[0]?t.tmp["publisher-token"]=this:"publisher-place"===e[0]&&(t.tmp["publisher-place-token"]=this),null;var A=i.call(this,a,e[0],_.primary,!0);m=A.locale;var S,O,C,T=A.token,k=A.usedOrig;if(s(this,a,d=A.name,n))return null;if(g=!1,v=!1,_.secondary&&(g=(A=i.call(this,a,e[0],_.secondary,!1,A.usedOrig)).name,b=A.locale,S=A.token),_.tertiary&&(v=(A=i.call(this,a,e[0],_.tertiary,!1,A.usedOrig)).name,y=A.locale,O=A.token),n&&((d=r(t,T,a,l,d,n,!0))&&(d=o(d)),g&&(g=r(t,S,a,!1,g,n,!0)),v&&(v=r(t,O,a,!1,v,n,!0))),"locale-translit"===_.primary&&(C=t.opt.citeAffixes[h][_.primary].prefix),"<i>"===C&&"title"===e[0]&&!k){var I=!1;for(w=0,E=T.decorations.length;w<E;w+=1)"@font-style"===T.decorations[w][0]&&"italic"===T.decorations[w][1]&&(I=!0);I||T.decorations.push(["@font-style","italic"])}if("en"!==m&&"title"===T.strings["text-case"]&&(T.strings["text-case"]="passthrough"),"title"===e[0]&&(d=p.demoteNoiseWords(t,d,this["leading-noise-words"])),g||v){if(t.output.openLevel("empty"),T.strings.suffix=T.strings.suffix.replace(/[ .,]+$/,""),t.output.append(d,T),g){for(S.strings.prefix=t.opt.citeAffixes[h][_.secondary].prefix,S.strings.suffix=t.opt.citeAffixes[h][_.secondary].suffix,S.strings.prefix||(S.strings.prefix=" "),w=S.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(S.decorations[w].join("/"))>-1&&(S.decorations=S.decorations.slice(0,w).concat(S.decorations.slice(w+1)));"en"!==b&&"title"===S.strings["text-case"]&&(S.strings["text-case"]="passthrough");var N=new p.Token;N.decorations.push(["@font-style","normal"]),N.decorations.push(["@font-weight","normal"]),t.output.openLevel(N),t.output.append(g,S),t.output.closeLevel();var P=t.output.current.value(),D=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":secondary"),t.parallel.cite[e[0]+":secondary"]={blobs:[[P,D]]})}if(v){for(O.strings.prefix=t.opt.citeAffixes[h][_.tertiary].prefix,O.strings.suffix=t.opt.citeAffixes[h][_.tertiary].suffix,O.strings.prefix||(O.strings.prefix=" "),w=O.decorations.length-1;w>-1;w+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(O.decorations[w].join("/"))>-1&&(O.decorations=O.decorations.slice(0,w).concat(O.decorations.slice(w+1)));"en"!==y&&"title"===O.strings["text-case"]&&(O.strings["text-case"]="passthrough");var R=new p.Token;R.decorations.push(["@font-style","normal"]),R.decorations.push(["@font-weight","normal"]),t.output.openLevel(R),t.output.append(v,O),t.output.closeLevel(),P=t.output.current.value(),D=t.output.current.value().blobs.length-1,t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":tertiary"),t.parallel.cite[e[0]+":tertiary"]={blobs:[[P,D]]})}t.output.closeLevel()}else t.output.append(d,T);return null}},this.quashCheck=o},t.exports=p,p.Token=function(t,e){this.name=t,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e,this.evaluator=!1,this.tests=[],this.rawtests=[],this.succeed=!1,this.fail=!1,this.next=!1},p.Util.cloneToken=function(t){var e,r,n;if("string"==typeof t)return t;for(var i in e=new p.Token(t.name,t.tokentype),t.strings)t.strings.hasOwnProperty(i)&&(e.strings[i]=t.strings[i]);if(t.decorations)for(e.decorations=[],r=0,n=t.decorations.length;r<n;r+=1)e.decorations.push(t.decorations[r].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),e.tests=t.tests.slice(),e.rawtests=t.tests.slice()),e},t.exports=p,p.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},t.exports=p,p.Blob=function(t,e,r){var n,i;if(this.levelname=r,e){for(var s in this.strings={prefix:"",suffix:""},e.strings)e.strings.hasOwnProperty(s)&&(this.strings[s]=e.strings[s]);for(this.decorations=[],n=void 0===e.decorations?0:e.decorations.length,i=0;i<n;i+=1)this.decorations.push(e.decorations[i].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof t?t:t?[t]:[],this.alldecor=[this.decorations]},p.Blob.prototype.push=function(t){if("string"==typeof this.blobs)throw"Attempt to push blob onto string object";!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},t.exports=p,p.NumericBlob=function(t,e,r,n){this.id=n,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=p.START,this.strings={},r?(this.gender=r.gender,this.decorations=r.decorations,this.strings.prefix=r.strings.prefix,this.strings.suffix=r.strings.suffix,this.strings["text-case"]=r.strings["text-case"],this.successor_prefix=r.successor_prefix,this.range_prefix=r.range_prefix,this.splice_prefix=r.splice_prefix,this.formatter=r.formatter,this.formatter||(this.formatter=new p.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new p.Output.DefaultFormatter)},p.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},p.Output.DefaultFormatter=function(){},p.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},p.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=p.START,"object"==typeof t&&(t.status=t.num===this.num+1?p.SUCCESSOR:p.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===p.START||this.status===p.SEEN?t.status=p.SUCCESSOR:this.status!==p.SUCCESSOR&&this.status!==p.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(t.status=p.SUCCESSOR_OF_SUCCESSOR,this.status=p.SUPPRESS):t.status=p.SUCCESSOR):(this.status===p.SUCCESSOR_OF_SUCCESSOR&&(this.status=p.END),"object"==typeof t&&(t.status=p.SEEN))},p.NumericBlob.prototype.checkLast=function(t){return(this.status===p.SEEN||t.num!==this.num-1&&this.status===p.SUCCESSOR)&&(this.status=p.SUCCESSOR,!0)},t.exports=p,p.Util.fixDateNode=function(t,e,r){var n,i,s,o,a,l,u,c,p,h,f,d,m=this.cslXml.getAttributeValue(r,"lingo"),g=this.cslXml.getAttributeValue(r,"default-locale");if(this.build.date_key=!0,n=this.cslXml.getAttributeValue(r,"form"),m=g?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(r,"lingo"),!this.getDate(n,g))return t;var b=this.cslXml.getAttributeValue(r,"date-parts");for(var v in i=this.cslXml.getAttributeValue(r,"variable"),u=this.cslXml.getAttributeValue(r,"prefix"),c=this.cslXml.getAttributeValue(r,"suffix"),f=this.cslXml.getAttributeValue(r,"display"),d=this.cslXml.getAttributeValue(r,"cslid"),s=this.cslXml.nodeCopy(this.getDate(n,g)),this.cslXml.setAttribute(s,"lingo",this.opt.lang),this.cslXml.setAttribute(s,"form",n),this.cslXml.setAttribute(s,"date-parts",b),this.cslXml.setAttribute(s,"cslid",d),this.cslXml.setAttribute(s,"variable",i),this.cslXml.setAttribute(s,"default-locale",g),u&&this.cslXml.setAttribute(s,"prefix",u),c&&this.cslXml.setAttribute(s,"suffix",c),f&&this.cslXml.setAttribute(s,"display",f),p=this.cslXml.children(s))"date-part"===this.cslXml.nodename(o=p[v])&&(a=this.cslXml.getAttributeValue(o,"name"),g&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,"@default-locale","true"));for(var v in p=this.cslXml.children(r))if("date-part"===this.cslXml.nodename(o=p[v]))for(l in a=this.cslXml.getAttributeValue(o,"name"),h=this.cslXml.attributes(o))"@name"!==l&&(m&&m!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(s,"date-part",a,l,h[l]));if("year"===this.cslXml.getAttributeValue(r,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"month"),this.cslXml.deleteNodeByNameAttribute(s,"day");else if("year-month"===this.cslXml.getAttributeValue(r,"date-parts"))this.cslXml.deleteNodeByNameAttribute(s,"day");else if("month-day"===this.cslXml.getAttributeValue(r,"date-parts")){for(var y=this.cslXml.children(s),_=1,x=this.cslXml.numberofnodes(y);_<x;_++)if("year"===this.cslXml.getAttributeValue(y[_],"name")){this.cslXml.setAttribute(y[_-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(s,"year")}return this.cslXml.insertChildNodeAfter(t,r,e,s)},t.exports=p,p.dateMacroAsSortKey=function(t,e){p.dateAsSortKey.call(this,t,e,!0)},p.dateAsSortKey=function(t,e,r){var n,i,s,o,a,l,u,c="empty";for(r&&t.tmp.extension&&(c="macro-with-date"),void 0===(n=e[this.variables[0]])&&((n={"date-parts":[[0]]}).year||(t.tmp.empty_date=!0)),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),n.raw?n=t.fun.dateparser.parseDateToArray(n.raw):n["date-parts"]&&(n=t.dateParseArray(n)),void 0===n&&(n={}),l=0,u=p.DATE_PARTS_INTERNAL.length;l<u;l+=1)if(s=0,"_end"===(o=i=p.DATE_PARTS_INTERNAL[l]).slice(-4)&&(o=o.slice(0,-4)),n[i]&&this.dateparts.indexOf(o)>-1&&(s=n[i]),"year"===i.slice(0,4)){var h="Y";"-"===(a=p.Util.Dates[o].numeric(t,s))[0]&&(h="X",a=a.slice(1),a=9999-parseInt(a,10)),t.output.append(p.Util.Dates[i.slice(0,4)].numeric(t,h+a),c)}else(s=p.Util.Dates[o]["numeric-leading-zeros"](t,s))||(s="00"),t.output.append(s,c)},p.Engine.prototype.dateParseArray=function(t){var e,r,n,i;for(r in e={},t)if("date-parts"===r){(n=t["date-parts"]).length>1&&n[0].length!==n[1].length&&p.error("CSL data error: element mismatch in date range input."),i=["","_end"];for(var s=0,o=n.length;s<o;s+=1)for(var a=0,l=p.DATE_PARTS.length;a<l;a+=1)e[p.DATE_PARTS[a]+i[s]]=isNaN(parseInt(n[s][a],10))?void 0:parseInt(n[s][a],10)}else t.hasOwnProperty(r)&&("literal"===r&&"object"==typeof t.literal&&"string"==typeof t.literal.part?(p.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[r]=t[r]);return e},t.exports=p,p.Util.Names={},p.Util.Names.compareNamesets=p.NameOutput.prototype._compareNamesets,p.Util.Names.unInitialize=function(t,e){var r,n,i,s,o;if(!e)return"";for(i=e.split(/(?:\-|\s+)/),s=e.match(/(\-|\s+)/g),o="",r=0,n=i.length;r<n;r+=1)o+=i[r],r<n-1&&(o+=s[r]);return o},p.Util.Names.initializeWith=function(t,e,r,n){var i,s,o,a,l,u;if(!e)return"";if(r||(r=""),["Lord","Lady"].indexOf(e)>-1||!e.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&!r.match("%s"))return e;var c=e;if(!1===t.opt["initialize-with-hyphen"]&&(c=c.replace(/\-/g," ")),l=(c=(c=c.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"\u2013$1")).match(/[\-\s]+/g),0===(u=c.split(/[\-\s]+/)).length)c=l;else for(c=[u[0]],i=1,s=u.length;i<s;i+=1)c.push(l[i-1]),c.push(u[i]);for(i=(u=c).length-1;i>-1;i+=-1)if(u[i]&&u[i].slice(0,-1).indexOf(".")>-1){var h=u.slice(i+1),f=u[i].slice(0,-1).split(".");for(u=u.slice(0,i),o=0,a=f.length;o<a;o+=1)u.push(f[o]+"."),o<f.length-1&&u.push(" ");u=u.concat(h)}return(n?p.Util.Names.doNormalize(t,u,r):p.Util.Names.doInitialize(t,u,r)).replace(/\u2013([a-z])/g,"-$1")},p.Util.Names.doNormalize=function(t,e,r,n){var i,s;r=r||"";var o=[];for(i=0,s=e.length;i<s;i+=1)e[i].length>1&&"."===e[i].slice(-1)?(e[i]=e[i].slice(0,-1),o.push(!0)):1===e[i].length&&e[i].toUpperCase()===e[i]?o.push(!0):o.push(!1);for(i=0,s=e.length;i<s;i+=2)o[i]&&(i<e.length-2&&(e[i+1]="",(r.match(/^[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]+$/)||(!r||r.slice(-1)&&!r.slice(-1).match(/[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]/))&&e[i].length&&e[i].match(p.ALL_ROMANESQUE_REGEXP)&&(e[i].length>1||e[i+2].length>1))&&(e[i+1]=" "),e[i]=e[i+2].length>1?e[i]+r.replace(/\ufeff$/,""):e[i]+r),i===e.length-1&&(e[i]=e[i]+r));return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.doInitialize=function(t,e,r,n){var i,s,o,a,l,u,c;for(i=0,s=e.length;i<s;i+=2)if(c=e[i])if(!(o=c.match(p.NAME_INITIAL_REGEXP))&&!c.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&c.length>1&&r.match("%s")&&(o=c.match(/(.)(.*)/)),o&&o[1]===o[1].toUpperCase()){var h="";if(o[2]){var f="";for(a=0,l=(u=o[2].split("")).length;a<l;a+=1){var d=u[a];if(d!==d.toUpperCase())break;f+=d}f.length<o[2].length&&(h=f.toLocaleLowerCase())}e[i]=o[1].toLocaleUpperCase()+h,i<s-1?r.match("%s")?e[i]=r.replace("%s",e[i]):e[i+1]=e[i+1].indexOf("-")>-1?r+e[i+1]:r:r.match("%s")?e[i]=r.replace("%s",e[i]):e.push(r)}else c.match(p.ROMANESQUE_REGEXP)&&(e[i]=" "+c);return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.getRawName=function(t){var e=[];return t.given&&e.push(t.given),t.family&&e.push(t.family),e.join(" ")},t.exports=p,p.Util.Dates={},p.Util.Dates.year={},p.Util.Dates.year.long=function(t,e){return e||(e="boolean"==typeof e?"":0),e.toString()},p.Util.Dates.year.imperial=function(t,e,r,n){var i="";e||(e="boolean"==typeof e?"":0);var s=t.tmp.date_object["month"+(r=r?"_end":"")];for(s=s?""+s:"1";s.length<2;)s="0"+s;var o=t.tmp.date_object["day"+r];for(o=o?""+o:"1";o.length<2;)o="0"+o;var a,l,u=parseInt(e+s+o,10);if(u>=18680908&&u<19120730?(a="\u660e\u6cbb",l=1867):u>=19120730&&u<19261225?(a="\u5927\u6b63",l=1911):u>=19261225&&u<19890108?(a="\u662d\u548c",l=1925):u>=19890108&&(a="\u5e73\u6210",l=1988),a&&l){var c=a;t.sys.normalizeAbbrevsKey&&(c=t.sys.normalizeAbbrevsKey("number",a)),t.transform.abbrevs.default.number[c]||t.transform.loadAbbreviation("default","number",c),t.transform.abbrevs.default.number[c]&&(a=t.transform.abbrevs.default.number[c]),i=a+(e-l)}return i},p.Util.Dates.year.short=function(t,e){if((e=e.toString())&&4===e.length)return e.substr(2)},p.Util.Dates.year.numeric=function(t,e){var r,n;for((n=(e=""+e).match(/([0-9]*)$/))?(r=e.slice(0,-1*n[1].length),e=n[1]):(r=e,e="");e.length<4;)e="0"+e;return r+e},p.Util.Dates.normalizeMonth=function(t,e){var r;if(t||(t=0),(t=""+t).match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var n={stub:"month-",num:t};n.num<1||n.num>20?n.num=0:n.num>16?(n.stub="season-",n.num=n.num-16):n.num>12&&(n.stub="season-",n.num=n.num-12),r=n}else(t<1||t>12)&&(t=0),r=t;return r},p.Util.Dates.month={},p.Util.Dates.month.numeric=function(t,e){return(e=p.Util.Dates.normalizeMonth(e))||(e=""),e},p.Util.Dates.month["numeric-leading-zeros"]=function(t,e){if(e=p.Util.Dates.normalizeMonth(e))for(e=""+e;e.length<2;)e="0"+e;else e="";return e},p.Util.Dates.month.long=function(t,e,r,n){var i=p.Util.Dates.normalizeMonth(e,!0);if(e=i.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(i.stub+e,"long",0,0,!1,n)}else e="";return e},p.Util.Dates.month.short=function(t,e,r,n){var i=p.Util.Dates.normalizeMonth(e,!0);if(e=i.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(i.stub+e,"short",0,0,!1,n)}else e="";return e},p.Util.Dates.day={},p.Util.Dates.day.numeric=function(t,e){return e.toString()},p.Util.Dates.day.long=p.Util.Dates.day.numeric,p.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e||(e=0),e=e.toString();e.length<2;)e="0"+e;return e.toString()},p.Util.Dates.day.ordinal=function(t,e,r){return t.fun.ordinalizer.format(e,r)},t.exports=p,p.Util.Sort={},p.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.toLocaleLowerCase(),e=t.match(/^((a|an|the)\s+)/)),e&&(t=t.substr(e[1].length)),t},t.exports=p,p.Util.substituteStart=function(t,e){var r,n,i,s,o;this.execs.push(i=function(t,e){for(var r=0,n=this.decorations.length;r<n;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){t.tmp.strip_periods+=1;break}}),this.decorations&&(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&this.execs.push(function(t,e,r){"author"===t.tmp.element_trace.value()||"names"===this.name?r&&r["author-only"]&&t.tmp.element_trace.push("do-not-suppress-me"):r&&r["author-only"]?t.tmp.element_trace.push("suppress-me"):r&&r["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")}),r=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?((n=new p.Token("group",p.START)).decorations=[["@display","left-margin"]],i=function(t,e){t.tmp.render_seen||(n.strings.first_blob=e.id,t.output.startTag("bib_first",n))},n.execs.push(i),e.push(n)):p.DISPLAY_CLASSES.indexOf(r)>-1&&((n=new p.Token("group",p.START)).decorations=[["@display",r]],i=function(t,e){n.strings.first_blob=e.id,t.output.startTag("bib_first",n)},n.execs.push(i),e.push(n)),t.build.cls=r),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(s=new p.Token("choose",p.START),p.Node.choose.build.call(s,t,e),(o=new p.Token("if",p.START)).tests.push(i=function(e,r){return!!t.tmp.can_substitute.value()}),o.test=t.fun.match.any(this,t,o.tests),e.push(o)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&this.execs.push(i=function(t,e,r){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){var n=new p.Token("text",p.START);n.decorations=[["@showid","true"]],t.output.startTag("variable_entry",n);var i=null;r&&(i=r.position),i||(i=0);var s=0;r&&r.noteIndex&&(s=r.noteIndex);var o=0;r&&r["first-reference-note-number"]&&(o=r["first-reference-note-number"]);var a=0;r&&r["citation-number"]&&(a=r["citation-number"]);var l=0;r&&r.index&&(l=r.index);var u={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:["first","subsequent","ibid","ibid-with-locator"][i],"note-number":s,"first-reference-note-number":o,"citation-number":a,index:l,mode:t.opt.mode};t.output.current.value().params=u}})},p.Util.substituteEnd=function(t,e){var r,n,i,s,o;t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&this.execs.push(function(t,e){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")}),this.execs.push(function(t,e){for(var r=0,n=this.decorations.length;r<n;r+=1)if("@strip-periods"===this.decorations[r][0]&&"true"===this.decorations[r][1]){t.tmp.strip_periods+=-1;break}}),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(this.execs.push(function(t,e){t.output.endTag("bib_first")}),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&((r=new p.Token("group",p.END)).execs.push(function(t,e){t.tmp.render_seen||t.output.endTag("bib_first")}),e.push(r),(n=new p.Token("group",p.START)).decorations=[["@display","right-inline"]],n.execs.push(function(t,e){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",n))}),e.push(n))),1===t.build.substitute_level.value()&&(i=new p.Token("if",p.END),e.push(i),s=new p.Token("choose",p.END),p.Node.choose.build.call(s,t,e)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(new p.Token("text",p.SINGLETON),this.execs.push(function(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&t.tmp.substituted_variable===this.variables_real){var r,n,i=t.bibliography.opt["subsequent-author-substitute-rule"];if(!t.tmp.suppress_decorations&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===i||"partial-first"===i){var s=!0,a=[];for(r=0,n=t.tmp.name_node.children.length;r<n;r+=1){var l=t.tmp.rendered_name[r];s&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>r-1&&l&&!l.localeCompare(t.tmp.last_rendered_name[r])?(o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[r].blobs=[o],"partial-first"===i&&(s=!1)):s=!1,a.push(l)}t.tmp.last_rendered_name=a}else if("complete-each"===i){if(a=t.tmp.rendered_name.join(",")){if(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name))for(r=0,n=t.tmp.name_node.children.length;r<n;r+=1)o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[r].blobs=[o];t.tmp.last_rendered_name=a}}else(a=t.tmp.rendered_name.join(","))&&(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name)&&(o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[o,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[o]:t.tmp.name_node.top.blobs=[o],t.tmp.substituted_variable=this.variables_real),t.tmp.last_rendered_name=a);t.tmp.subsequent_author_substitute_ok=!1}}})),("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&this.execs.push(function(t,e){t.tmp.element_trace.pop()})},t.exports=p,p.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for((t=parseInt(e[1],10))<0&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},p.Util.LongOrdinalizer=function(){},p.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},p.Util.LongOrdinalizer.prototype.format=function(t,e){t<10&&(t="0"+t);var r=p.Engine.getField(p.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return r||(r=this.state.fun.ordinalizer.format(t,e)),this.state.tmp.cite_renders_content=!0,r},p.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},p.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0;t<3;t+=1){var e=[void 0,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][e]=[];for(var r=1;r<5;r+=1){var n=this.state.getTerm("ordinal-0"+r,"long",!1,e);if(void 0===n){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(n)}}}},p.Util.Ordinalizer.prototype.format=function(t,e){var r;r=""+(t=parseInt(t,10));var n="",i=[];if(e&&i.push(e),i.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var s;n=this.state.getTerm("ordinal",!1,0,e);for(var o=0,a=i.length;o<a;o+=1){s=i[o];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][r]&&l["whole-number"][r][s]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][r][s],!1,0,e):l["last-two-digits"][r.slice(r.length-2)]&&l["last-two-digits"][r.slice(r.length-2)][s]?n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][r.slice(r.length-2)][s],!1,0,e):l["last-digit"][r.slice(r.length-1)]&&l["last-digit"][r.slice(r.length-1)][s]&&(n=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][r.slice(r.length-1)][s],!1,0,e)),n)break}}else e||(e=void 0),this.state.fun.ordinalizer.init(),n=t/10%10==1||t>10&&t<20?this.suffixes[this.state.opt.lang][e][3]:t%10==1&&t%100!=11?this.suffixes[this.state.opt.lang][e][0]:t%10==2&&t%100!=12?this.suffixes[this.state.opt.lang][e][1]:t%10==3&&t%100!=13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return r+n},p.Util.Romanizer=function(){},p.Util.Romanizer.prototype.format=function(t){var e,r,n,i,s;if(e="",t<6e3)for((i=t.toString().split("")).reverse(),r=0,n=0,s=i.length,r=0;r<s;r+=1)n=parseInt(i[r],10),e=p.ROMAN_NUMERALS[r][n]+e;return e},p.Util.Suffixator=function(t){t||(t=p.SUFFIX_CHARS),this.slist=t.split(",")},p.Util.Suffixator.prototype.format=function(t){var e;t+=1;var r="";do{r=this.slist[(e=t%26==0?26:t%26)-1]+r,t=(t-e)/26}while(0!==t);return r},p.Engine.prototype.processNumber=function(t,e,r,n){var i,s=this;function o(t,e,n,i){i=i||"";var s={};if(e||p.STATUTE_SUBDIV_STRINGS_REVERSE[r]||(e="var:"+r),e){var o=e.match(/(\s*)([^\s]+)(\s*)/);s.label=o[2],s.origLabel=t,s.labelSuffix=o[3]?o[3]:"",s.plural=0,s.labelVisibility=!1}return(o=n.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(s.particle=o[1]?o[1]:"",s.value=o[2]):(s.particle="",s.value=n),s.joiningSuffix=i.replace(/\s*-\s*/,"-"),s}function a(t,e,r){var n=t[r.pos],i=t[e].value,s="\\-"===n.joiningSuffix;i.particle&&i.particle!==n.particle&&(r.collapsible=!1);var o=i.match(/^[0-9]+([-,:a-zA-Z]*)$/),a=n.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);if(i&&o&&a&&!s||(r.collapsible=!1,i&&a||(r.numeric=!1),s&&r.count--),(o&&o[1]||a&&a[1])&&(r.collapsible=!1),void 0===t[e].collapsible){for(var l=e,u=e+r.count;l<u;l++)t[l].collapsible=!(isNaN(parseInt(t[l].value))&&!t[l].value.match(/^[ivxlcmIVXLCM]+$/));r.collapsible=t[e].collapsible}var c=r.collapsible;for(l=r.pos,u=r.pos+r.count;l<u;l++)r.count>1&&c&&(t[l].plural=1),t[l].numeric=r.numeric,t[l].collapsible=r.collapsible}function l(t,e,n){"var:"!==n.label.slice(0,4)&&(0===n.pos?("locator"!==r&&"number"!==r||s.getTerm(p.STATUTE_SUBDIV_STRINGS[n.label])||(t[n.pos].labelVisibility=!0),-1===["locator","number"].indexOf(r)&&p.STATUTE_SUBDIV_STRINGS[n.label]!==r&&(t[0].labelVisibility=!0)):t[n.pos].labelVisibility=!0)}function u(e){var r=p.Util.cloneToken(t),n=new p.Token;if(!s.tmp.just_looking){for(var i=r.decorations.length-1;i>-1;i--)"@quotes"===r.decorations[i][0]&&(n.decorations=n.decorations.concat(r.decorations.slice(i,i+1)),r.decorations=r.decorations.slice(0,i).concat(r.decorations.slice(i+1)));n.strings.prefix=r.strings.prefix,r.strings.prefix="",n.strings.suffix=r.strings.suffix,r.strings.suffix=""}var o=e.length?e[0].label:null;if(e.length){for(var a=0,l=e.length;a<l;a++){var u=e[a],h=p.Util.cloneToken(r);h.gender=t.gender,o===u.label&&(h.formatter=t.formatter),u.numeric&&(h.successor_prefix=u.successor_prefix),h.strings.suffix=h.strings.suffix+c(u.joiningSuffix),u.styling=h}s.tmp.just_looking||'"'===e[0].value.slice(0,1)&&'"'===e[e.length-1].value.slice(-1)&&(e[0].value=e[0].value.slice(1),e[e.length-1].value=e[e.length-1].value.slice(0,-1),n.decorations.push(["@quotes",!0]))}return n}function c(t){return t.replace("\\-","-")}function h(t,e,r,n){var i=f(t,e);return function(t,e){var r=!0;return"locator"===t&&(r=!!s.getTerm(p.STATUTE_SUBDIV_STRINGS[e.origLabel?e.origLabel:e.label])),r}(t,e)&&"-"===r&&n&&((i||["locator","issue","volume","edition","number"].indexOf(t)>-1)&&((r=s.getTerm("page-range-delimiter"))||(r="\u2013")),"collection-number"===t&&((r=s.getTerm("year-range-delimiter"))||(r="\u2013"))),r}function f(t,e){return"page"===t||"locator"===t&&(["p."].indexOf(e.label)>-1||["p."].indexOf(e.origLabel)>-1)}function d(t,e,n){if(!(e<1)&&2===n.count&&t[e-1].particle===t[e].particle)if("-"===t[e-1].joiningSuffix)if(!s.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))t[e-1].joiningSuffix=h(r,t[e],t[e-1].joiningSuffix,!0);else{var i,o=t[e];!f(r,o)||isNaN(parseInt(t[e-1].value))||isNaN(parseInt(t[e].value))?((""+t[e-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+t[e].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(t[e-1].joiningSuffix=s.getTerm("page-range-delimiter")),i=t[e-1].value+c(t[e-1].joiningSuffix)+t[e].value):i=s.fun.page_mangler(i=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value);var a=i.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+[a-z]*)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+[a-z]*)$/);if(a){var l=a[3];l=h(r,o,l,t[e].numeric),t[e-1].particle=a[1],t[e-1].value=a[2],t[e-1].joiningSuffix=l,t[e].particle=a[4],t[e].value=a[5]}n.count=0}else n.count=1}function m(e){if(t&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator"].indexOf(r)){for(var n={count:0,label:null,lastHadRangeDelimiter:!1},i=0,s=e.length;i<s;i++){var o=e[i];o.collapsible?n.label===o.label&&"-"===o.joiningSuffix?n.count=1:n.label===o.label&&"-"!==o.joiningSuffix?(n.count++,2===n.count&&d(e,i,n)):n.label!==o.label?(n.label=o.label,n.count=1):(n.count=1,n.label=o.label):(n.count=0,n.label=null,o.joiningSuffix=h(r,o,o.joiningSuffix,o.numeric))}2===n.count&&d(e,e.length-1,n)}}if(t&&this.tmp.shadow_numbers[r]&&this.tmp.shadow_numbers[r].values.length)return m(g=this.tmp.shadow_numbers[r].values),void(this.tmp.shadow_numbers[r].masterStyling=u(g));if(this.tmp.shadow_numbers[r]||(this.tmp.shadow_numbers[r]={values:[]}),e){var g,b=p.LangPrefsMap[r];if((i=b?(i=this.transform.getTextSubField(e,r,"locale-"+this.opt["cite-lang-prefs"][b][0],!0)).name:e[r])&&this.sys.getAbbreviation){var v=this.transform.loadAbbreviation(e.jurisdiction,"number",i);this.transform.abbrevs[v].number&&(this.transform.abbrevs[v].number[i]?i=this.transform.abbrevs[v].number[i]:void 0!==this.transform.abbrevs[v].number[i]&&delete this.transform.abbrevs[v].number[i])}void 0===i||"string"!=typeof i&&"number"!=typeof i||("number"==typeof i&&(i=""+i),this.tmp.shadow_numbers.values||(function(t){for(var e=0,r=t.length-1;e<r;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}(g=function(t,n){n=n||"";var i=[];if(d=(t=function(t,n){var i,s=(t=t.trim()).match(/^([^ ]+)/);s&&!p.STATUTE_SUBDIV_STRINGS[s[1]]&&((i="locator"===r?e.label?p.STATUTE_SUBDIV_STRINGS_REVERSE[e.label]:"p.":p.STATUTE_SUBDIV_STRINGS_REVERSE[r])&&(t=i+" "+t));return t}(t)).match(/(;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/g)){var a=t.split(/(?:;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/);for(var l in a)if(a[l].replace(/^[a-z]\.\s+/,"").match(/[^\s0-9ivxlcmIVXLCM]/))break;l=0;for(var u=a.length-1;l<u;l++)i.push(a[l]),i.push(d[l]);i.push(a[a.length-1]),i=function(t){for(var e=t.length-2;e>-1;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}(i)}else i=[t];var c=[],h=n,f="";for(l=0,u=i.length;l<u;l+=2){var d;if(d=i[l].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/g)){for(var m=(a=i[l].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/)).length-1;m>0;m--)!a[m-1]||a[m].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&a[m-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(a[m-1]=a[m-1]+d[m-1]+a[m],a=a.slice(0,m).concat(a.slice(m+1)),d=d.slice(0,m-1).concat(d.slice(m)));if(d.length>0){var g=d[0].trim();!p.STATUTE_SUBDIV_STRINGS[g]||!s.getTerm(p.STATUTE_SUBDIV_STRINGS[g])||-1===["locator","number"].indexOf(r)&&p.STATUTE_SUBDIV_STRINGS[g]!==r?0===l&&(d=d.slice(1),a[0]=a[0]+" "+g+" "+a[1],a=a.slice(0,1).concat(a.slice(2))):f=g}m=0;for(var b=a.length;m<b;m++)(a[m]||m===a.length-1)&&(v=f===(h=d[m-1]?d[m-1]:h).trim()?"":f,t=a[m]?a[m].trim():"",c.push(m===a.length-1?o(v,h,t,i[l+1]):o(v,h,t)))}else{var v;v=f===h.trim()?"":f,c.push(o(v,h,i[l],i[l+1]))}}return c}(i,p.STATUTE_SUBDIV_STRINGS_REVERSE[r])),function(t){if(0!==t.length){for(var n=0,i=1,s=1,o=t.length;s<o;s++){var u=t[s-1],c=t[s];u.label===c.label&&u.particle==u.particle?i++:((p=JSON.parse(JSON.stringify(t[n]))).pos=n,p.count=i,p.numeric=!0,a(t,n,p),0!==s&&u.label===c.label||l(t,0,p),n=s,i=1)}var p;(p=JSON.parse(JSON.stringify(t[n]))).pos=n,p.count=i,p.numeric=!0,a(t,n,p),l(t,0,p),t.length&&t[0].numeric&&"number-of-"===r.slice(0,10)&&parseInt(e[r],10)>1&&(t[0].plural=1)}}(g),this.tmp.shadow_numbers[r].values=g),t&&(m(g),this.tmp.shadow_numbers[r].masterStyling=u(g)),function(t,e,r){var n=t[e];r.length&&(n.numeric=r[0].numeric,n.collapsible=r[0].collapsible,n.plural=r[0].plural,n.label=p.STATUTE_SUBDIV_STRINGS[r[0].label],"number"===e&&"issue"===n.label&&s.getTerm("number")&&(n.label="number"))}(this.tmp.shadow_numbers,r,g))}},p.Util.outputNumericField=function(t,e,r){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var n,i=t.tmp.shadow_numbers[e].values,s=i.length?i[0].label:null,o=t.tmp.shadow_numbers[e].labelForm;n=o||"short";for(var a=t.tmp.shadow_numbers[e].labelCapitalizeIfFirst,l=t.tmp.shadow_numbers[e].labelDecorations,u=null,c=0,h=i.length;c<h;c++){var f,d=i[c],m="";d.label&&(f="var:"===d.label.slice(0,4)?d.label.slice(4):p.STATUTE_SUBDIV_STRINGS[d.label])&&(m=t.getTerm(f,d.label===s?o:n,d.plural),a&&(m=p.Output.Formatters["capitalize-first"](t,m)));var g=-1;m&&(g=m.indexOf("%s"));var b,v=p.Util.cloneToken(d.styling);if(v.formatter=d.styling.formatter,v.type=d.styling.type,v.num=d.styling.num,v.gender=d.styling.gender,g>0&&g<m.length-2)v.strings.prefix+=m.slice(0,g),v.strings.suffix=m.slice(g+2)+v.strings.suffix;else if(d.labelVisibility)if(m||(m=d.label,f=d.label),g>0){var y=new p.Token;y.decorations=l,t.output.append(m.slice(0,g),y)}else g!==m.length-2&&-1!==g||t.output.append(m+d.labelSuffix,"empty");if(d.collapsible?(void 0===(b=d.value.match(/^[1-9][0-9]*$/)?new p.NumericBlob(d.particle,parseInt(d.value,10),v,r):new p.NumericBlob(d.particle,d.value,v,r)).gender&&(b.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(b,"literal")):t.output.append(d.particle+d.value,v),0===g&&g<m.length-2&&(null===u&&(u=f),f!==u||c===i.length-1)){var _=new p.Token;_.decorations=l,t.output.append(m.slice(g+2),_)}u=f,t.tmp.term_predecessor=!0}t.output.closeLevel()},t.exports=p,p.Util.PageRangeMangler={},p.Util.PageRangeMangler.getFunction=function(t,e){var r,n,i,s,o,a,l,u,c,p,h,f,d,m,g,b,v,y=t.getTerm(e+"-range-delimiter");r=/([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+[a-z]*)/,s=function(r){for(i=r.length,n=1;n<i;n+=2)"object"==typeof r[n]&&(r[n]=r[n].join(""));return r.join("").replace(/([^\\])\-/g,"$1"+t.getTerm(e+"-range-delimiter"))},o=function(t){var e,r,s,o=new RegExp("([^\\\\])[-"+("-"===y?"":y)+"\\u2013]","g");t=t.replace(o,"$1 - ").replace(/\s+-\s+/g," - ");var a=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*)","g"),l=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+[a-z]*");if(e=t.match(a),0===(r=t.split(l)).length)s=e;else for(s=[r[0]],n=1,i=r.length;n<i;n+=1)s.push(e[n-1].replace(/\s*\-\s*/g,"-")),s.push(r[n]);return s},a=function(t){for(p=o(t=""+t),i=p.length,n=1;n<i;n+=2)(h=p[n].match(r))&&(h[3]&&h[1]!==h[3]||(h[4].length<h[2].length&&(h[4]=h[2].slice(0,h[2].length-h[4].length)+h[4]),parseInt(h[2],10)<parseInt(h[4],10)&&(h[3]=y+(h[1]?h[1]:""),p[n]=h.slice(1)))),"string"==typeof p[n]&&(p[n]=p[n].replace(/\-/g,y));return p},l=function(t,e,r){i=t.length;for(var n=1,o=t.length;n<o;n+=2)t[n][3]=u(t[n][1],t[n][3],e,r),t[n][2].slice(1)===t[n][0]&&(t[n][2]=y);return s(t)},u=function(t,e,r,n){if(r||(r=0),f=(""+t).split(""),d=(""+e).split(""),(m=d.slice()).reverse(),f.length===d.length)for(var i=0,s=f.length;i<s;i+=1){if(!(f[i]===d[i]&&m.length>r)){if(r&&n&&3===m.length){var o=f.slice(0,i);o.reverse(),m=m.concat(o)}break}m.pop()}return m.reverse(),m.join("")},c=function(t){for(i=t.length,n=1;n<i;n+=2)"object"==typeof t[n]&&(h=t[n],g=parseInt(h[1],10),b=parseInt(h[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(b/100,10)?h[3]=""+b%100:g>=1e4&&(h[3]=""+b%1e3)),h[2].slice(1)===h[0]&&(h[2]=y);return s(t)};var _=function(t,e,r,n){return e(a(t=""+t),r,n)};return t.opt[e+"-range-format"]?"expanded"===t.opt[e+"-range-format"]?v=function(t){return _(t,s)}:"minimal"===t.opt[e+"-range-format"]?v=function(t){return _(t,l)}:"minimal-two"===t.opt[e+"-range-format"]?v=function(t,e){return _(t,l,2,e)}:"chicago"===t.opt[e+"-range-format"]&&(v=function(t){return _(t,c)}):v=function(t){return _(t,s)},v},t.exports=p,p.Util.FlipFlopper=function(t){this.processTags=function(n){var i=!1;" "!==(m=n.blobs).slice(0,1)||m.match(/^\s+[\'\"]/)||(i=!0);var s=new RegExp("("+p.ROMANESQUE_REGEXP.source+")\u2019("+p.ROMANESQUE_REGEXP.source+")","g"),o=function(t){var e=[],n=(t=(t=t.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(u.matchAll);if(!n)return{tags:[],strings:[t],forcedSpaces:[]};for(var i=t.split(u.splitAll),s=0,o=n.length-1;s<o;s++)r[n[s]]&&(""===i[s+1]&&['"',"'"].indexOf(n[s+1])>-1?(n[s+1]=" "+n[s+1],e.push(!0)):e.push(!1));return{tags:n,strings:i,forcedSpaces:e}}(m=" "+m.replace(s,"$1'$2"));if(0!==o.tags.length){for(var a=!1,l=0,d=o.tags.length;l<d;l++){var m=o.strings[l+1];if(f(y=o.tags[l],m))o.strings[l+1]=" '"===y?" \u2019"+o.strings[l+1]:"\u2019"+o.strings[l+1],o.tags[l]="";else{for(var g;g=c(y,l);){if(!(Object.keys(g).indexOf("fixtag")>-1)){if(g.nocase){o.tags[g.nocase.open]="",o.tags[g.nocase.close]="";break}break}if(y.match(u.close)&&"'"===y)o.strings[l+1]="\u2019"+o.strings[l+1],o.tags[l]="";else{var b=o.tags[g.fixtag];o.forcedSpaces[g.fixtag-1]&&(b=b.slice(1)),o.strings[g.fixtag+1]=b+o.strings[g.fixtag+1],o.tags[g.fixtag]=""}if(!(e.length>0))break;e.pop()}g&&(g.fixtag||0===g.fixtag)&&(o.strings[l+1]=o.tags[l]+o.strings[l+1],o.tags[l]="")}}for(l=e.length-1;l>-1;l--){var v=e[l].pos;o.strings[v+1]=" '"===(y=o.tags[v])||"'"===y?" \u2019"+o.strings[v+1]:o.tags[v]+o.strings[v+1],o.tags[v]="",e.pop()}for(l=o.tags.length-1;l>-1;l--)o.tags[l]||(o.tags=o.tags.slice(0,l).concat(o.tags.slice(l+1)),o.strings[l]=o.strings[l]+o.strings[l+1],o.strings=o.strings.slice(0,l+1).concat(o.strings.slice(l+2)));for(l=0,d=o.tags.length;l<d;l++){var y,_=o.forcedSpaces[l-1];[' "'," '",'("',"('"].indexOf(y=o.tags[l])>-1&&(a||(r[x=y].outer="true",r[{" '":' "',' "':" '",'("':"('","('":'("'}[x]].outer="inner",a=!0),_||(o.strings[l]+=y.slice(0,1)))}var x;!function(e,r,n){var i=!0,s=new h(e);e.blobs=[];var o=new function(e){this.stack=[e],this.latest=e,this.addStyling=function(e,r,n){if(i&&(" "===e.slice(0,1)&&(e=e.slice(1))," "===e.slice(0,1)&&(e=e.slice(1)),i=!1),this.latest=this.stack[this.stack.length-1],r){"string"==typeof this.latest.blobs&&((m=new p.Blob).blobs=this.latest.blobs,m.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[m]);var s,o=new p.Token;if((s=new p.Blob(null,o)).alldecor=this.latest.alldecor.slice(),"@class"===r[0]&&"nodecor"===r[1]){for(var a=[],l={},u=[t[t.tmp.area].opt.layout_decorations].concat(s.alldecor),c=u.length-1;c>-1;c--){var h=u[c];if(h)for(var f=h.length-1;f>-1;f--){var d=h[f];["@font-weight","@font-style","@font-variant"].indexOf(d[0])>-1&&!l[d[0]]&&("normal"!==r[1]&&(s.decorations.push([d[0],"normal"]),a.push([d[0],"normal"])),l[d[0]]=!0)}}s.alldecor.push(a)}else s.decorations.push(r),s.alldecor.push([r]);if(this.latest.blobs.push(s),this.stack.push(s),this.latest=s,e)o=new p.Token,(s=new p.Blob(null,o)).blobs=e,s.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(s)}else if(e){var m;(m=new p.Blob).blobs=e,m.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(m)}},this.popStyling=function(){this.stack.pop()}}(e);if(r.strings.length){var a=r.strings[0];n&&(a=" "+a),o.addStyling(a)}for(var l=0,c=r.tags.length;l<c;l++){var f=r.tags[l];a=r.strings[l+1],f.match(u.open)?(s.set(f),o.addStyling(a,s.pair())):(s.pop(),o.popStyling(),o.addStyling(a))}}(n,o,i)}};var e=[],r={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};r['("']=r[' "'],r["('"]=r[" '"];var n=t.getTerm("open-quote"),i=t.getTerm("close-quote"),s=t.getTerm("open-inner-quote"),o=t.getTerm("close-inner-quote");function a(t){for(var e=[],n=Object.keys(r),i=0,s=n.length;i<s;i++)"quote"===r[t].type&&r[t]||e.push(n[i]);var o=r[t];return o.opener=new RegExp("^(?:"+e.map(function(t){return t.replace("(","\\(")}).join("|")+")"),o}n&&i&&-1===[' "'," '",'"',"'"].indexOf(n)&&(r[n]=JSON.parse(JSON.stringify(r[' "'])),r[n].opener=n,r[n].closer=i),s&&o&&-1===[' "'," '",'"',"'"].indexOf(s)&&(r[s]=JSON.parse(JSON.stringify(r[" '"])),r[s].opener=s,r[s].closer=o),function(){for(var t={},e=Object.keys(r),n=0,i=e.length;n<i;n++){var s=e[n];"quote"===r[s].type&&(t[r[s].closer]=r[s])}}(),function(){for(var t={},e=Object.keys(r),n=0,i=e.length;n<i;n++){var s=e[n];if("nocase"!==r[s].type){var o=r[s].attr,a=r[s].flipflop[r[s].outer];t[o+"/"+r[s].outer]=r[s],t[o+"/"+a]=r[s]}}}();var l=function(){for(var t={},e=Object.keys(r),n=0,i=e.length;n<i;n++){var s=e[n];t[s]=a(s)}return t}(),u=function(){var t=[],e=[],r={};for(var n in l)t.push(n),r[l[n].closer]=!0;for(var i=Object.keys(r),s=0,o=i.length;s<o;s++)e.push(i[s]);var a=t.concat(e).map(function(t){return t.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+a+"))","g"),splitAll:new RegExp("(?:"+a+")","g"),open:new RegExp("(^(?:"+t.map(function(t){return t.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+e.join("|")+")$)")}}();function c(t,r){return function(t,r){return t.match(u.open)?function(t,r){var n=e[e.length-1];return!n||t.match(n.opener)?(e.push({type:l[t].type,opener:l[t].opener,closer:l[t].closer,pos:r}),!1):(e.pop(),e.push({type:l[t].type,opener:l[t].opener,closer:l[t].closer,pos:r}),{fixtag:n.pos})}(t,r):function(t,r){var n=e[e.length-1];return n&&t===n.closer?(e.pop(),"nocase"===n.type&&{nocase:{open:n.pos,close:r}}):n?{fixtag:n.pos}:{fixtag:r}}(t,r)}(t,r)}var h=function(e){this.set=function(i){for(var s=r[i].attr,o=null,a=n.length-1;a>-1;a--)if((p=n[a])[0]===s){o=p;break}if(!o){var l=[t[t.tmp.area].opt.layout_decorations].concat(e.alldecor);t:for(a=l.length-1;a>-1;a--){var u=l[a];if(u)for(var c=u.length-1;c>-1;c--){var p;if((p=u[c])[0]===s){o=p;break t}}}}n.push(o=o?[s,r[i].flipflop[o[1]]]:[s,r[i].outer])},this.pair=function(){return n[n.length-1]},this.pop=function(){n.pop()};var n=[]};function f(t,e){if("'"===t){if(e&&e.match(/^[^\,\.\?\:\;\ ]/))return!0}else if(" '"===t&&e&&e.match(/^[\ ]/))return!0;return!1}},t.exports=p,p.Output.Formatters=new function(){this.passthrough=function(t,e){return e},this.lowercase=function(t,e){return i({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),r=0,n=e.length;r<n;r++){var i=e[r];i&&(e[r]=i.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.uppercase=function(t,e){return i({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),r=0,n=e.length;r<n;r++){var i=e[r];i&&(e[r]=i.toUpperCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.sentence=function(t,e){var r={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,s=e.length;i<s;i++){var o=e[i];o&&(r.isFirst?(e[i]=n(o),r.isFirst=!1):e[i]=o.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return i(r,e)},this.title=function(t,r){var s={quoteState:[],capitaliseWords:function(t,r,i){if(t.trim()){for(var o=t.split(/[ \u00A0]+/),a=e.split(t),l=0,u=(o=a.strings).length;l<u;l++){var c=o[l];c&&(c.length>1&&!c.toLowerCase().match(s.skipWordsRex)?o[l]=n(o[l]):l===o.length-1&&"-"===i?o[l]=n(o[l]):s.isFirst?o[l]=n(o[l]):s.afterPunct&&(o[l]=n(o[l])),s.afterPunct=!1,s.isFirst=!1,s.lastWordPos={strings:r,words:l})}t=e.join(a)}return t},skipWordsRex:t.locale[t.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return i(s,r)},this["capitalize-first"]=function(t,e){var r={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,s=e.length;i<s;i++){var o=e[i];if(o&&r.isFirst){e[i]=n(o),r.isFirst=!1;break}}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return i(r,e)},this["capitalize-all"]=function(t,e){return i({quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),r=0,i=e.length;r<i;r++){var s=e[r];s&&(e[r]=n(s))}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)};var t=new p.Doppeler('(?:\u2018|\u2019|\u201c|\u201d| "| \'|"|\'|[-\u2013\u2014/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',function(t){return t.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),e=new p.Doppeler("(?:[ \xa0\u2000-\u200b\u205f\u3000]+)"),r={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>","<sc>":"</sc>","<sub>":"</sub>","<sup>":"</sup>"};function n(t,e){var r=t.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!r||r[2].match(/^[\u0370-\u03FF]$/)&&!r[3]?t:r[1]+r[2].toUpperCase()+r[3]}function i(i,s){if(!s)return"";i.doppel=t.split(s);var o={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"\u2018":{opener:"\u2018",closer:"\u2019"},"\u201c":{opener:"\u201c",closer:"\u201d"}};function a(t,e){var r=t.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(r)return function(t,e){return["\u201c","\u2018",' "'," '"].indexOf(t)>-1?function(t,e){if(0===i.quoteState.length||t===i.quoteState[i.quoteState.length-1].opener)return i.quoteState.push({opener:o[t].opener,closer:o[t].closer,pos:e}),!1;var r=i.quoteState[i.quoteState.length-1].pos;return i.quoteState.pop(),i.quoteState.push({opener:o[t].opener,closer:o[t].closer,positions:e}),r}(t,e):function(t,e){if(!(i.quoteState.length>0&&t===i.quoteState[i.quoteState.length-1].closer))return e;i.quoteState.pop()}(t,e)}(r[1],e)}i.doppel.strings.length&&i.doppel.strings[0].trim()&&(i.doppel.strings[0]=i.capitaliseWords(i.doppel.strings[0],0,i.doppel.tags[0]));for(var l=0,u=i.doppel.tags.length;l<u;l++){var c=i.doppel.tags[l],p=i.doppel.strings[l+1];if(null!==i.tagState&&(r[c]?i.tagState.push(r[c]):i.tagState.length&&c===i.tagState[i.tagState.length-1]&&i.tagState.pop()),null!==i.afterPunct&&c.match(/[\!\?\:]$/)&&(i.afterPunct=!0),0===i.tagState.length?i.doppel.strings[l+1]=i.capitaliseWords(p,l+1,i.doppel,i.doppel.tags[l+1]):i.doppel.strings[l+1].trim()&&(i.lastWordPos=null),null!==i.quoteState&&((f=a(c,l))||0===f)){var h=i.doppel.origStrings[f+1].slice(0,1);i.doppel.strings[f+1]=h+i.doppel.strings[f+1].slice(1),i.lastWordPos=null}i.isFirst&&p.trim()&&(i.isFirst=!1),i.afterPunct&&p.trim()&&(i.afterPunct=!1)}if(i.quoteState)for(l=0,u=i.quoteState.length;l<u;l++){var f;void 0!==(f=i.quoteState[l].pos)&&(h=i.doppel.origStrings[f+1].slice(0,1),i.doppel.strings[f+1]=h+i.doppel.strings[f+1].slice(1))}if(i.lastWordPos){var d=e.split(i.doppel.strings[i.lastWordPos.strings]),m=d.strings[i.lastWordPos.words];m.length>1&&m.toLowerCase().match(i.skipWordsRex)&&(m=n(m),d.strings[i.lastWordPos.words]=m),i.doppel.strings[i.lastWordPos.strings]=e.join(d)}return t.join(i.doppel)}},t.exports=p,p.Output.Formats=function(){},p.Output.Formats.prototype.html={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"\xa0 ").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+p.SUPERSCRIPTS[t]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var r="";return t.sys.embedBibliographyEntry&&(r=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+r},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,r){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(r)return'<span class="'+t.opt.nodenames[r]+'" cslid="'+r+'">'+e+"</span>";if(this.params&&"string"==typeof e){var n="";if(e){var i=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);n=i[1],e=i[2]}var s="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,n,e,s)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){var r=e;return e.match(/^https?:\/\//)||(r="https://doi.org/"+e),'<a href="'+r+'">'+e+"</a>"}},p.Output.Formats.prototype.text={text_escape:function(t){return t||(t=""),t},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,r){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},p.Output.Formats.prototype.rtf={text_escape:function(t){return t||(t=""),t.replace(/([\\{}])/g,"\\$1").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+p.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?p.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):p.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+p.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return void 0===e?p.Output.Formats.rtf.text_escape("\u2019"):p.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+p.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e,r){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var n="";if(e){var i=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);n=i[1],e=i[2]}var s="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,n,e,s)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},p.Output.Formats.prototype.asciidoc={text_escape:function(t){return t||(t=""),t.replace("*","pass:[*]","g").replace("_","pass:[_]","g").replace("#","pass:[#]","g").replace("^","pass:[^]","g").replace("~","pass:[~]","g").replace("[[","pass:[[[]","g").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"^"+p.SUPERSCRIPTS[t]+"^"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"__%%STRING%%__","@font-style/oblique":"__%%STRING%%__","@font-style/normal":!1,"@font-variant/small-caps":"[small-caps]#%%STRING%%#","@font-variant/normal":!1,"@font-weight/bold":"**%%STRING%%**","@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"[underline]##%%STRING%%##","@vertical-align/sup":"^^%%STRING%%^^","@vertical-align/sub":"~~%%STRING%%~~","@vertical-align/baseline":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?"``":"``"+e+"''"},"@quotes/inner":function(t,e){return void 0===e?"`":"`"+e+"'"},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return" "+e},"@display/indent":function(t,e){return" "+e},"@showid/true":function(t,e,r){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var n="";if(e){var i=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);n=i[1],e=i[2]}var s="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,n,e,s)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){var r=e;return e.match(/^https?:\/\//)||(r="https://doi.org/"+e),r+"["+e+"]"}},p.Output.Formats.prototype.fo={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace("  ","&#160; ","g").replace(p.SUPERSCRIPTS_REGEXP,function(t){return'<fo:inline vertical-align="super">'+p.SUPERSCRIPTS[t]+"</fo:inline>"})},bibstart:"",bibend:"","@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":'<fo:inline font-style="italic">%%STRING%%</fo:inline>',"@font-style/oblique":'<fo:inline font-style="oblique">%%STRING%%</fo:inline>',"@font-style/normal":'<fo:inline font-style="normal">%%STRING%%</fo:inline>',"@font-variant/small-caps":'<fo:inline font-variant="small-caps">%%STRING%%</fo:inline>',"@font-variant/normal":'<fo:inline font-variant="normal">%%STRING%%</fo:inline>',"@font-weight/bold":'<fo:inline font-weight="bold">%%STRING%%</fo:inline>',"@font-weight/normal":'<fo:inline font-weight="normal">%%STRING%%</fo:inline>',"@font-weight/light":'<fo:inline font-weight="lighter">%%STRING%%</fo:inline>',"@text-decoration/none":'<fo:inline text-decoration="none">%%STRING%%</fo:inline>',"@text-decoration/underline":'<fo:inline text-decoration="underline">%%STRING%%</fo:inline>',"@vertical-align/sup":'<fo:inline vertical-align="super">%%STRING%%</fo:inline>',"@vertical-align/sub":'<fo:inline vertical-align="sub">%%STRING%%</fo:inline>',"@vertical-align/baseline":'<fo:inline vertical-align="baseline">%%STRING%%</fo:inline>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"\u2019":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var r="";if(t.bibliography&&t.bibliography.opt&&t.bibliography.opt.hangingindent){var n=t.bibliography.opt.hangingindent;r=' start-indent="'+n+'em" text-indent="-'+n+'em"'}var i="";return t.sys.embedBibliographyEntry&&(i=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'<fo:block id="'+this.system_id+'"'+r+">"+e+"</fo:block>\n"+i},"@display/block":function(t,e){return"\n  <fo:block>"+e+"</fo:block>\n"},"@display/left-margin":function(t,e){return'\n  <fo:table table-layout="fixed" width="100%">\n    <fo:table-column column-number="1" column-width="$$$__COLUMN_WIDTH_1__$$$"/>\n    <fo:table-column column-number="2" column-width="proportional-column-width(1)"/>\n    <fo:table-body>\n      <fo:table-row>\n        <fo:table-cell>\n          <fo:block>'+e+"</fo:block>\n        </fo:table-cell>\n        "},"@display/right-inline":function(t,e){return"<fo:table-cell>\n          <fo:block>"+e+"</fo:block>\n        </fo:table-cell>\n      </fo:table-row>\n    </fo:table-body>\n  </fo:table>\n"},"@display/indent":function(t,e){return'<fo:block margin-left="2em">'+e+"</fo:block>\n"},"@showid/true":function(t,e,r){if(t.tmp.just_looking||t.tmp.suppress_decorations||!this.params||"string"!=typeof e)return e;var n="";if(e){var i=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);n=i[1],e=i[2]}var s="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(s=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,n,e,s)},"@URL/true":function(t,e){return"<fo:basic-link external-destination=\"url('"+e+"')\">"+e+"</fo:basic-link>"},"@DOI/true":function(t,e){var r=e;return e.match(/^https?:\/\//)||(r="https://doi.org/"+e),"<fo:basic-link external-destination=\"url('"+r+"')\">"+e+"</fo:basic-link>"}},p.Output.Formats=new p.Output.Formats,t.exports=p,p.Registry=function(t){this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new p.Registry.NameReg(t),this.citationreg=new p.Registry.CitationReg(t),this.authorstrings={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new p.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,r=this.reflist.length;e<r;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,r=this.reflist.length;e<r;e+=1)t.push(this.reflist[e]);return t}},p.Registry.prototype.init=function(t,e){if(this.oldseq={},e){this.uncited={};for(var r=0,n=t.length;r<n;r+=1)this.myhash[t[r]]||this.mylist.push(""+t[r]),this.uncited[t[r]]=!0,this.myhash[t[r]]=!0}else{for(var i in this.uncited)t.push(i);var s={};for(r=t.length-1;r>-1;r+=-1)s[t[r]]?t=t.slice(0,r).concat(t.slice(r+1)):s[t[r]]=!0;this.mylist=t,this.myhash=s}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},p.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;e>-1;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},p.Registry.prototype.dodeletes=function(t){var e,r,n,i,s,o;if("string"==typeof t){var a=t;(t={})[a]=!0}for(var a in this.registry)if(!t[a]){if(this.uncited[a])continue;for(s in this.namereg.delitems(a))this.refreshes[s]=!0;for((o=this.ambigcites[e=this.registry[a].ambig].indexOf(a))>-1&&(i=this.ambigcites[e].slice(),this.ambigcites[e]=i.slice(0,o).concat(i.slice(o+1,i.length)),this.ambigresets[e]=this.ambigcites[e].length),n=this.ambigcites[e].length,r=0;r<n;r+=1)this.refreshes[""+this.ambigcites[e][r]]=!0;if(this.registry[a].siblings)if(1==this.registry[a].siblings.length){var l=this.registry[a].siblings[0];this.registry[l].master=!0,this.registry[l].siblings.pop(),this.registry[l].parallel=!1}else if(this.registry[a].siblings.length>1){var u=[a];if(this.registry[a].master){var c=this.registry[a].siblings[0],p=this.registry[c];p.master=!0,p.parallel=!1,u.push(c);for(var h=0,f=this.registry[a].siblings.length;h<f;h+=1)this.registry[this.registry[a].siblings[h]].parallel=c}var d=[];for(h=this.registry[a].siblings.length-1;h>-1;h+=-1){var m=this.registry[a].siblings.pop();-1===u.indexOf(m)&&d.push(m)}for(h=d.length-1;h>-1;h+=-1)this.registry[a].siblings.push(d[h])}for(var g=this.reflist.length-1;g>-1;g--)this.reflist[g].id===a&&(this.reflist=this.reflist.slice(0,g).concat(this.reflist.slice(g+1)));delete this.registry[a],delete this.refhash[a],this.return_data.bibchange=!0}},p.Registry.prototype.doinserts=function(t){var e,r,n,i;"string"==typeof t&&(t=[t]);for(var s=0,o=t.length;s<o;s+=1)this.registry[e=t[s]]||(r=this.state.retrieveItem(e),n=p.getAmbiguousCite.call(this.state,r),this.ambigsTouched[n]=!0,r.legislation_id||(this.akeys[n]=!0),this.registry[e]={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:r,newItem:!0},this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),i=p.getAmbigConfig.call(this.state),this.registerAmbigToken(n,e,i),this.touched[e]=!0,this.return_data.bibchange=!0)},p.Registry.prototype.rebuildlist=function(t){var e,r,n,i;if(t)for(this.reflist=[],e=this.mylist.length,r=0;r<e;r+=1)this.reflist.push(i=this.registry[n=this.mylist[r]]),this.oldseq[n]=this.registry[n].seq,this.registry[n].seq=r+1;else for(this.reflist_inserts=[],e=this.mylist.length,r=0;r<e;r+=1)(i=this.registry[n=this.mylist[r]]).newItem&&this.reflist_inserts.push(i),this.oldseq[n]=this.registry[n].seq,this.registry[n].seq=r+1},p.Registry.prototype.dorefreshes=function(){var t;for(var e in this.refreshes)if(t=this.registry[e]){t.sortkeys=void 0,s=this.state.retrieveItem(e);var r=t.ambig;for(var n in void 0===r&&(this.state.tmp.disambig_settings=!1,r=p.getAmbiguousCite.call(this.state,s),o=p.getAmbigConfig.call(this.state),this.registerAmbigToken(r,e,o)),this.ambigresets)if(1===this.ambigresets[n]){var i=this.ambigcites[r][0],s=this.state.retrieveItem(i);this.registry[i].disambig=new p.AmbigConfig,this.state.tmp.disambig_settings=!1,r=p.getAmbiguousCite.call(this.state,s);var o=p.getAmbigConfig.call(this.state);this.registerAmbigToken(r,i,o)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[r]=!0,s.legislation_id||(this.akeys[r]=!0),this.touched[e]=!0}},p.Registry.prototype.setdisambigs=function(){var t;for(t in this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},p.Registry.prototype.renumber=function(){var t,e,r;for(t=this.reflist.length,e=0;e<t;e+=1)(r=this.reflist[e]).seq=e+1,this.state.opt.update_mode===p.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.state.tmp.taintedItemIDs[r.id]=!0),this.state.opt.bib_mode===p.NUMERIC&&r.seq!=this.oldseq[r.id]&&(this.return_data.bibchange=!0);this.state.opt.citation_number_sort_direction===p.DESCENDING&&this.state.opt.citation_number_sort_used&&this.reflist.reverse()},p.Registry.prototype.setsortkeys=function(){for(var t=0,e=this.mylist.length;t<e;t+=1){var r;(this.touched[r=this.mylist[t]]||this.state.tmp.taintedItemIDs[r]||!this.registry[r].sortkeys)&&(this.registry[r].sortkeys=p.getSortKeys.call(this.state,this.state.retrieveItem(r),"bibliography_sort"))}},p.Registry.prototype._insertItem=function(t,e){return e.splice(this._locationOf(t,e)+1,0,t),e},p.Registry.prototype._locationOf=function(t,e,r,n){if(0===e.length)return-1;var i=(r=r||0)+(n=n||e.length)>>1,s=this.sorter.compareKeys(t,e[i]);if(n-r<=1)return-1==s?i-1:i;switch(s){case-1:return this._locationOf(t,e,r,i);case 0:return i;case 1:return this._locationOf(t,e,i,n)}},p.Registry.prototype.sorttokens=function(t){var e,r,n;if(!t){for(this.reflist_inserts=[],e=this.mylist.length,n=0;n<e;n+=1)(a=this.registry[r=this.mylist[n]]).newItem&&this.reflist_inserts.push(a);for(var i in this.state.tmp.taintedItemIDs)if(this.registry[i]&&!this.registry[i].newItem)for(var s=this.reflist.length-1;s>-1;s--)this.reflist[s].id===i&&(this.reflist_inserts.push(this.reflist[s]),this.reflist=this.reflist.slice(0,s).concat(this.reflist.slice(s+1)));s=0;for(var o=this.reflist_inserts.length;s<o;s++){var a;delete(a=this.reflist_inserts[s]).newItem,this.reflist=this._insertItem(a,this.reflist)}for(n=0;n<e;n+=1)a=this.registry[r=this.mylist[n]],this.registry[r].seq=n+1}},p.Registry.Comparifier=function(t,e){var r,n,i,s,o=p.getSortCompare(t.opt["default-locale-sort"]);r=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(n=t.sortkeys?t.sortkeys.length:0,i=0;i<n;i+=1){var s;if(0<(s=t.sortkeys[i]===e.sortkeys[i]?0:void 0===t.sortkeys[i]?r[i][1]:void 0===e.sortkeys[i]?r[i][0]:o(t.sortkeys[i],e.sortkeys[i])))return r[i][1];if(0>s)return r[i][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},s=this.compareKeys,this.compareCompositeKeys=function(t,e){return s(t[1],e[1])}},p.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},p.Registry.prototype.registerAmbigToken=function(t,e,r){if(this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var n=0,i=r.names.length;n<i;n+=1)if(r.names[n]!==this.registry[e].disambig.names[n])this.state.tmp.taintedItemIDs[e]=!0;else if(r.givens[n])for(var s=0,o=r.givens[n].length;s<o;s+=1)r.givens[n][s]!==this.registry[e].disambig.givens[n][s]&&(this.state.tmp.taintedItemIDs[e]=!0);this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t,this.registry[e].disambig=p.cloneAmbigConfig(r)},p.getSortKeys=function(t,e){var r,n,i,s,o,a;for(r=this.tmp.area,n=this.tmp.root,i=this.tmp.extension,s=p.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=e.indexOf("_")>-1?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,p.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.disambig_override=!1,o=this[e].keys.length,a=0;a<o;a+=1)this[e].keys[a]=s(this[e].keys[a]);return this.tmp.area=r,this.tmp.root=n,this.tmp.extension=i,this[e].keys},t.exports=p,p.Registry.NameReg=function(t){var e,r,n,i,s,o,a,l,u,c,h;this.state=t,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},a=function(t){return t||(t=""),t.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(t,i,s){e=a(s.family);var o=(n=a(s.given)).match(/[,\!]* ([^,]+)$/);o&&o[1]===o[1].toLowerCase()&&(n=n.replace(/[,\!]* [^,]+$/,"")),r=p.Util.Names.initializeWith(t,n,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(e=""+i+e)},u=function(n,o,a,u,c,p){var h;if("bibliography"===t.tmp.area.slice(0,12)&&!c)return"string"==typeof p?1:2;var f=t.nameOutput.getName(o,"locale-translit",!0);l(this.state,""+n,o=f.name),h=2,i=t.opt["disambiguate-add-givenname"];var d=s=t.citation.opt["givenname-disambiguation-rule"];return"by-cite"===s&&(s="all-names"),"short"===c?h=0:"string"==typeof p&&(h=1),void 0===this.namereg[e]||void 0===this.namereg[e].ikey[r]?h:"by-cite"===d&&h<=u?u:i?"string"==typeof s&&"primary-name"===s.slice(0,12)&&a>0?h:(s&&"all-names"!==s&&"primary-name"!==s?"all-names-with-initials"!==s&&"primary-name-with-initials"!==s||(h=this.namereg[e].count>1?1:0):(this.namereg[e].count>1&&(h=1),(this.namereg[e].ikey&&this.namereg[e].ikey[r].count>1||this.namereg[e].count>1&&"string"!=typeof p)&&(h=2)),t.registry.registry[n]?h:"short"==c?0:"string"==typeof p?1:void 0):h},c=function(i){var s,a,l,u,c;for("string"!=typeof i&&"number"!=typeof i||(i=[""+i]),a=i.length,s=0;s<a;s+=1)if(this.nameind[u=""+i[s]]){for(c in this.nameind[u])if(this.nameind[u].hasOwnProperty(c)){var p=c.split("::");if(r=p[1],n=p[2],void 0===this.namereg[e=p[0]])continue;if(o=this.namereg[e].items,n&&this.namereg[e].ikey[r]&&this.namereg[e].ikey[r].skey[n]&&((l=(h=this.namereg[e].ikey[r].skey[n].items).indexOf(""+u))>-1&&(this.namereg[e].ikey[r].skey[n].items=h.slice(0,l).concat(h.slice([l+1]))),0===this.namereg[e].ikey[r].skey[n].items.length&&(delete this.namereg[e].ikey[r].skey[n],this.namereg[e].ikey[r].count+=-1,this.namereg[e].ikey[r].count<2)))for(var f=0,d=this.namereg[e].ikey[r].items.length;f<d;f+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[r].items[f]]=!0;if(r&&this.namereg[e].ikey[r]&&((l=this.namereg[e].ikey[r].items.indexOf(""+u))>-1&&(o=this.namereg[e].ikey[r].items.slice(),this.namereg[e].ikey[r].items=o.slice(0,l).concat(o.slice([l+1]))),0===this.namereg[e].ikey[r].items.length&&(delete this.namereg[e].ikey[r],this.namereg[e].count+=-1,this.namereg[e].count<2)))for(f=0,d=this.namereg[e].items.length;f<d;f+=1)t.tmp.taintedItemIDs[this.namereg[e].items[f]]=!0;e&&((l=this.namereg[e].items.indexOf(""+u))>-1&&(o=this.namereg[e].items.slice(),this.namereg[e].items=o.slice(0,l).concat(o.slice([l+1],o.length))),this.namereg[e].items.length<2&&delete this.namereg[e]),delete this.nameind[u][c]}delete this.nameind[u],delete this.nameindpkeys[u]}return{}},this.addname=function(i,s,o){if(s=t.nameOutput.getName(s,"locale-translit",!0).name,!t.citation.opt["givenname-disambiguation-rule"]||"primary-"!==t.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===o){if(l(this.state,""+i,s),e&&(void 0===this.namereg[e]?(this.namereg[e]={},this.namereg[e].count=0,this.namereg[e].ikey={},this.namereg[e].items=[i]):-1===this.namereg[e].items.indexOf(i)&&this.namereg[e].items.push(i)),e&&r)if(void 0===this.namereg[e].ikey[r]){if(this.namereg[e].ikey[r]={},this.namereg[e].ikey[r].count=0,this.namereg[e].ikey[r].skey={},this.namereg[e].ikey[r].items=[i],this.namereg[e].count+=1,2===this.namereg[e].count)for(var a=0,u=this.namereg[e].items.length;a<u;a+=1)t.tmp.taintedItemIDs[this.namereg[e].items[a]]=!0}else-1===this.namereg[e].ikey[r].items.indexOf(i)&&this.namereg[e].ikey[r].items.push(i);if(e&&r&&n)if(void 0===this.namereg[e].ikey[r].skey[n]){if(this.namereg[e].ikey[r].skey[n]={},this.namereg[e].ikey[r].skey[n].items=[i],this.namereg[e].ikey[r].count+=1,2===this.namereg[e].ikey[r].count)for(a=0,u=this.namereg[e].ikey[r].items.length;a<u;a+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[r].items[a]]=!0}else-1===this.namereg[e].ikey[r].skey[n].items.indexOf(i)&&this.namereg[e].ikey[r].skey[n].items.push(i);void 0===this.nameind[i]&&(this.nameind[i]={},this.nameindpkeys[i]={}),e&&(this.nameind[i][e+"::"+r+"::"+n]=!0,this.nameindpkeys[i][e]=this.namereg[e])}},this.delitems=c,this.evalname=u},t.exports=p,p.Registry.CitationReg=function(t){this.citationById={},this.citationByIndex=[]},t.exports=p,p.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},p.Disambiguation.prototype.run=function(t){this.modes.length&&(this.akey=t,this.initVars(t)&&this.runDisambig())},p.Disambiguation.prototype.runDisambig=function(){var t;for(this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;)this.listpos=0,this.base||(this.base=this.lists[0][0]),t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t);this.lists=this.lists.slice(1)}},p.Disambiguation.prototype.scanItems=function(t){var e;this.Item=t[1][0],this.ItemCite=p.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var r=0,n=1,i=t[1].length;n<i;n+=1){var s=p.getAmbiguousCite.call(this.state,e=t[1][n],this.base,!0);this.ItemCite===s?(r+=1,this.partners.push(e)):this.nonpartners.push(e)}this.clashes[0]=this.clashes[1],this.clashes[1]=r},p.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},p.Disambiguation.prototype.disNames=function(t){if(0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){for(var e=0,r=this.partners.length;e<r;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},p.Disambiguation.prototype.disExtraText=function(){var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){var e=this.lists[this.listpos][0];for(r=0,n=this.lists[this.listpos][1].length;r<n;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][r].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else for(this.modeindex=this.modes.length-1,(e=this.lists[this.listpos][0]).disambiguate=!0,r=0,n=this.lists[this.listpos][1].length;r<n;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][r].id,e)}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var r=0,n=this.lists[this.listpos][1].length;r<n;r+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][r].id]=!0}},p.Disambiguation.prototype.disYears=function(){var t;t=[];var e=this.lists[this.listpos][0];if(this.clashes[1])for(var r=0,n=this.state.registry.mylist.length;r<n;r+=1)for(var i=this.state.registry.mylist[r],s=0,o=this.lists[this.listpos][1].length;s<o;s+=1){var a;if((a=this.lists[this.listpos][1][s]).id==i){t.push(this.registry[a.id]);break}}t.sort(this.state.registry.sorter.compareKeys);for(var l=0,u=t.length;l<u;l+=1){e.year_suffix=""+l;var c=this.state.registry.registry[t[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+t[l].id,e),p.ambigConfigDiff(c,e)&&(this.state.tmp.taintedItemIDs[t[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},p.Disambiguation.prototype.incrementDisambig=function(){if(this.initGivens)return this.initGivens=!1,!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var r=!1;"number"!=typeof this.namesMax&&(r=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(r=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):r=!0):r=!0),"number"==typeof this.namesetsMax&&r&&this.gnameset<this.namesetsMax&&(this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0),"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0)}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},p.Disambiguation.prototype.initVars=function(t){var e,r,n;if(this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},r=[],!(e=this.ambigcites[t])||!e.length)return!1;var i=this.state.retrieveItem(""+e[0]);if(this.getCiteData(i),this.base=p.getAmbigConfig.call(this.state),e&&e.length>1){r.push([this.maxNamesByItemId[i.id],i]);for(var s=1,o=e.length;s<o;s+=1)i=this.state.retrieveItem(""+e[s]),this.getCiteData(i,this.base),r.push([this.maxNamesByItemId[i.id],i]);for(r.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0}),n=[],s=0,o=r.length;s<o;s+=1)n.push(r[s][1]);this.lists.push([this.base,n]),this.Item=this.lists[0][1][0]}else this.Item=this.state.retrieveItem(""+e[0]);return this.modeindex=0,this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},p.Disambiguation.prototype.padBase=function(t){for(var e=0,r=t.names.length;e<r;e+=1){t.givens[e]||(t.givens[e]=[]);for(var n=0,i=t.names[e];n<i;n+=1)t.givens[e][n]||(t.givens[e][n]=0)}},p.Disambiguation.prototype.configModes=function(){this.modes=[],(this.state.opt["disambiguate-add-names"]||this.state.opt["disambiguate-add-givenname"]&&"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"])&&this.modes.push("disNames"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")},p.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){p.getAmbiguousCite.call(this.state,t,e),e=p.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=p.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var r=0,n=this.state.registry.registry[t.id].disambig.givens.length;r<n;r+=1)this.state.registry.registry[t.id].disambig.givens[r]=this.state.tmp.disambig_settings.givens[r].slice();for(this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=p.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e),r=0,n=e.names.length;r<n;r+=1)e.names[r]>this.base.names[r]&&(this.base.givens[r]=e.givens[r].slice(),this.base.names[r]=e.names[r],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var i=0,s=this.base.givens.length;i<s;i+=1)this.betterbase.givens[i]=this.base.givens[i].slice()}},p.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},t.exports=p,p.Engine.prototype.getJurisdictionList=function(t){for(var e=[],r=t.split(":"),n=r.length;n>0;n--)e.push(r.slice(0,n).join(":"));return-1===e.indexOf("us")&&e.push("us"),e},p.Engine.prototype.retrieveAllStyleModules=function(t){for(var e={},r=this.locale[this.opt.lang].opts["jurisdiction-preference"],n=(r=[""].concat(r=r||[])).length-1;n>-1;n--)for(var i=r[n],s=0,o=t.length;s<o;s++){var a=t[s];if(!this.opt.jurisdictions_seen[a]){var l=this.sys.retrieveStyleModule(a,i);(!l&&!i||l)&&(this.opt.jurisdictions_seen[a]=!0),l&&(e[a]=l)}}return e},t.exports=p,p.ParticleList=[["'s",n=[[null,[0,1]]]],["'s-",n],["'t",n],["a",n],["aan 't",i=[[null,[0,2]]]],["aan de",i],["aan den",i],["aan der",i],["aan het",i],["aan t",i],["aan",n],["ad-",o=[[null,[0,1]],[[0,1],null]]],["adh-",o],["af",o],["al",o],["al-",o],["am de",i],["am",n],["an-",o],["ar-",o],["as-",o],["ash-",o],["at-",o],["ath-",o],["auf dem",u=[[[0,2],null],[null,[0,2]]]],["auf den",u],["auf der",u],["auf ter",i],["auf",l=[[[0,1],null],[null,[0,1]]]],["aus 'm",u],["aus dem",u],["aus den",u],["aus der",u],["aus m",u],["aus",l],["aus'm",u],["az-",o],["a\u0161-",o],["a\u1e0d-",o],["a\u1e0f-",o],["a\u1e63-",o],["a\u1e6d-",o],["a\u1e6f-",o],["a\u1e93-",o],["ben",n],["bij 't",i],["bij de",i],["bij den",i],["bij het",i],["bij t",i],["bij",n],["bin",n],["boven d",i],["boven d'",i],["d",n],["d'",o],["da",o],["dal",n],["dal'",n],["dall'",n],["dalla",n],["das",o],["de die le",s=[[null,[0,3]]]],["de die",i],["de l",i],["de l'",i],["de la",c=[[null,[0,2]],[[0,1],[1,2]]]],["de las",c],["de le",i],["de li",a=[[null,[0,2]],[[0,2],null]]],["de van der",s],["de",o],["de'",o],["deca",n],["degli",o],["dei",o],["del",o],["dela",r=[[[0,1],null]]],["dell'",o],["della",o],["delle",o],["dello",o],["den",o],["der",o],["des",o],["di",o],["die le",i],["do",n],["don",n],["dos",o],["du",o],["ed-",o],["edh-",o],["el",o],["el-",o],["en-",o],["er-",o],["es-",o],["esh-",o],["et-",o],["eth-",o],["ez-",o],["e\u0161-",o],["e\u1e0d-",o],["e\u1e0f-",o],["e\u1e63-",o],["e\u1e6d-",o],["e\u1e6f-",o],["e\u1e93-",o],["het",n],["i",n],["il",r],["im",n],["in 't",i],["in de",i],["in den",i],["in der",a],["in het",i],["in t",i],["in",n],["l",n],["l'",n],["la",n],["las",n],["le",n],["les",o],["lo",o],["los",n],["lou",n],["of",n],["onder 't",i],["onder de",i],["onder den",i],["onder het",i],["onder t",i],["onder",n],["op 't",i],["op de",a],["op den",i],["op der",i],["op gen",i],["op het",i],["op t",i],["op ten",i],["op",n],["over 't",i],["over de",i],["over den",i],["over het",i],["over t",i],["over",n],["s",n],["s'",n],["sen",r],["t",n],["te",n],["ten",n],["ter",n],["tho",n],["thoe",n],["thor",n],["to",n],["toe",n],["tot",n],["uijt 't",i],["uijt de",i],["uijt den",i],["uijt te de",s],["uijt ten",i],["uijt",n],["uit 't",i],["uit de",i],["uit den",i],["uit het",i],["uit t",i],["uit te de",s],["uit ten",i],["uit",n],["unter",n],["v",n],["v.",n],["v.d.",n],["van 't",i],["van de l",s],["van de l'",s],["van de",i],["van de",i],["van den",i],["van der",i],["van gen",i],["van het",i],["van la",i],["van t",i],["van ter",i],["van van de",s],["van",o],["vander",n],["vd",n],["ver",n],["vom und zum",[[[0,3],null]]],["vom",o],["von 't",i],["von dem",u],["von den",u],["von der",u],["von t",i],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",u],["von",l],["voor 't",i],["voor de",i],["voor den",i],["voor in 't",s],["voor in t",s],["voor",n],["vor der",u],["vor",l],["z",r],["ze",r],["zu",l],["zum",o],["zur",o]],p.parseParticles=function(){function t(t,e,r){var n=t;t=r?t.toLowerCase():t;var i,s,o=[];e?(t=t.split("").reverse().join(""),i=p.PARTICLE_GIVEN_REGEXP):i=p.PARTICLE_FAMILY_REGEXP;for(var a=t.match(i);a;){var l,u=e?a[1].split("").reverse().join(""):a[1];if(!(s=!!(l=!!(l=!!a&&u)&&u.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&l.toUpperCase()!==l))break;e?(o.push(n.slice(-1*u.length)),n=n.slice(0,-1*u.length)):(o.push(n.slice(0,u.length)),n=n.slice(u.length)),a=(t=a[2]).match(i)}if(e){t=t.split("").reverse().join(""),o.reverse();for(var c=1,h=o.length;c<h;c++)" "==o[c].slice(0,1)&&(o[c-1]+=" ");for(c=0,h=o.length;c<h;c++)" "==o[c].slice(0,1)&&(o[c]=o[c].slice(1));t=n.slice(0,t.length)}else t=n.slice(-1*t.length);return[s,t,o]}return function(e){var r=(o=t(e.family))[2];e.family=o[1];var n,i,s=(i=(n=r.join("")).slice(-1),n=n.trim()," "===i&&["'","\u2019"].indexOf(n.slice(-1))>-1&&(n+=" "),n);s&&(e["non-dropping-particle"]=s),function(t){if(!t.suffix&&t.given){var e=t.given.match(/(\s*,!*\s*)/);if(e){var r=t.given.indexOf(e[1]),n=t.given.slice(r+e[1].length),i=t.given.slice(r,r+e[1].length).replace(/\s*/g,"");"et al"!==n.replace(/\./g,"")||t["dropping-particle"]?(2===i.length&&(t["comma-suffix"]=!0),t.suffix=n):(t["dropping-particle"]=n,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,r)}}}(e);var o,a=(o=t(e.given,!0))[2];e.given=o[1];var l=a.join("").trim();l&&(e["dropping-particle"]=l)}}(),t.exports=p}).call(this,r("YuTi")(t))},YTRW:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={async:!0};Object.defineProperty(e,"async",{enumerable:!0,get:function(){return s.default}});var i,s=(i=r("XO3+"))&&i.__esModule?i:{default:i},o=r("Ec/y");Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(n,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})},YcCt:function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,i){r=r||"=";var s={};if("string"!=typeof t||0===t.length)return s;var o=/\+/g;t=t.split(e=e||"&");var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var l=t.length;a>0&&l>a&&(l=a);for(var u=0;u<l;++u){var c,p,h,f,d=t[u].replace(o,"%20"),m=d.indexOf(r);m>=0?(c=d.substr(0,m),p=d.substr(m+1)):(c=d,p=""),h=decodeURIComponent(c),f=decodeURIComponent(p),n(s,h)?Array.isArray(s[h])?s[h].push(f):s[h]=[s[h],f]:s[h]=f}return s}},YuTi:function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},ZfMN:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.save=e.undo=e.retrieveLastVersion=e.retrieveVersion=e.currentVersion=void 0;var n,i=(n=r("Sd31"))&&n.__esModule?n:{default:n};e.currentVersion=function(){return this.log.length},e.retrieveVersion=function(t=1){if(t<=0||t>this.currentVersion())return null;{const r=(2,function(t){if(Array.isArray(t))return t}(e=this.log[t-1])||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),2!==r.length);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),n=r[1],s=new i.default(JSON.parse(r[0]),JSON.parse(n));return s.log=this.log.slice(0,t),s}var e},e.undo=function(t=1){return this.retrieveVersion(this.currentVersion()-t)},e.retrieveLastVersion=function(){return this.retrieveVersion(this.currentVersion())},e.save=function(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}},"a+t6":function(t,e,r){const n=t.exports={};n.searchEntities=r("ByvF"),n.getEntities=r("oYKw"),n.getManyEntities=r("f40a"),n.sparqlQuery=r("bx0t"),n.getReverseClaims=r("x3I3"),n.getRevisions=r("swCo"),n.getEntitiesFromSitelinks=r("vhBP"),n.getWikidataIdsFromSitelinks=n.getEntitiesFromSitelinks,n.parse=r("3xfh");const i=r("vh4c"),s=r("MIsJ");n.simplify=r("q/xS");const{simplifyEntity:o,simplifyEntities:a}=r("r5ei");n.simplify.entity=o,n.simplify.entities=a,n.simplify.claim=i.simplifyClaim,n.simplify.propertyClaims=i.simplifyPropertyClaims,n.simplify.claims=i.simplifyClaims,n.simplify.qualifier=i.simplifyQualifiers,n.simplify.propertyQualifiers=i.simplifyPropertyQualifiers,n.simplify.qualifiers=i.simplifyQualifier,n.simplify.sitelinks=r("fS82"),n.simplify.sparqlResults=s,n.simplifySparqlResults=r("MIsJ"),Object.assign(n,i),n.getWikidataIdsFromWikipediaTitles=n.getWikidataIdsFromSitelinks;const l=r("8sxh"),u=r("03ZT");Object.assign(n,l,u)},ajLg:function(t,e,r){var n=r("AVU7"),i=r("Y/kM");r("xk5x"),r("BwPL"),r("OVsC"),r("W9pU"),r("1d2S"),r("4GZu");var s=r("WdF2"),o=r("1rwL");const a={getAttributedEntry:(t,e,r)=>t.replace(/^\s*<[a-z]+/i,`$& data-${e}="${r}"`),getPrefixedEntry:(t,e)=>a.getAttributedEntry(t,"csl-entry-id",e),getWrappedEntry(t,e,r){const n=(t,e)=>"function"==typeof e?e(t):null==e?e:"";if(null==r.prepend&&null==r.append)return t;let i=n(e,r.prepend),s=n(e,r.append),o="",a="";const l=t.match(/^([^>]+>)([\s\S]+)(<[^<]+)$/i);return l&&(o=l[1],t=l[2],a=l[3]),o+i+t+s+a}};function l(t,e){if(!(this instanceof l))return new l(t,e);var r=new n.Cite(t,e);this._options=r._options,this.log=r.log,this.data=r.data}l.prototype=Object.create(n.Cite.prototype),l.async=n.Cite.async,l.validateOptions=n.Cite.validateOptions,l.validateOutputOptions=n.Cite.validateOutputOptions,l.input=n.plugins.input.chain,l.inputAsync=n.plugins.input.chainAsync,l.util=Object.assign({attr:a},n.util),l.version={cite:n.version,citeproc:i.PROCESSOR_VERSION};const u=n.plugins.config.get("@csl");l.CSL={engine:r("uEcn").fetchEngine,item:t=>e=>t.find(t=>t.id===e),locale:t=>u.styles.get(u.styles.has(t)?t:"en-US"),style:t=>u.templates.get(u.templates.has(t)?t:"apa"),register:{addTemplate:u.templates.add.bind(u.templates),getTemplate:u.templates.get.bind(u.templates),hasTemplate:u.templates.has.bind(u.templates),addLocale:u.locales.add.bind(u.locales),getLocale:u.locales.get.bind(u.locales),hasLocale:u.locales.has.bind(u.locales)}},delete(l.plugins=function t(e){const r={};for(let n in e)r[n]="object"==typeof e[n]?t(e[n]):e[n];return r}(n.plugins)).input.util.clean,l.parse=Object.assign({input:{chain:n.plugins.input.chain,chainAsync:n.plugins.input.chainAsync,chainLink:n.plugins.input.chainLink,chainLinkAsync:n.plugins.input.chainLinkAsync,data:n.plugins.input.data,dataAsync:n.plugins.input.dataAsync,type:n.plugins.input.type,async:{chain:n.plugins.input.chainAsync,chainLink:n.plugins.input.chainLinkAsync,data:n.plugins.input.dataAsync}},name:s.parse,date:o.parse,csl:n.plugins.input.util.clean,bibjson:r("xk5x").parsers.json.record,bibtex:(t=>({json:t.parsers.json.parse,prop:t.parsers.prop.parse,text:t.parsers.text.parse,type:t.parsers.type.parse}))(r("K5o2")),bibtxt:(t=>({text:t.parse,textEntry:t.textEntry}))(r("hq05")),doi:(t=>({api:t.parsers.api.parse,id:t.parsers.id.parse,async:{api:t.parsers.api.parseAsync}}))(r("W9pU")),json:r("+40p").parsers.json.parse,wikidata:(t=>({json:t.parsers.json.parse,list:t.parsers.list.parse,prop:t.parsers.prop.parse,type:t.parsers.type.parse,async:{json:t.parsers.json.parseAsync,prop:t.parsers.prop.parseAsync}}))(r("4GZu"))},l.plugins.input),l.get=Object.assign({dict:l.plugins.dict,name:s.format,date:o.format,bibtex:{json:r("k+io").default,label:r("bID7").default,text:r("QTOX").default,type:r("1ifz").default},bibtxt:r("i+DV").default,json:r("bG1K").default.data,label:r("bG1K").default.label},l.plugins.output),t.exports=l},arjU:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.dict=e.output=e.input=e.list=e.has=e.remove=e.add=void 0;var n=a(r("9DKP"));e.input=n;var i=a(r("/Ufw"));e.output=i;var s=a(r("ItG7"));e.dict=s;var o=a(r("dSg6"));function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}e.config=o;const l={input:n,output:i,dict:s,config:o},u={};e.add=((t,e={})=>{let r=u[t]={};"config"in e&&(l.config.add(t,e.config),delete e.config);for(let n in e){let t=r[n]={},i=e[n];for(let e in i){let r=i[e];t[e]=!0,l[n].add(e,r)}}}),e.remove=(t=>{let e=u[t];for(let r in e){let t=e[r];for(let e in t)l[r].remove(e)}delete u[t]}),e.has=(t=>t in u),e.list=(()=>Object.keys(u))},b8mw:function(t){t.exports={_from:"@citation-js/core@^0.4.0-rc.1",_id:"@citation-js/core@0.4.0-rc.1",_inBundle:!1,_integrity:"sha512-RGLkEZRmaC91RuE8gV8c+4GKu4gXQr6M5iiEeajOg1NtYMsmDr3nsFHF4IkDKSzM1Zqb93k2HinH6efFG6wjdA==",_location:"/@citation-js/core",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"@citation-js/core@^0.4.0-rc.1",name:"@citation-js/core",escapedName:"@citation-js%2fcore",scope:"@citation-js",rawSpec:"^0.4.0-rc.1",saveSpec:null,fetchSpec:"^0.4.0-rc.1"},_requiredBy:["/citation-js","/citation-js/@citation-js/cli"],_resolved:"https://registry.npmjs.org/@citation-js/core/-/core-0.4.0-rc.1.tgz",_shasum:"4052ccadfb234110d65e72c94bde2b86a8be4c5e",_spec:"@citation-js/core@^0.4.0-rc.1",_where:"/home/ali/Desktop/ang-test/personal-page/node_modules/citation-js",author:{name:"Lars Willighagen",email:"lars.willighagen@gmail.com"},bugs:{url:"https://github.com/citation-js/citation-js/issues"},bundleDependencies:!1,dependencies:{"@citation-js/date":"^0.4.1","@citation-js/name":"^0.4.1","isomorphic-fetch":"^2.2.1","sync-request":"^5.0.0"},deprecated:!1,description:"Convert different bibliographic metadata sources",devDependencies:{"@babel/plugin-proposal-class-properties":"^7.0.0","@babel/plugin-proposal-object-rest-spread":"^7.0.0"},directories:{lib:"src",test:"__tests__"},engines:{node:">=6.0.0"},files:["lib"],gitHead:"09ff47215f95d87cbf58062ca19912dcd8d2eb77",homepage:"https://citation.js.org/",keywords:["citation-js","citation","bibliography"],license:"MIT",main:"lib/index.js",name:"@citation-js/core",repository:{type:"git",url:"https://github.com/citation-js/citation-js/tree/master/packages/core"},scripts:{test:"TEST_MOCHA=true mocha -c -R dot test/*.spec.js"},version:"0.4.0-rc.1"}},bG1K:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(r("xje6")),i=s(r("tLvN"));function s(t){return t&&t.__esModule?t:{default:t}}var o=Object.assign({},n.default,i.default);e.default=o},bID7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=function(t={}){if(t["citation-label"])return t["citation-label"];let e="";return t.author&&(e+=t.author[0].family||t.author[0].literal),t.issued&&t.issued["date-parts"]&&t.issued["date-parts"][0]&&(e+=t.issued["date-parts"][0][0]),t["year-suffix"]?e+=t["year-suffix"]:t.title&&(e+=t.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),e}},bZMm:function(t,e,r){"use strict";r.r(e),r.d(e,"Headers",function(){return u}),r.d(e,"Request",function(){return g}),r.d(e,"Response",function(){return v}),r.d(e,"DOMException",function(){return _}),r.d(e,"fetch",function(){return x});var n={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(n.arrayBuffer)var i=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(t){return t&&i.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function a(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function h(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||s(t))?this._bodyArrayBuffer=f(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,r,n=c(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,r=p(e=new FileReader),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=o(t),e=a(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},u.prototype.delete=function(t){delete this.map[o(t)]},u.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},u.prototype.set=function(t,e){this.map[o(t)]=a(e)},u.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),l(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),l(t)},n.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){var r,n,i=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),m.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function b(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},d.call(g.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];v.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var _=self.DOMException;try{new _}catch(w){(_=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function x(t,e){return new Promise(function(r,i){var s=new g(t,e);if(s.signal&&s.signal.aborted)return i(new _("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var t,e,n={status:o.status,statusText:o.statusText,headers:(t=o.getAllResponseHeaders()||"",e=new u,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}}),e)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL"),r(new v("response"in o?o.response:o.responseText,n))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.onabort=function(){i(new _("Aborted","AbortError"))},o.open(s.method,s.url,!0),"include"===s.credentials?o.withCredentials=!0:"omit"===s.credentials&&(o.withCredentials=!1),"responseType"in o&&n.blob&&(o.responseType="blob"),s.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),s.signal&&(s.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&s.signal.removeEventListener("abort",a)}),o.send(void 0===s._bodyInit?null:s._bodyInit)})}x.polyfill=!0,self.fetch||(self.fetch=x,self.Headers=u,self.Request=g,self.Response=v)},bx0t:function(t,e,r){const{fixedEncodeURIComponent:n}=r("mEn+");t.exports=function(t){return`https://query.wikidata.org/sparql?format=json&query=${n(t)}`}},cVc7:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=class{constructor(t={}){this.data=t}set(t,e){return this.data[t]=e,this}add(...t){return this.set(...t)}delete(t){return delete this.data[t],this}remove(...t){return this.delete(...t)}get(t){return this.data[t]}has(t){return this.data.hasOwnProperty(t)}list(){return Object.keys(this.data)}}},crnd:function(t,e){function r(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id="crnd"},dSg6:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.remove=e.get=e.add=void 0;const n={};e.add=((t,e)=>{n[t]=e}),e.get=(t=>n[t]),e.remove=(t=>{delete n[t]})},dkrB:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listDataParser=e.removeDataParser=e.hasDataParser=e.addDataParser=e.dataAsync=e.data=void 0;var n=r("lE7m");function i(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}function s(t){return function(){var e=this,r=arguments;return new Promise(function(n,s){var o=t.apply(e,r);function a(t){i(o,n,s,a,l,"next",t)}function l(t){i(o,n,s,a,l,"throw",t)}a(void 0)})}}const o=t=>[].concat(...t),a={},l={},u={"@csl/object":t=>[t],"@csl/list+object":t=>t,"@else/list+object":t=>o(t.map(n.chain)),"@invalid":()=>[]},c={"@else/list+object":(p=s(function*(t){return o(yield Promise.all(t.map(n.chainAsync)))}),function(t){return p.apply(this,arguments)})};var p;const h=(t,e)=>a.hasOwnProperty(e)?a[e](t):u.hasOwnProperty(e)?u[e](t):(logger.error("[set]",`No synchronous parser found for ${e}`),null);e.data=h;const f=(d=s(function*(t,e){return l.hasOwnProperty(e)?l[e](t):c.hasOwnProperty(e)?c[e](t):m(e,!1)?h(t,e):(logger.error("[set]",`No parser found for ${e}`),null)}),function(t,e){return d.apply(this,arguments)});var d;e.dataAsync=f,e.addDataParser=((t,{parser:e,async:r})=>{r?l[t]=e:a[t]=e});const m=(t,e)=>e?l[t]||c[t]:a[t]||u[t];e.hasDataParser=m,e.removeDataParser=((t,e)=>{delete(e?l:a)[t]}),e.listDataParser=(t=>Object.keys(t?l:a))},e14C:function(t,e,r){"use strict";e.__esModule=!0;var n=r("Qyje");e.default=function(t,e){var r=t.split("?"),i=r[0],s=r[1],o=(s||"").split("#")[0],a=s&&s.split("#").length>1?"#"+s.split("#")[1]:"",l=n.parse(o);for(var u in e)l[u]=e[u];return""!==(o=n.stringify(l))&&(o="?"+o),i+o+a}},eG0U:function(t,e,r){const n="undefined"!=typeof location&&"undefined"!=typeof document,i=r(n?"Jydk":"r8II");t.exports=function(t){return n&&(t.origin="*"),"https://www.wikidata.org/w/api.php?"+i.stringify(t)}},"f+iP":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAsync=e.parse=void 0;var n,i=(n=r("5m7S"))&&n.__esModule?n:{default:n},s=r("AVU7");function o(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}function a(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function a(t){o(s,n,i,a,l,"next",t)}function l(t){o(s,n,i,a,l,"throw",t)}a(void 0)})}}const l={Accept:"application/vnd.citationstyles.csl+json"},u=(c=a(function*(t){const e=yield s.util.fetchFileAsync(t,{headers:l});return"[]"===e?{}:JSON.parse(e)}),function(t){return c.apply(this,arguments)});var c;const p=(h=a(function*(t){return(yield Promise.all([].concat(t).map(u))).map(i.default)}),function(t){return h.apply(this,arguments)});var h;e.parseAsync=p;const f=function(t){const e=s.util.fetchFile(t,{headers:l});return"[]"===e?{}:JSON.parse(e)};e.parse=(t=>[].concat(t).map(f).map(i.default))},f40a:function(t,e,r){const n=r("oYKw"),{isPlainObject:i}=r("mEn+");t.exports=function(t,e,r,o){if(i(t)&&({ids:t,languages:e,props:r,format:o}=t),!(t instanceof Array))throw new Error("getManyEntities expects an array of ids");return s(t).map(t=>n(t,e,r,o))};const s=function(t){const e=[];for(;t.length>0;){let r=t.slice(0,50);t=t.slice(50),e.push(r)}return e}},fS82:function(t,e,r){const{getSitelinkUrl:n}=r("03ZT");t.exports=((t,e={})=>{const{addUrl:r}=e;return Object.keys(t).reduce(i(t,r),{})});const i=(t,e)=>(r,i)=>{const{title:s}=t[i];return r[i]=e?{title:s,url:n(i,s)}:s,r}},fkpl:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e={}){const r=e.template,n=e.lang,a=e.format,l=e.nosort,u=void 0!==l&&l,c=(0,i.default)(t,void 0===r?"apa":r,void 0===n?"en-US":n,void 0===a?"text":a),p=c.updateItems(t.map(t=>t.id),u);if(e.append||e.prepend){let r=e.append,n=e.prepend,i=t.reduce((t,e)=>(t[e.id]=e,t),{});c.sys.wrapBibliographyEntry=function(t){let e=i[t];return[o(e,n),o(e,r)]}}else c.sys.wrapBibliographyEntry=(()=>["",""]);const h=function(t){if(Array.isArray(t))return t}(m=c.makeBibliography())||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),2!==r.length);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}(),f=h[0],d=f.bibend;var m;return f.bibstart+h[1].map((t,e)=>(0,s.getPrefixedEntry)(t,p[e])).join("")+d};var n,i=(n=r("uEcn"))&&n.__esModule?n:{default:n},s=r("XwHh");const o=(t,e)=>"function"==typeof e?e(t):e||""},hq05:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.textEntry=e.text=e.parse=void 0;const i=/\n\s*(?=\[)/g,s=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,o=/((?=.)\s)*\n\s*/g,a=/:(.*)/,l=t=>{const e=n(t.match(s)||[],3),r=e[1],i=e[2];if(r&&i){const t={type:"book",label:r,properties:{}};return i.trim().split(o).filter(t=>t).forEach(e=>{let r=n(e.split(a),2),i=r[0],s=r[1];s&&(i=i.trim(),s=s.trim(),"type"===i?t.type=s:t.properties[i]=s)}),t}return{}};e.textEntry=l,e.text=e.parse=(t=>t.trim().split(i).map(l))},"i+DV":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getBibtxt=void 0;var n,i=(n=r("k+io"))&&n.__esModule?n:{default:n},s=r("AVU7");const o=function(t,e){const r=t.map(t=>{const r=(0,i.default)(t);r.properties.type=r.type;const n=Object.entries(r.properties).map(([t,r])=>e.listItem.join(`${t}: ${r}`)).join("");return e.entry.join(`[${r.label}]${e.list.join(n)}`)}).join("\n");return e.bibliographyContainer.join(r)};e.getBibtxt=o,e.default=function(t,e){const r=s.plugins.dict.get(e?"html":"text");return o(t,r)}},jiT0:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var n,i=r("AVU7"),s=(n=r("Cg9Q"))&&n.__esModule?n:{default:n};const o=/\\url|\\href|{\\[a-zA-Z]+}|\$\\[a-zA-Z]+\$|\$[_^]{[0-9()+=\-n]}\$|`{2,3}|'{2,3}|-{2,3}|[!?]!|!\?|{\\~}|\\[#$%&~_^\\{}]|{\\(?:[a-z] |[`"'^~=.])\\?[a-zA-Z]}|[\s\S]/g,a=/^\s$/,l=/^[@{}"=,\\]$/,u={'"':'"',"{":"}","":""};e.default=e.parse=function(t){const e=[],r=function(t){return(t=t.replace(/(\\[`"'^~=.]){\\?([A-Za-z])}/g,"{$1$2}").replace(/(\\[a-z]) ?{\\?([A-Za-z])}/g,"{$1 $2}")).match(o)}(t),n=new i.util.TokenStack(r);try{for(n.consumeWhitespace();n.tokensLeft();){n.consumeToken("@",{spaced:!1}),n.consumeWhitespace();const t=n.consume([a,l],{inverse:!0}).toLowerCase();n.consumeToken("{");const r=n.consume([a,l],{inverse:!0});n.consumeToken(",");const i={};for(;n.tokensLeft();){const t=n.consume([a,"="],{inverse:!0}).toLowerCase();n.consumeToken("=");const e=n.consume(/^({|"|)$/g),r=u[e];if(!u.hasOwnProperty(e))throw new SyntaxError(`Unexpected field delimiter at index ${n.index}. Expected `+`${Object.keys(u).map(t=>`"${t}"`).join(", ")}; got "${e}"`);let o=0;const c=n.consume((t,e)=>{if("{"===t&&o++,n.tokensLeft()<r.length)throw new SyntaxError(`Unmatched delimiter at index ${n.index}: Expected ${r}`);return r.length?"}"===t&&o--||!n.matchesSequence(r):![a,l].some(e=>e.test(t))},{tokenMap:t=>{if(s.default.hasOwnProperty(t))return s.default[t];if(t.match(/^\\[#$%&~_^\\{}]$/))return t.slice(1);if(t.length>1)throw new SyntaxError(`Escape sequence not recognized: ${t}`);return t}});if(i[t]=c,n.consumeN(r.length),n.consumeWhitespace(),n.matches("}"))break;if(n.consumeToken(",",{spaced:!1}),n.consumeWhitespace(),n.matches("}"))break}n.consumeToken("}",{spaced:!1}),n.consumeWhitespace(),n.matches(",")&&(n.consumeToken(","),n.consumeWhitespace()),e.push({type:t,label:r,properties:i})}}catch(c){logger.error(`Uncaught SyntaxError: ${c.message}. Returning completed entries.`),e.pop()}return e}},"k+io":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(r("1ifz")),i=a(r("bID7")),s=r("WdF2"),o=r("1rwL");function a(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){const e={label:(0,i.default)(t),type:(0,n.default)(t.type)},r={},a={"collection-title":"series","container-title":"chapter"===t.type?"booktitle":"journal",edition:"edition",event:"organization",DOI:"doi",ISBN:"isbn",ISSN:"issn",issue:"number",language:"language",note:"note","number-of-pages":"numpages",PMID:"pmid",PMCID:"pmcid",publisher:"publisher","publisher-place":"address",title:"title",URL:"url",volume:"volume"};for(let n in a)t.hasOwnProperty(n)&&(r[a[n]]=t[n]+"");if(t.author&&(r.author=t.author.map(t=>(0,s.format)(t,!0)).join(" and ")),t.editor&&(r.editor=t.editor.map(t=>(0,s.format)(t,!0)).join(" and ")),!t.note&&t.accessed&&(r.note=`[Online; accessed ${(0,o.format)(t.accessed)}]`),t.page&&(r.pages=t.page.replace("-","--")),t.issued){let e=t.issued["date-parts"][0];e.length>0&&(r.date=(0,o.format)(t.issued),r.year=e[0].toString()),e.length>1&&(r.month=e[1].toString()),e.length>2&&(r.day=e[2].toString())}return e.properties=r,e}},lE7m:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chainLinkAsync=e.chainAsync=e.chainLink=e.chain=void 0;var n,i=(n=r("uAKY"))&&n.__esModule?n:{default:n},s=r("LGX6"),o=r("dkrB"),a=r("R8VN");function l(t,e,r,n,i,s,o){try{var a=t[s](o),l=a.value}catch(u){return void r(u)}a.done?e(l):Promise.resolve(l).then(n,i)}function u(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var s=t.apply(e,r);function o(t){l(s,n,i,o,a,"next",t)}function a(t){l(s,n,i,o,a,"throw",t)}o(void 0)})}}e.chain=((t,e={})=>{let r=e.maxChainLength,n=void 0===r?10:r,l=e.generateGraph,u=void 0===l||l,c=e.forceType||(0,s.type)(t),p=c.match(/object$/)?(0,i.default)(t):t;const h=[{type:c,data:t}];for(;"@csl/list+object"!==c;){if(n--<=0)return logger.error("[set]","Max. number of parsing iterations reached"),[];p=(0,o.data)(p,c),c=(0,s.type)(p),h.push({type:c})}return p.map(u?t=>(0,a.applyGraph)(t,h):a.removeGraph)}),e.chainLink=(t=>{const e=(0,s.type)(t),r=e.match(/array|object/)?(0,i.default)(t):t;return(0,o.data)(r,e)});const c=(p=u(function*(t,e={}){let r=e.maxChainLength,n=void 0===r?10:r,l=e.generateGraph,u=void 0===l||l,c=e.forceType||(0,s.type)(t),p=c.match(/array|object/)?(0,i.default)(t):t;const h=[{type:c,data:t}];for(;"@csl/list+object"!==c;){if(n--<=0)return logger.error("[set]","Max. number of parsing iterations reached"),[];p=yield(0,o.dataAsync)(p,c),c=(0,s.type)(p),h.push({type:c})}return p.map(u?t=>(0,a.applyGraph)(t,h):a.removeGraph)}),function(t){return p.apply(this,arguments)});var p;e.chainAsync=c;const h=(f=u(function*(t){const e=(0,s.type)(t);let r=e.match(/array|object/)?(0,i.default)(t):t;return(0,o.dataAsync)(r,e)}),function(t){return f.apply(this,arguments)});var f;e.chainLinkAsync=h},lnPA:function(t,e,r){"use strict";let n;Object.defineProperty(e,"__esModule",{value:!0}),e.logger=void 0,e.logger=n,e.logger=n="true"===process.env.TEST_MOCHA?{error(){},warn(){},info(){}}:"function"==typeof console.Console?new console.Console(process.stderr):console,global.logger=n},"mEn+":function(t,e){t.exports={shortLang:t=>t.toLowerCase().split(/[^a-z]/)[0],forceArray:function(t){return"string"==typeof t&&(t=[t]),t||[]},isPlainObject:function(t){return!(!t||"object"!=typeof t||t instanceof Array)},fixedEncodeURIComponent:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,r)},replaceSpaceByUnderscores:t=>t.replace(/\s/g,"_"),uniq:t=>Array.from(new Set(t))};const r=t=>"%"+t.charCodeAt(0).toString(16)},nLyD:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;const n=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];e.default=e.parse=function(t){try{return JSON.parse(t)}catch(e){logger.info("[set]","Input was not valid JSON, switching to experimental parser for invalid JSON");try{return n.forEach(([e,r])=>{t=t.replace(e,r)}),JSON.parse(t)}catch(e){return void logger.error("[set]","Experimental parser failed. Please improve the JSON. If this is not JSON, please re-read the supported formats.")}}}},nW65:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n,i=r("AVU7"),s=(n=r("k+io"))&&n.__esModule?n:{default:n},o=r("QTOX"),a=r("i+DV");const l=function(t){return function(e,{type:r,format:n=r||"text"}={}){return"object"===n?e.map(s.default):i.plugins.dict.has(n)?t(e,i.plugins.dict.get(n)):""}};var u={bibtex:l(o.getBibtex),bibtxt:l(a.getBibtxt)};e.default=u},nmq7:function(t,e,r){"use strict";var n=r("0jNN"),i=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(t,e,r){if(t){var n=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),a=o?n.slice(0,o.index):n,l=[];if(a){if(!r.plainObjects&&i.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var u=0;null!==(o=s.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+n.slice(o.index)+"]"),function(t,e,r){for(var n=e,i=t.length-1;i>=0;--i){var s,o=t[i];if("[]"===o)s=(s=[]).concat(n);else{s=r.plainObjects?Object.create(null):{};var a="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(a,10);!isNaN(l)&&o!==a&&String(l)===a&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[])[l]=n:s[a]=n}n=s}return n}(l,e,r)}};t.exports=function(t,e){var r=e?n.assign({},e):{};if(null!=r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:s.delimiter,r.depth="number"==typeof r.depth?r.depth:s.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:s.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:s.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:s.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:s.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:s.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:s.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:s.strictNullHandling,""===t||null==t)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof t?function(t,e){for(var r={},n=(e.ignoreQueryPrefix?t.replace(/^\?/,""):t).split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=0;o<n.length;++o){var a,l,u=n[o],c=u.indexOf("]="),p=-1===c?u.indexOf("="):c+1;-1===p?(a=e.decoder(u,s.decoder),l=e.strictNullHandling?null:""):(a=e.decoder(u.slice(0,p),s.decoder),l=e.decoder(u.slice(p+1),s.decoder)),r[a]=i.call(r,a)?[].concat(r[a]).concat(l):l}return r}(t,r):t,l=r.plainObjects?Object.create(null):{},u=Object.keys(a),c=0;c<u.length;++c){var p=u[c],h=o(p,a[p],r);l=n.merge(l,h,r)}return n.compact(l)}},oYKw:function(t,e,r){const n=r("eG0U"),{isPlainObject:i,forceArray:s,shortLang:o}=r("mEn+");t.exports=function(t,e,r,a){if(i(t)&&({ids:t,languages:e,props:r,format:a}=t),a=a||"json",!(t&&t.length>0))throw new Error("no id provided");(t=s(t)).length>50&&console.warn("getEntities accepts 50 ids max to match Wikidata API limitations:\n      this request won't get all the desired entities.\n      You can use getManyEntities instead to generate several request urls\n      to work around this limitation");const l={action:"wbgetentities",ids:t.join("|"),format:a};return e&&(e=s(e).map(o),l.languages=e.join("|")),r&&r.length>0&&(l.props=s(r).join("|")),n(l)}},"q/xS":function(t,e){const r=t=>e=>Object.keys(e).reduce(n(e,t),{}),n=(t,e)=>(r,n)=>{const s=t[n];return r[n]=e?s.map(i):s.value,r},i=t=>t.value,s=r(!1);t.exports={labels:s,descriptions:s,aliases:r(!0)}},r5ei:function(t,e,r){const{simplifyClaims:n}=r("vh4c"),i=r("q/xS"),s=r("fS82"),o=(t,e)=>{const r={id:t.id,type:t.type,modified:t.modified};return a(t,r,"labels"),a(t,r,"descriptions"),a(t,r,"aliases"),null!=t.claims&&(r.claims=n(t.claims,e)),null!=t.sitelinks&&(r.sitelinks=s(t.sitelinks,e)),r},a=(t,e,r)=>{null!=t[r]&&(e[r]=i[r](t[r]))};t.exports={simplifyEntity:o,simplifyEntities:(t,e={})=>{const{entityPrefix:r}=e;return Object.keys(t).reduce((n,i)=>{const s=t[i];return r&&(i=`${r}:${i}`),n[i]=o(s,e),n},{})}}},r8II:function(t,e,r){"use strict";e.decode=e.parse=r("YcCt"),e.encode=e.stringify=r("6MUB")},s9Hj:function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=e.types=e.scope=void 0;const i=t=>t.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1"),s=t=>`(?:${t.join("|")})\\b`,o=(t,e)=>new RegExp(`(?:^| )(${t}$)`,e),a=s(["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"].map(i)),l=s(["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"].map(i)),u=s(["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"]),c=new RegExp(`^((?:${a} )*)(.*)$`,"i"),p=o(`(?:${l}, )*(?:${l})`,"i"),h=o(`${/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source}.*`),f=o(`(?:${/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source}.*|${u}.*|\\S*)`);e.default=e.parse=function(t=""){"string"!=typeof t&&(t+="");let e="",r="",i="";if(/[^.], /.test(t)){const n=t.split(", ");i=n.shift();const s=RegExp(l).exec(n.join(", "));e=n.splice(s&&0!==s.index?0:-1,1)[0],r=n.join(", ")}else{const n=t.split(p,2),s=n.shift().split(f,2);e=s[0],i=s[1],r=n.pop()}const s=n(e.match(c),3),o=s[1],a=s[2],u=r,d=n(i.split(h,2).reverse(),2),m=d[0],g=d[1];if(!a&&m)return m.includes(" ")?{literal:m}:{family:m};if(m){const t={"dropping-particle":o,given:a,suffix:u,"non-dropping-particle":g,family:m};return Object.keys(t).forEach(e=>{t[e]||delete t[e]}),t}return{literal:t}},e.scope="@name",e.types="@name"},swCo:function(t,e,r){const n=r("eG0U"),{forceArray:i}=r("mEn+");t.exports=function(t,e={}){const r=1===(t=i(t)).length,o={action:"query",prop:"revisions"};return o.titles=t.join("|"),o.format=e.format||"json",r&&(o.rvlimit=e.limit||"max"),r&&e.start&&(o.rvstart=s(e.start)),r&&e.end&&(o.rvend=s(e.end)),n(o)};const s=function(t){return"number"==typeof t&&t<o?t:Math.trunc(new Date(t).getTime()/1e3)},o=new Date("2000-01-01").getTime()},sxOR:function(t,e,r){"use strict";var n=String.prototype.replace,i=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return n.call(t,i,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},t8xy:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.record=e.quickscrapeRecord=void 0;var n=r("1rwL"),i=r("WdF2");function s(t){let e=t.firstName,r=void 0===e?t.firstname:e,n=t.lastName,s=void 0===n?t.lastname:n;return r&&s?{given:r,family:s}:t.name?(0,i.parse)(t.name):void 0}let o=["PMID","PMCID","DOI","ISBN"],a=["ISSN"];function l(t,e){let r={};for(let u in t){let n=u.toUpperCase();e.includes(n)&&(r[n]=t[u])}if(t.identifier){var n=!0,i=!1,s=void 0;try{for(var o,a=t.identifier[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){let t=o.value,n=t.id,i=t.type,s=void 0===i?"":i;s=s.toUpperCase(),e.includes(s)&&(r[s]=n)}}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}}return r}let u={article:"article",book:"book",booklet:"book",proceedings:"book",mastersthesis:"thesis",inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript",manual:void 0,misc:void 0};function c(t){let e={type:u[t.type]||"book"};if(t.title&&(e.title=t.title),t.author&&(e.author=t.author.map(s).filter(Boolean)),t.editor&&(e.editor=t.editor.map(s).filter(Boolean)),t.reviewer&&(t.author&&(e["reviewed-author"]=e.author),e.author=t.reviewer.map(s).filter(Boolean)),Array.isArray(t.keywords)?e.keyword=t.keywords.join():t.keywords&&(e.keyword=t.keywords),t.publisher&&(e.publisher=t.publisher.name||t.publisher),t.date&&Object.keys(t.date).length>0){let r=t.date;r.submitted&&(e.submitted=(0,n.parse)(r.submitted)),r.published&&(e.issued=(0,n.parse)(r.published))}else t.year&&(e.issued={"date-parts":[[+t.year]]});if(t.journal){let r=t.journal;r.name&&(e["container-title"]=r.name),r.volume&&(e.volume=+r.volume),r.issue&&(e.issue=+r.issue),Object.assign(e,l(r,a)),r.firstpage&&(e["page-first"]=r.firstpage),r.pages?e.page=r.pages.replace("--","-"):r.firstpage&&r.lastpage&&(e.page=r.firstpage+"-"+r.lastpage)}return t.link&&"object"==typeof t.link[0]&&(e.URL=t.link[0].url),Object.assign(e,l(t,o)),t.cid?e.id=t.cid:e.DOI&&(e.id=e.DOI),e}e.quickscrapeRecord=function(t){return Object.assign(c(t),{type:"article-journal"})},e.record=function(t){return c(t)}},tLvN:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getLabel=void 0;const n=t=>{if("citation-label"in t)return t["citation-label"];let e="";return t.author&&(e+=t.author[0].family||t.author[0].literal),t.issued&&t.issued["date-parts"]&&t.issued["date-parts"][0]&&(e+=t.issued["date-parts"][0][0]),t["year-suffix"]?e+=t["year-suffix"]:t.title&&(e+=t.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),e};e.getLabel=n,e.default={label:t=>t.reduce((t,e)=>(t[e.id]=n(e),t),{})}},twId:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;const n={"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"};e.default=e.parse=(t=>n[t]||t)},uAKY:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default=(t=>JSON.parse(JSON.stringify(t)))},uEcn:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchEngine=e.default=void 0;var n,i=(n=r("Y/kM"))&&n.__esModule?n:{default:n},s=r("S3Kk"),o=r("K8JQ");const a=t=>(function(e,r){if(e.sys.wrapBibliographyEntry){let t=(2,function(t){if(Array.isArray(t))return t}(n=e.sys.wrapBibliographyEntry(this.system_id))||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),2!==r.length);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}());r=[t[0],r,t[1]].join("")}var n;return t(e,r)});for(let c in i.default.Output.Formats)i.default.Output.Formats[c]["@bibliography/entry"]=a(i.default.Output.Formats[c]["@bibliography/entry"]);const l={},u=function(t,e,r,n,s){const o=`${t}|${e}`;let a;return l.hasOwnProperty(o)?(a=l[o]).sys.retrieveItem=n:a=l[o]=new i.default.Engine({retrieveLocale:s,retrieveItem:n},r,e,!0),a};e.fetchEngine=u,e.default=function(t,e,r,n){const i=t.reduce((t,e)=>(t[e.id]=e,t),{}),a=s.templates.get(s.templates.has(e)?e:"apa");r=o.locales.has(r)?r:"en-US";const l=u(e,r,a,t=>i[t],o.locales.get.bind(o.locales));return l.setOutputFormat(n),l}},uKmi:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=r("WdF2"),i=r("1rwL");const s={graphic:"ART",bill:"BILL","post-webblog":"BLOG",book:"BOOK","review-book":"BOOK",legal_case:"CASE",chapter:"CHAP","paper-conference":"CONF",dataset:"DATA","entry-dictionary":"DICT","entry-encyclopedia":"ENCYC",figure:"FIGURE",interview:"GEN",treaty:"GEN",post:"ICOMM",article:"JOUR","article-journal":"JOUR",review:"JOUR",legislation:"LEGAL",manuscript:"MANSCPT",map:"MAP","article-magazine":"MGZN",broadcast:"MPCT",motion_picture:"MPCT",musical_score:"MUSIC","article-newspaper":"NEWS",pamphlet:"PAMP",patent:"PAT",personal_communication:"PCOMM",report:"RPRT",song:"SOUND",speech:"SOUND",thesis:"THES"},o=t=>t.map(t=>(0,n.format)(t,!0)),a={TY:{fieldName:"type",convert:t=>s[t]||"GEN"},AU:[{type:["review","review-book"],fieldName:"reviewed-author",convert:o},{type:"__default",fieldName:"author",convert:o}],DA:{fieldName:"issued",convert:t=>(0,i.format)(t,"/")},PY:{fieldName:"issued",convert:t=>t["date-parts"][0][0]+""},Y2:{fieldName:"accessed",convert:t=>(0,i.format)(t,"/")},AB:"abstract",CN:"call-number",CY:["event-place","publisher-place"],DO:"DOI",ET:[{type:"book",fieldName:["version","edition"]}],IS:[{type:"__default",fieldName:"issue"}],J2:["journalAbbreviation"],LA:"language",LB:"citation-label",M1:"number",M3:["genre","medium"],N1:"note",RI:"reviewed-title",SE:"section",SN:[{type:"__default",fieldName:["ISBN","ISSN"]},{type:["patent","report"],fieldName:"number"}],SP:{fieldName:["first-page","page"]},T2:["container-title","collection-title"],T3:{fieldName:["container-title","collection-title"],keepAll:!0,convert:(t,e)=>t?e:void 0},TI:["original-title","title"],TT:{fieldName:["original-title","title"],keepAll:!0,convert:(t,e)=>t?e:void 0},UR:"URL",VL:"volume",A2:{fieldName:"editor",convert:o},C1:[{type:"chapter",fieldName:"section"},{type:"paper-conference",fieldName:"publisher-place"},{type:"map",fieldName:"scale"},{type:"musical_score",fieldName:"medium"}],C2:[{type:["article-journal","article"],fieldName:"PMCID"},{type:"paper-conference",fieldName:"issued",convert:t=>t["date-parts"][0][0]},{type:"article-newspaper",fieldName:"issue"}],C3:[{type:["graphic","speech","sound","map"],fieldName:"dimensions"},{type:"paper-conference",fieldName:"container-title"}],C4:[{type:["review","review-book"],fieldName:"author",convert:o},{type:["motion_picture","broadcast"],fieldName:"genre"}],C5:[{type:["graphic","speech","sound","motion_picture","broadcast"],fieldName:"medium"}],C6:[{type:"report",fieldName:"issue"},{type:"patent",fieldName:"status"}],C7:[{type:["article-journal","article"],fieldName:"number"}],BT:[{type:"chapter",fieldName:"container-title"}],DB:"archive",DP:"source",ED:{fieldName:"editor",convert:o},ID:"id",NV:"number-of-volumes",OP:"references",PP:"publiser-place",ST:["short-title","titleShort"]},l=function t(e,r,n){if("string"==typeof e)return{sourceFields:[e]};if(Array.isArray(e)&&"string"==typeof e[0])return{sourceFields:e};if(Array.isArray(e)&&"object"==typeof e[0]){let i,s;e.forEach(t=>{"string"==typeof t.type&&t.type===n.type||Array.isArray(t.type)&&t.type.includes(n.type)?i=t:"__default"===t.type&&(s=t)});const o=i||s;return o?t(o.convert?o:o.fieldName,r,n):{}}return"object"==typeof e&&null!==e?{sourceFields:[].concat(e.fieldName),workOnEmptyInput:void 0===e.fieldName,convert:e.convert,keepAll:!0===e.keepAll}:void 0},u=function(t){const e={};for(const r in a){let n=l(a[r],r,t),i=n.sourceFields,s=void 0===i?[]:i,o=n.workOnEmptyInput,u=void 0!==o&&o,c=n.convert,p=void 0!==c&&c,h=n.keepAll;if(void 0!==h&&h||(s=s.filter(t.hasOwnProperty.bind(t))),!u&&0===s.length)continue;let f=s.map(e=>t[e]);"function"==typeof p?void 0!==(f=p.call(t,...f))&&(e[r]=f):e[r]=f[0]}return e},c=(t,e="")=>`${t}  - ${e}\n`,p=([t,e])=>Array.isArray(e)?e.map(e=>c(t,e)).join(""):c(t,e),h=function(t){const e=Object.entries(t);if("TY"!==e[0][0]){const t=e.findIndex(([t])=>"TY"===t),n=(1,function(t){if(Array.isArray(t))return t}(r=e.splice(t,1))||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),1!==r.length);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}());e.unshift(n[0])}var r;return e.push(["ER"]),e.map(p).join("")};e.default={ris:(t,{type:e,format:r=e||"text"}={})=>"object"===r?t.map(u):t.map(u).map(h).join("")}},vh4c:function(t,e,r){const{parse:n}=r("VPZO"),{uniq:i}=r("mEn+"),s=function(t,...e){const{propertyPrefix:r}=p(e),n={};for(let i in t){let s=t[i];r&&(i=r+":"+i),n[i]=o(s,...e)}return n},o=function(t,...e){if(null==t||0===t.length)return[];const{keepNonTruthy:r,areSubSnaks:n}=p(e);return r||n||(t=l(t)),(t=t.map(t=>c(t,...e)).filter(u))[0]&&"object"!=typeof t[0]?i(t):t},a=function(t,e){const{rank:r}=e;return t[r]||(t[r]=[]),t[r].push(e),t},l=function(t){const e=t.reduce(a,{});return e.preferred||e.normal||[]},u=t=>void 0!==t,c=function(t,...e){e=p(e);const{keepQualifiers:r,keepReferences:i,keepIds:o,keepHashes:a,keepTypes:l}=e,{mainsnak:u}=t;var c,f,d,m;if(u){if(c=u.datatype,!(f=u.datavalue))return"somevalue"===u.snaktype?e.somevalueValue:e.novalueValue}else f=t.datavalue,c=t.datatype,t.hash?d=!0:m=!0;const g=n(c,f,e,t.id);if(d){if(!a&&!l)return g;const e={value:g};return a&&(e.hash=t.hash),l&&(e.type=c),e}if(m)return l?{type:c,value:g}:g;if(!(r||i||o||l))return g;const b={value:g};l&&(b.type=c);const v=h(e);return v.keepHashes=a,r&&(b.qualifiers=s(t.qualifiers,v)),i&&(t.references=t.references||[],b.references=t.references.map(t=>{const e=s(t.snaks,v);return a?{snaks:e,hash:t.hash}:e})),o&&(b.id=t.id),b},p=function(t){if(null==t)return{};if(t[0]&&"object"==typeof t[0])return t[0];var[e,r,n]=t;return{entityPrefix:e,propertyPrefix:r,keepQualifiers:n}},h=t=>Object.assign({},t,{areSubSnaks:!0});t.exports={simplifyClaims:s,simplifyPropertyClaims:o,simplifyClaim:c,truthyClaims:function(t){const e={};return Object.keys(t).forEach(r=>{e[r]=l(t[r])}),e},truthyPropertyClaims:l,simplifyQualifiers:(t,e)=>s(t,h(e)),simplifyPropertyQualifiers:(t,e)=>o(t,h(e)),simplifyQualifier:c}},vhBP:function(t,e,r){const n=r("eG0U"),{isPlainObject:i,forceArray:s,shortLang:o}=r("mEn+");t.exports=function(t,e,r,l,u){if(i(t)){const n=t;t=n.titles,e=n.sites,r=n.languages,l=n.props,u=n.format}if(u=u||"json",!(t&&t.length>0))throw new Error("no title provided");e&&e.length>0||(e=["enwiki"]),t=s(t),e=s(e).map(a),l=s(l);const c={action:"wbgetentities",titles:t.join("|"),sites:e.join("|"),format:u};return 1===e.length&&1===t.length&&(c.normalize=!0),r&&(r=s(r).map(o),c.languages=r.join("|")),l&&l.length>0&&(c.props=l.join("|")),n(c)};const a=t=>2===t.length?`${t}wiki`:t},x3I3:function(t,e,r){const n=r("8sxh"),i=r("bx0t");function s(t){return n.isItemId(t)?t=`wd:${t}`:"string"==typeof t&&(t=`'${t}'`),t}function o(t,e,r,n){return`?subject ${t} ${e} .\n    ${r}`}function a(t,e,r,n){return`?subject ${t} ?value .\n    FILTER (lcase(?value) = ${e.toLowerCase()})\n    ${r}`}t.exports=function(t,e,r={}){var{limit:n,caseInsensitive:u,keepProperties:c}=r;const p=c?"":"FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ";var h=`SELECT DISTINCT ?subject WHERE { ${function(t,e,r,n){return t instanceof Array?"{ "+t.map(s).map(t=>e(r,t,n)).join("} UNION {")+" }":e(r,s(t),n)}(e,u?a:o,t=t instanceof Array?t.map(l).join("|"):l(t),p)} }`;return n&&(h+=` LIMIT ${n}`),i(h)};const l=t=>"wdt:"+t},"xL/w":function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var n=s(r("8ZD+")),i=s(r("Gg+u"));function s(t){return t&&t.__esModule?t:{default:t}}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,s=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(l){i=!0,s=l}finally{try{n||null==a.return||a.return()}finally{if(i)throw s}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.default=e.parse=function(t){return[].concat(t).map(t=>{const e={};let r=[];for(let i in t.properties){const s=o((0,n.default)(i,t.properties[i])||[],2),a=s[0],l=s[1];a&&(/^[^:\s]+?:[^.\s]+(\.[^.\s]+)*$/.test(a)?r.push([a,l]):e[a]=l)}return e.type=(0,i.default)(t.type),e.id=e["citation-label"]=t.label,/\d(\D+)$/.test(t.label)&&(e["year-suffix"]=t.label.match(/\d(\D+)$/)[1]),r.forEach(([t,r])=>{const n=t.split(/:|\./g);let i=e;for(;n.length>0;){const t=n.shift();i=i[t]||(i[t]=n.length?isNaN(+n[0])?{}:[]:r)}}),e})}},xjYm:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0,e.parse=(t=>t.value||t.textContent)},xje6:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getJsonWrapper=void 0;var n=s(r("arjU")),i=s(r("LgWe"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}const o=(t,e,r)=>t+(e<r.length-1?",":""),a=function(t,e){const r=Array.isArray(t);let n;return n=(n=r?t.map(t=>l(t,e)):Object.entries(t).map(([t,r])=>`"${t}": ${l(r,e)}`)).map(o).map(t=>e.listItem.join(t)),n=e.list.join(n.join("")),r?`[${n}]`:`{${n}}`},l=function(t,e){return"object"==typeof t&&null!==t?0===t.length?"[]":0===Object.keys(t).length?"{}":a(t,e):JSON.stringify(t)+""},u=function(t,e){let r=t.map(t=>a(t,e));return r=(r=r.map(o).map(t=>e.entry.join(t))).join(""),e.bibliographyContainer.join(`[${r}]`)};e.getJsonWrapper=function(t){return u(t,n.dict.get("html"))},e.default={data:(t,{type:e,format:r=e||"text"}={})=>"object"===r?i.deepCopy(t):"text"===r?JSON.stringify(t,null,2):(logger.warn("[get]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),n.dict.has(r)?u(t,n.dict.get(r)):"")}},xk5x:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};n.get||n.set?Object.defineProperty(e,r,n):e[r]=t[r]}return e.default=t,e}(r("t8xy")),i=r("AVU7");let s=["fulltext_html","fulltext_xml","fulltext_pdf"];e.ref="@bibjson",e.parsers={json:n};const o={"@bibjson/quickscrape+record+object":{parse:n.quickscrapeRecord,parseType:{propertyConstraint:{props:"link",value:t=>s.some(e=>t.find(({type:t})=>t===e))},extends:"@bibjson/record+object"}},"@bibjson/record+object":{parse:n.record,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"title"},{props:["author","editor"],match:"some",value:t=>Array.isArray(t)&&t[0]&&"name"in t[0]}]}},"@bibjson/collection+object":{parse:t=>t.records,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"metadata",value:t=>"collection"in t},{props:"records",value:t=>Array.isArray(t)}]}}};e.formats=o,i.plugins.add("@bibjson",{input:o})},zUnb:function(t,e,r){"use strict";r.r(e);var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return(s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function u(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(a){i={error:a}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}var p=Array.isArray||function(t){return t&&"number"==typeof t.length};function h(t){return null!=t&&"object"==typeof t}function f(t){return"function"==typeof t}var d,m={e:{}};function g(){try{return d.apply(this,arguments)}catch(t){return m.e=t,m}}function b(t){return d=t,g}function v(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}v.prototype=Object.create(Error.prototype);var y=v,_=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,n=this._parents,i=this._unsubscribe,s=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var o=-1,a=n?n.length:0;r;)r.remove(this),r=++o<a&&n[o]||null;if(f(i)&&b(i).call(this)===m&&(e=!0,t=t||(m.e instanceof y?x(m.e.errors):[m.e])),p(s))for(o=-1,a=s.length;++o<a;){var l=s[o];if(h(l)&&b(l.unsubscribe).call(l)===m){e=!0,t=t||[];var u=m.e;u instanceof y?t=t.concat(x(u.errors)):t.push(u)}}if(e)throw new y(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function x(t){return t.reduce(function(t,e){return t.concat(e instanceof y?e.errors:e)},[])}var w=!1,E={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){w=t},get useDeprecatedSynchronousErrorHandling(){return w}};function A(t){setTimeout(function(){throw t})}var S={closed:!0,next:function(t){},error:function(t){if(E.useDeprecatedSynchronousErrorHandling)throw t;A(t)},complete:function(){}},O="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),C=function(t){function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,s._parentSubscription=null,arguments.length){case 0:s.destination=S;break;case 1:if(!r){s.destination=S;break}if("object"==typeof r){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new T(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new T(s,r,n,i)}return s}return i(e,t),e.prototype[O]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(_),T=function(t){function e(e,r,n,i){var s,o=t.call(this)||this;o._parentSubscriber=e;var a=o;return f(r)?s=r:r&&(s=r.next,n=r.error,i=r.complete,r!==S&&(f((a=Object.create(r)).unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(o))),o._context=a,o._next=s,o._error=n,o._complete=i,o}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;E.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=E.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):A(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;A(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};E.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(r){if(this.unsubscribe(),E.useDeprecatedSynchronousErrorHandling)throw r;A(r)}},e.prototype.__tryOrSetError=function(t,e,r){if(!E.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(n){return E.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(A(n),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(C),k="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(){}function N(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P(t)}function P(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:I}var D=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=function(t,e,r){if(t){if(t instanceof C)return t;if(t[O])return t[O]()}return t||e||r?new C(t,e,r):new C(S)}(t,e,r);if(n?n.call(i,this.source):i.add(this.source||E.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),E.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){E.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof C?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=R(e))(function(e,n){var i;i=r.subscribe(function(e){try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[k]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:P(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=R(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function R(t){if(t||(t=E.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}j.prototype=Object.create(Error.prototype);var M=j,L=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(_),F=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return i(e,t),e}(C),U=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[O]=function(){return new F(this)},e.prototype.lift=function(t){var e=new B(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new M;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new M;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new M;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new M;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new M;return this.hasError?(t.error(this.thrownError),_.EMPTY):this.isStopped?(t.complete(),_.EMPTY):(this.observers.push(t),new L(this,t))},e.prototype.asObservable=function(){var t=new D;return t.source=this,t},e.create=function(t,e){return new B(t,e)},e}(D),B=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):_.EMPTY},e}(U);function z(t){return t&&"function"==typeof t.schedule}var V=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(C),$=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.closed||e.complete()}},q=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,A),e}};function H(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var G=H(),X=function(t){return function(e){for(var r=t[G]();;){var n=r.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add(function(){r.return&&r.return()}),e}},Q=function(t){return function(e){var r=t[k]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},W=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function K(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Z=function(t){if(t instanceof D)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[k])return Q(t);if(W(t))return $(t);if(K(t))return q(t);if(t&&"function"==typeof t[G])return X(t);var e=h(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function J(t,e,r,n,i){if(void 0===i&&(i=new V(t,r,n)),!i.closed)return Z(e)(i)}var Y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(C);function tt(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new et(t,e))}}var et=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new rt(t,this.project,this.thisArg))},t}(),rt=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(C);function nt(t,e){return new D(e?function(r){var n=new _,i=0;return n.add(e.schedule(function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()})),n}:$(t))}function it(t,e){if(!e)return t instanceof D?t:new D(Z(t));if(null!=t){if(function(t){return t&&"function"==typeof t[k]}(t))return function(t,e){return new D(e?function(r){var n=new _;return n.add(e.schedule(function(){var i=t[k]();n.add(i.subscribe({next:function(t){n.add(e.schedule(function(){return r.next(t)}))},error:function(t){n.add(e.schedule(function(){return r.error(t)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n}:Q(t))}(t,e);if(K(t))return function(t,e){return new D(e?function(r){var n=new _;return n.add(e.schedule(function(){return t.then(function(t){n.add(e.schedule(function(){r.next(t),n.add(e.schedule(function(){return r.complete()}))}))},function(t){n.add(e.schedule(function(){return r.error(t)}))})})),n}:q(t))}(t,e);if(W(t))return nt(t,e);if(function(t){return t&&"function"==typeof t[G]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new D(e?function(r){var n,i=new _;return i.add(function(){n&&"function"==typeof n.return&&n.return()}),i.add(e.schedule(function(){n=t[G](),i.add(e.schedule(function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(s){return void r.error(s)}e?r.complete():(r.next(t),this.schedule())}}))})),i}:X(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function st(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(st(function(r,n){return it(t(r,n)).pipe(tt(function(t,i){return e(r,t,n,i)}))},r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new ot(t,r))})}var ot=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.project,this.concurrent))},t}(),at=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=new V(this,void 0,void 0);this.destination.add(n),J(this,t,e,r,n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Y);function lt(t){return t}function ut(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),st(lt,t)}function ct(){return function(t){return t.lift(new pt(t))}}var pt=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new ht(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),ht=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(C),ft=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new _).add(this.source.subscribe(new mt(this.getSubject(),this))),t.closed?(this._connection=null,t=_.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return ct()(this)},e}(D).prototype,dt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ft._subscribe},_isComplete:{value:ft._isComplete,writable:!0},getSubject:{value:ft.getSubject},connect:{value:ft.connect},refCount:{value:ft.refCount}},mt=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(F);function gt(){return new U}function bt(t){for(var e in t)if(t[e]===bt)return e;throw Error("Could not find renamed property on target object.")}function vt(t,e){for(var r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}var yt=bt({ngInjectableDef:bt}),_t=bt({ngBaseDef:bt});function xt(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wt(t){return t&&t.hasOwnProperty(yt)?t[yt]:null}var Et=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?xt({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),At="__parameters__",St="__prop__metadata__";function Ot(t){return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t){var n=t.apply(void 0,c(e));for(var i in n)this[i]=n[i]}}}function Ct(t,e,r){var n=Ot(e);function i(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this instanceof i)return n.apply(this,e),this;var s=new((t=i).bind.apply(t,c([void 0],e)));return o.annotation=s,o;function o(t,e,r){for(var n=t.hasOwnProperty(At)?t[At]:Object.defineProperty(t,At,{value:[]})[At];n.length<=r;)n.push(null);return(n[r]=n[r]||[]).push(s),t}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function Tt(t,e,r,n){var i=Ot(e);function s(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(this instanceof s)return i.apply(this,e),this;var o=new((t=s).bind.apply(t,c([void 0],e)));return function(t,r){var i=t.constructor,s=i.hasOwnProperty(St)?i[St]:Object.defineProperty(i,St,{value:{}})[St];s[r]=s.hasOwnProperty(r)&&s[r]||[],s[r].unshift(o),n&&n.apply(void 0,c([t,r],e))}}return r&&(s.prototype=Object.create(r.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}var kt=new Et("AnalyzeForEntryComponents"),It="undefined"!=typeof window&&window,Nt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pt="undefined"!=typeof global&&global||It||Nt,Dt=Promise.resolve(0),Rt=null;function jt(){if(!Rt){var t=Pt.Symbol;if(t&&t.iterator)Rt=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),r=0;r<e.length;++r){var n=e[r];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rt=n)}}return Rt}function Mt(t){"undefined"==typeof Zone?Dt.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Lt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Ft(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Ft).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var r=e.indexOf("\n");return-1===r?e:e.substring(0,r)}var Ut=bt({__forward_ref__:bt});function Bt(t){return t.__forward_ref__=Bt,t.toString=function(){return Ft(this())},t}function zt(t){var e=t;return"function"==typeof e&&e.hasOwnProperty(Ut)&&e.__forward_ref__===Bt?e():t}var Vt,$t=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),qt=Ct("Inject",function(t){return{token:t}}),Ht=Ct("Optional"),Gt=Ct("Self"),Xt=Ct("SkipSelf"),Qt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({}),Wt=void 0;function Kt(t){var e=Wt;return Wt=t,e}function Zt(t,e){return void 0===e&&(e=Qt.Default),(Vt||function(t,e){if(void 0===e&&(e=Qt.Default),void 0===Wt)throw new Error("inject() must be called from an injection context");return null===Wt?function(t,e,r){var n=wt(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(r&Qt.Optional)return null;throw new Error("Injector: NOT_FOUND ["+Ft(t)+"]")}(t,0,e):Wt.get(t,e&Qt.Optional?null:void 0,e)})(t,e)}var Jt=/([A-Z])/g;function Yt(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function te(t,e){var r=ne(t),n=ne(e);return r&&n?function(t,e,r){for(var n=t[jt()](),i=e[jt()]();;){var s=n.next(),o=i.next();if(s.done&&o.done)return!0;if(s.done||o.done)return!1;if(!r(s.value,o.value))return!1}}(t,e,te):!(r||!t||"object"!=typeof t&&"function"!=typeof t||n||!e||"object"!=typeof e&&"function"!=typeof e)||Lt(t,e)}var ee=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),re=function(){function t(t,e,r){this.previousValue=t,this.currentValue=e,this.firstChange=r}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function ne(t){return!!ie(t)&&(Array.isArray(t)||!(t instanceof Map)&&jt()in t)}function ie(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function se(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var oe="__source",ae=new Object,le=new Et("INJECTOR"),ue=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=ae),e===ae)throw new Error("NullInjectorError: No provider for "+Ft(t)+"!");return e},t}(),ce=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new _e(t,e):new _e(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=ae,t.NULL=new ue,t.ngInjectableDef=xt({providedIn:"any",factory:function(){return Zt(le)}}),t.__NG_ELEMENT_ID__=function(){return pe()},t}(),pe=se,he=function(t){return t},fe=[],de=he,me=function(){return Array.prototype.slice.call(arguments)},ge=bt({provide:String,useValue:bt}),be=ce.NULL,ve=/\n/gm,ye="\u0275",_e=function(){function t(t,e,r){void 0===e&&(e=be),void 0===r&&(r=null),this.parent=e,this.source=r;var n=this._records=new Map;n.set(ce,{token:ce,fn:he,deps:fe,value:this,useNew:!1}),n.set(le,{token:le,fn:he,deps:fe,value:this,useNew:!1}),function t(e,r){if(r)if((r=zt(r))instanceof Array)for(var n=0;n<r.length;n++)t(e,r[n]);else{if("function"==typeof r)throw Ee("Function/Class not supported",r);if(!r||"object"!=typeof r||!r.provide)throw Ee("Unexpected provider",r);var i=zt(r.provide),s=function(t){var e=function(t){var e=fe,r=t.deps;if(r&&r.length){e=[];for(var n=0;n<r.length;n++){var i=6;if((l=zt(r[n]))instanceof Array)for(var s=0,o=l;s<o.length;s++){var a=o[s];a instanceof Ht||a==Ht?i|=1:a instanceof Xt||a==Xt?i&=-3:a instanceof Gt||a==Gt?i&=-5:l=a instanceof qt?a.token:zt(a)}e.push({token:l,options:i})}}else if(t.useExisting){var l;e=[{token:l=zt(t.useExisting),options:6}]}else if(!(r||ge in t))throw Ee("'deps' required",t);return e}(t),r=he,n=fe,i=!1,s=zt(t.provide);if(ge in t)n=t.useValue;else if(t.useFactory)r=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,r=zt(t.useClass);else{if("function"!=typeof s)throw Ee("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,r=s}return{deps:e,fn:r,useNew:i,value:n}}(r);if(!0===r.multi){var o=e.get(i);if(o){if(o.fn!==me)throw xe(i)}else e.set(i,o={token:r.provide,deps:[],useNew:!1,fn:me,value:fe});o.deps.push({token:i=r,options:6})}var a=e.get(i);if(a&&a.fn==me)throw xe(i);e.set(i,s)}}(n,t)}return t.prototype.get=function(t,e,r){void 0===r&&(r=Qt.Default);var n=this._records.get(t);try{return function t(e,r,n,i,s,o){try{return function(e,r,n,i,s,o){var a,l;if(!r||o&Qt.SkipSelf)o&Qt.Self||(l=i.get(e,s,Qt.Default));else{if((l=r.value)==de)throw Error(ye+"Circular dependency");if(l===fe){r.value=de;var u=r.useNew,p=r.fn,h=r.deps,f=fe;if(h.length){f=[];for(var d=0;d<h.length;d++){var m=h[d],g=m.options,b=2&g?n.get(m.token):void 0;f.push(t(m.token,b,n,b||4&g?i:be,1&g?null:ce.THROW_IF_NOT_FOUND,Qt.Default))}}r.value=l=u?new((a=p).bind.apply(a,c([void 0],f))):p.apply(void 0,f)}}return l}(e,r,n,i,s,o)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),r&&r.value==de&&(r.value=fe),a}}(t,n,this._records,this.parent,e,r)}catch(s){var i=s.ngTempTokenPath;throw t[oe]&&i.unshift(t[oe]),s.message=we("\n"+s.message,i,this.source),s.ngTokenPath=i,s.ngTempTokenPath=null,s}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,r){return t.push(Ft(r))}),"StaticInjector["+t.join(", ")+"]"},t}();function xe(t){return Ee("Cannot mix multi providers and regular providers",t)}function we(t,e,r){void 0===r&&(r=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==ye?t.substr(2):t;var n=Ft(e);if(e instanceof Array)n=e.map(Ft).join(" -> ");else if("object"==typeof e){var i=[];for(var s in e)if(e.hasOwnProperty(s)){var o=e[s];i.push(s+":"+("string"==typeof o?JSON.stringify(o):Ft(o)))}n="{"+i.join(", ")+"}"}return"StaticInjectorError"+(r?"("+r+")":"")+"["+n+"]: "+t.replace(ve,"\n  ")}function Ee(t,e){return new Error(we(t,e))}var Ae=new Et("The presence of this token marks an injector as being the root injector."),Se=function(){return function(){}}(),Oe=function(){return function(){}}();function Ce(t){var e=Error("No component factory found for "+Ft(t)+". Did you add it to @NgModule.entryComponents?");return e[Te]=t,e}var Te="ngComponent",ke=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Ce(t)},t}(),Ie=function(){function t(){}return t.NULL=new ke,t}(),Ne=function(){function t(t,e,r){this._parent=e,this._ngModule=r,this._factories=new Map;for(var n=0;n<t.length;n++){var i=t[n];this._factories.set(i.componentType,i)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Ce(t);return new Pe(e,this._ngModule)},t}(),Pe=function(t){function e(e,r){var n=t.call(this)||this;return n.factory=e,n.ngModule=r,n.selector=e.selector,n.componentType=e.componentType,n.ngContentSelectors=e.ngContentSelectors,n.inputs=e.inputs,n.outputs=e.outputs,n}return i(e,t),e.prototype.create=function(t,e,r,n){return this.factory.create(t,e,r,n||this.ngModule)},e}(Oe),De=function(){return function(){}}(),Re=function(){return function(){}}(),je=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return Me(t)},t}(),Me=se,Le=function(){return function(){}}(),Fe=function(){return function(){}}(),Ue=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),Be=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ze()},t}(),ze=se,Ve=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),$e=function(){return function(){}}(),qe=new(function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}())("7.2.3"),He=!0,Ge=!1;function Xe(){return Ge=!0,He}var Qe=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(n){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var r=e.response.body;return r.removeChild(r.firstChild),r},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(r){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,r=e.length-1;0<r;r--){var n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}for(var i=t.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling},t}(),We=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Ke=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ze(t){return(t=String(t)).match(We)||t.match(Ke)?t:(Xe()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Je(t){var e,r,n={};try{for(var i=l(t.split(",")),s=i.next();!s.done;s=i.next())n[s.value]=!0}catch(o){e={error:o}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}return n}function Ye(){for(var t,e,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i={};try{for(var s=l(r),o=s.next();!o.done;o=s.next()){var a=o.value;for(var u in a)a.hasOwnProperty(u)&&(i[u]=!0)}}catch(c){t={error:c}}finally{try{o&&!o.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return i}var tr,er=Je("area,br,col,hr,img,wbr"),rr=Je("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),nr=Je("rp,rt"),ir=Ye(nr,rr),sr=Ye(er,Ye(rr,Je("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ye(nr,Je("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),or=Je("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Je("srcset"),lr=Ye(or,ar,Je("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),ur=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild,r=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?r=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,r&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e,r=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(r))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(r);for(var n=t.attributes,i=0;i<n.length;i++){var s=n.item(i),o=s.name,a=o.toLowerCase();if(lr.hasOwnProperty(a)){var l=s.value;or[a]&&(l=Ze(l)),ar[a]&&(e=l,l=(e=String(e)).split(",").map(function(t){return Ze(t.trim())}).join(", ")),this.buf.push(" ",o,'="',hr(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(hr(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),cr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function hr(t){return t.replace(/&/g,"&amp;").replace(cr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var dr=function(t){function e(e){void 0===e&&(e=!1);var r=t.call(this)||this;return r.__isAsync=e,r}return i(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,r,n){var i,s=function(t){return null},o=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(s=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(o=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},r&&(s=this.__isAsync?function(t){setTimeout(function(){return r(t)})}:function(t){r(t)}),n&&(o=this.__isAsync?function(){setTimeout(function(){return n()})}:function(){n()}));var a=t.prototype.subscribe.call(this,i,s,o);return e instanceof _&&e.add(a),a},e}(U),mr=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return gr(t,je)},t}(),gr=se,br=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),vr=/^url\(([^)]+)\)$/,yr=function(){return function(){}}();Function;var _r=Tt("Input",function(t){return{bindingPropertyName:t}},void 0,function(t){return function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=t.constructor;i.hasOwnProperty(_t)||function(t){var e=t.constructor,r=e.ngBaseDef,n=e.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};r&&(vt(n.inputs,r.inputs),vt(n.outputs,r.outputs),vt(n.declaredInputs,r.declaredInputs))}(t),(function(t){return t.inputs||{}}(i.ngBaseDef))[e]=r[0]}}()),xr=Tt("HostBinding",function(t){return{hostPropertyName:t}});String,String;var wr="ngDebugContext",Er="ngOriginalError",Ar="ngErrorLogger";function Sr(t){return t[wr]}function Or(t){return t[Er]}function Cr(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];t.error.apply(t,c(e))}var Tr=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),r=this._findContext(t),n=function(t){return t[Ar]||Cr}(t);n(this._console,"ERROR",t),e&&n(this._console,"ORIGINAL ERROR",e),r&&n(this._console,"ERROR CONTEXT",r)},t.prototype._findContext=function(t){return t?Sr(t)?Sr(t):this._findContext(Or(t)):null},t.prototype._findOriginalError=function(t){for(var e=Or(t);e&&Or(e);)e=Or(e);return e},t}();function kr(t){return!!t&&"function"==typeof t.then}function Ir(t){return!!t&&"function"==typeof t.subscribe}var Nr=new Et("Application Initializer"),Pr=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,r){e.resolve=t,e.reject=r})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],r=function(){t.done=!0,t.resolve()};if(this.appInits)for(var n=0;n<this.appInits.length;n++){var i=this.appInits[n]();kr(i)&&e.push(i)}Promise.all(e).then(function(){r()}).catch(function(e){t.reject(e)}),0===e.length&&r(),this.initialized=!0}},t}(),Dr=new Et("AppId");function Rr(){return""+jr()+jr()+jr()}function jr(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Mr=new Et("Platform Initializer"),Lr=new Et("Platform ID"),Fr=new Et("appBootstrapListener"),Ur=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function Br(){throw new Error("Runtime compiler is not loaded")}var zr,Vr,$r=Br,qr=Br,Hr=Br,Gr=Br,Xr=function(){function t(){this.compileModuleSync=$r,this.compileModuleAsync=qr,this.compileModuleAndAllComponentsSync=Hr,this.compileModuleAndAllComponentsAsync=Gr}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Qr=function(){return function(){}}();function Wr(){var t=Pt.wtf;return!(!t||!(zr=t.trace)||(Vr=zr.events,0))}var Kr=Wr();function Zr(t,e){return null}var Jr=Kr?function(t,e){return void 0===e&&(e=null),Vr.createScope(t,e)}:function(t,e){return Zr},Yr=Kr?function(t,e){return zr.leaveScope(t,e),e}:function(t,e){return e},tn=function(){function t(t){var e,r=t.enableLongStackTrace,n=void 0!==r&&r;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dr(!1),this.onMicrotaskEmpty=new dr(!1),this.onStable=new dr(!1),this.onError=new dr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,r,n,i,s,o){try{return sn(e),t.invokeTask(n,i,s,o)}finally{on(e)}},onInvoke:function(t,r,n,i,s,o,a){try{return sn(e),t.invoke(n,i,s,o,a)}finally{on(e)}},onHasTask:function(t,r,n,i){t.hasTask(n,i),r===n&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,nn(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,r,n,i){return t.handleError(n,i),e.runOutsideAngular(function(){return e.onError.emit(i)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,r){return this._inner.run(t,e,r)},t.prototype.runTask=function(t,e,r,n){var i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+n,t,rn,en,en);try{return i.runTask(s,e,r)}finally{i.cancelTask(s)}},t.prototype.runGuarded=function(t,e,r){return this._inner.runGuarded(t,e,r)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function en(){}var rn={};function nn(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function sn(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function on(t){t._nesting--,nn(t)}var an,ln=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new dr,this.onMicrotaskEmpty=new dr,this.onStable=new dr,this.onError=new dr}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),un=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){tn.assertNotInAngularZone(),Mt(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Mt(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,r){var n=this,i=-1;e&&e>0&&(i=setTimeout(function(){n._callbacks=n._callbacks.filter(function(t){return t.timeoutId!==i}),t(n._didWork,n.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:r})},t.prototype.whenStable=function(t,e,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,r),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,r){return[]},t}(),cn=function(){function t(){this._applications=new Map,pn.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),pn.findTestabilityInTree(this,t,e)},o([a("design:paramtypes",[])],t)}(),pn=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,r){return null},t}()),hn=new Et("AllowMultipleToken"),fn=function(){return function(t,e){this.name=t,this.token=e}}();function dn(t,e,r){void 0===r&&(r=[]);var n="Platform: "+e,i=new Et(n);return function(e){void 0===e&&(e=[]);var s=mn();if(!s||s.injector.get(hn,!1))if(t)t(r.concat(e).concat({provide:i,useValue:!0}));else{var o=r.concat(e).concat({provide:i,useValue:!0});!function(t){if(an&&!an.destroyed&&!an.injector.get(hn,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");an=t.get(gn);var e=t.get(Mr,null);e&&e.forEach(function(t){return t()})}(ce.create({providers:o,name:n}))}return function(t){var e=mn();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function mn(){return an&&!an.destroyed?an:null}var gn=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var r,n=this,i="noop"===(r=e?e.ngZone:void 0)?new ln:("zone.js"===r?void 0:r)||new tn({enableLongStackTrace:Xe()}),s=[{provide:tn,useValue:i}];return i.run(function(){var e=ce.create({providers:s,parent:n.injector,name:t.moduleType.name}),r=t.create(e),o=r.injector.get(Tr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(function(){return yn(n._modules,r)}),i.runOutsideAngular(function(){return i.onError.subscribe({next:function(t){o.handleError(t)}})}),function(t,e,i){try{var s=((o=r.injector.get(Pr)).runInitializers(),o.donePromise.then(function(){return n._moduleDoBootstrap(r),r}));return kr(s)?s.catch(function(r){throw e.runOutsideAngular(function(){return t.handleError(r)}),r}):s}catch(a){throw e.runOutsideAngular(function(){return t.handleError(a)}),a}var o}(o,i)})},t.prototype.bootstrapModule=function(t,e){var r=this;void 0===e&&(e=[]);var n=bn({},e);return function(t,e,r){return t.get(Qr).createCompiler([e]).compileModuleAsync(r)}(this.injector,n,t).then(function(t){return r.bootstrapModuleFactory(t,n)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(vn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+Ft(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function bn(t,e){return Array.isArray(e)?e.reduce(bn,t):s({},t,e)}var vn=function(){function t(t,e,r,n,i,s){var o=this;this._zone=t,this._console=e,this._injector=r,this._exceptionHandler=n,this._componentFactoryResolver=i,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Xe(),this._zone.onMicrotaskEmpty.subscribe({next:function(){o._zone.run(function(){o.tick()})}});var a=new D(function(t){o._stable=o._zone.isStable&&!o._zone.hasPendingMacrotasks&&!o._zone.hasPendingMicrotasks,o._zone.runOutsideAngular(function(){t.next(o._stable),t.complete()})}),l=new D(function(t){var e;o._zone.runOutsideAngular(function(){e=o._zone.onStable.subscribe(function(){tn.assertNotInAngularZone(),Mt(function(){o._stable||o._zone.hasPendingMacrotasks||o._zone.hasPendingMicrotasks||(o._stable=!0,t.next(!0))})})});var r=o._zone.onUnstable.subscribe(function(){tn.assertInAngularZone(),o._stable&&(o._stable=!1,o._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),r.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return z(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof i&&(r=t.pop()),null===n&&1===t.length&&t[0]instanceof D?t[0]:ut(r)(nt(t,n))}(a,l.pipe(function(t){return ct()((e=gt,function(t){var r;r="function"==typeof e?e:function(){return e};var n=Object.create(t,dt);return n.source=t,n.subjectFactory=r,n})(t));var e}))}var e;return e=t,t.prototype.bootstrap=function(t,e){var r,n=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");r=t instanceof Oe?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);var i=r instanceof Pe?null:this._injector.get(De),s=r.create(ce.NULL,[],e||r.selector,i);s.onDestroy(function(){n._unloadComponent(s)});var o=s.injector.get(un,null);return o&&s.injector.get(cn).registerApplication(s.location.nativeElement,o),this._loadComponent(s),Xe()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),s},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var r=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(n){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(n)})}finally{this._runningTick=!1,Yr(r)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;yn(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fr,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),yn(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Jr("ApplicationRef#tick()"),t}();function yn(t,e){var r=t.indexOf(e);r>-1&&t.splice(r,1)}var _n=function(){function t(){this.dirty=!0,this._results=[],this.changes=new dr,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[jt()]=function(){return this._results[jt()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,r){var n=Array.isArray(r)?t(r):r;return e.concat(n)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),xn=function(){return function(){}}(),wn={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},En=function(){function t(t,e){this._compiler=t,this._config=e||wn}return t.prototype.load=function(t){return this._compiler instanceof Xr?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,n=u(t.split("#"),2),i=n[0],s=n[1];return void 0===s&&(s="default"),r("crnd")(i).then(function(t){return t[s]}).then(function(t){return An(t,i,s)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=u(t.split("#"),2),n=e[0],i=e[1],s="NgFactory";return void 0===i&&(i="default",s=""),r("crnd")(this._config.factoryPathPrefix+n+this._config.factoryPathSuffix).then(function(t){return t[i+s]}).then(function(t){return An(t,n,i)})},t}();function An(t,e,r){if(!t)throw new Error("Cannot find '"+r+"' in '"+e+"'");return t}var Sn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return On(t,je)},t}(),On=se,Cn=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Tn()},t}(),Tn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},kn=function(){return function(t,e){this.name=t,this.callback=e}}(),In=function(){function t(t,e,r){this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,e&&e instanceof Nn&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),Nn=function(t){function e(e,r,n){var i=t.call(this,e,r,n)||this;return i.properties={},i.attributes={},i.classes={},i.styles={},i.childNodes=[],i.nativeElement=e,i}return i(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var r,n=this,i=this.childNodes.indexOf(t);-1!==i&&((r=this.childNodes).splice.apply(r,c([i+1,0],e)),e.forEach(function(e){e.parent&&e.parent.removeChild(e),t.parent=n}))},e.prototype.insertBefore=function(t,e){var r=this.childNodes.indexOf(t);-1===r?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(r,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,r,n){e.childNodes.forEach(function(e){e instanceof Nn&&(r(e)&&n.push(e),t(e,r,n))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,r,n){e instanceof Nn&&e.childNodes.forEach(function(e){r(e)&&n.push(e),e instanceof Nn&&t(e,r,n)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(r){r.name==t&&r.callback(e)})},e}(In),Pn=new Map,Dn=function(t){return Pn.get(t)||null};function Rn(t){Pn.set(t.nativeNode,t)}var jn=function(){function t(){}return t.prototype.supports=function(t){return ne(t)},t.prototype.create=function(t){return new Ln(t)},t}(),Mn=function(t,e){return e},Ln=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Mn}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,r=this._removalsHead,n=0,i=null;e||r;){var s=!r||e&&e.currentIndex<zn(r,n,i)?e:r,o=zn(s,n,i),a=s.currentIndex;if(s===r)n--,r=r._nextRemoved;else if(e=e._next,null==s.previousIndex)n++;else{i||(i=[]);var l=o-n,u=a-n;if(l!=u){for(var c=0;c<l;c++){var p=c<i.length?i[c]:i[c]=0,h=p+c;u<=h&&h<l&&(i[c]=p+1)}i[s.previousIndex]=u-l}}o!==a&&t(s,o,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!ne(t))throw new Error("Error trying to diff '"+Ft(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var r,n,i,s=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)i=this._trackByFn(a,n=t[a]),null!==s&&Lt(s.trackById,i)?(o&&(s=this._verifyReinsertion(s,n,i,a)),Lt(s.item,n)||this._addIdentityChange(s,n)):(s=this._mismatch(s,n,i,a),o=!0),s=s._next}else r=0,function(t,e){if(Array.isArray(t))for(var r=0;r<t.length;r++)e(t[r]);else for(var n=t[jt()](),i=void 0;!(i=n.next()).done;)e(i.value)}(t,function(t){i=e._trackByFn(r,t),null!==s&&Lt(s.trackById,i)?(o&&(s=e._verifyReinsertion(s,t,i,r)),Lt(s.item,t)||e._addIdentityChange(s,t)):(s=e._mismatch(s,t,i,r),o=!0),s=s._next,r++}),this.length=r;return this._truncate(s),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,r,n){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,n))?(Lt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,n)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Lt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,n)):t=this._addAfter(new Fn(e,r),i,n),t},t.prototype._verifyReinsertion=function(t,e,r,n){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==i?t=this._reinsertAfter(i,t._prev,n):t.currentIndex!=n&&(t.currentIndex=n,this._addToMoves(t,n)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var n=t._prevRemoved,i=t._nextRemoved;return null===n?this._removalsHead=i:n._nextRemoved=i,null===i?this._removalsTail=n:i._prevRemoved=n,this._insertAfter(t,e,r),this._addToMoves(t,r),t},t.prototype._moveAfter=function(t,e,r){return this._unlink(t),this._insertAfter(t,e,r),this._addToMoves(t,r),t},t.prototype._addAfter=function(t,e,r){return this._insertAfter(t,e,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,r){var n=null===e?this._itHead:e._next;return t._next=n,t._prev=e,null===n?this._itTail=t:n._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bn),this._linkedRecords.put(t),t.currentIndex=r,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,r=t._next;return null===e?this._itHead=r:e._next=r,null===r?this._itTail=e:r._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),Fn=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Un=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var r;for(r=this._head;null!==r;r=r._nextDup)if((null===e||e<=r.currentIndex)&&Lt(r.trackById,t))return r;return null},t.prototype.remove=function(t){var e=t._prevDup,r=t._nextDup;return null===e?this._head=r:e._nextDup=r,null===r?this._tail=e:r._prevDup=e,null===this._head},t}(),Bn=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,r=this.map.get(e);r||(r=new Un,this.map.set(e,r)),r.add(t)},t.prototype.get=function(t,e){var r=this.map.get(t);return r?r.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function zn(t,e,r){var n=t.previousIndex;if(null===n)return n;var i=0;return r&&n<r.length&&(i=r[n]),n+e+i}var Vn=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||ie(t)},t.prototype.create=function(){return new $n},t}(),$n=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||ie(t)))throw new Error("Error trying to diff '"+Ft(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var r=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,n){if(r&&r.key===n)e._maybeAddToChanges(r,t),e._appendAfter=r,r=r._next;else{var i=e._getOrCreateRecordForKey(n,t);r=e._insertBeforeOrAppend(r,i)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(var n=r;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var r=t._prev;return e._next=t,e._prev=r,t._prev=e,r&&(r._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var r=this._records.get(t);this._maybeAddToChanges(r,e);var n=r._prev,i=r._next;return n&&(n._next=i),i&&(i._prev=n),r._next=null,r._prev=null,r}var s=new qn(t);return this._records.set(t,s),s.currentValue=e,this._addToAdditions(s),s},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Lt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(r){return e(t[r],r)})},t}(),qn=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Hn=function(){function t(t){this.factories=t}return t.create=function(e,r){if(null!=r){var n=r.factories.slice();e=e.concat(n)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(r){if(!r)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,r)},deps:[[t,new Xt,new Ht]]}},t.prototype.find=function(t){var e,r=this.factories.find(function(e){return e.supports(t)});if(null!=r)return r;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=xt({providedIn:"root",factory:function(){return new t([new jn])}}),t}(),Gn=function(){function t(t){this.factories=t}return t.create=function(e,r){if(r){var n=r.factories.slice();e=e.concat(n)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(r){if(!r)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,r)},deps:[[t,new Xt,new Ht]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.ngInjectableDef=xt({providedIn:"root",factory:function(){return new t([new Vn])}}),t}(),Xn=[new Vn],Qn=new Hn([new jn]),Wn=new Gn(Xn),Kn=dn(null,"core",[{provide:Lr,useValue:"unknown"},{provide:gn,deps:[ce]},{provide:cn,deps:[]},{provide:Ur,deps:[]}]),Zn=new Et("LocaleId");function Jn(){return Qn}function Yn(){return Wn}function ti(t){return t||"en-US"}var ei=function(){return function(t){}}();function ri(t,e,r){var n=t.state,i=1792&n;return i===e?(t.state=-1793&n|r,t.initIndex=-1,!0):i===r}function ni(t,e,r){return(1792&t.state)===e&&t.initIndex<=r&&(t.initIndex=r+1,!0)}function ii(t,e){return t.nodes[e]}function si(t,e){return t.nodes[e]}function oi(t,e){return t.nodes[e]}function ai(t,e){return t.nodes[e]}function li(t,e){return t.nodes[e]}var ui={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function ci(t,e,r,n){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+r+"'.";return n&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var r=new Error(t);return pi(r,e),r}(i,t)}function pi(t,e){t[wr]=e,t[Ar]=e.logError.bind(e)}function hi(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var fi=function(){},di=new Map;function mi(t){var e=di.get(t);return e||(e=Ft(t)+"_"+di.size,di.set(t,e)),e}function gi(t,e,r,n){if(ee.isWrapped(n)){n=ee.unwrap(n);var i=t.def.nodes[e].bindingIndex+r,s=ee.unwrap(t.oldValues[i]);t.oldValues[i]=new ee(s)}return n}var bi="$$undefined",vi="$$empty";function yi(t){return{id:bi,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var _i=0;function xi(t,e,r,n){return!(!(2&t.state)&&Lt(t.oldValues[e.bindingIndex+r],n))}function wi(t,e,r,n){return!!xi(t,e,r,n)&&(t.oldValues[e.bindingIndex+r]=n,!0)}function Ei(t,e,r,n){var i=t.oldValues[e.bindingIndex+r];if(1&t.state||!te(i,n)){var s=e.bindings[r].name;throw ci(ui.createDebugContext(t,e.nodeIndex),s+": "+i,s+": "+n,0!=(1&t.state))}}function Ai(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function Si(t,e){for(var r=t;r&&r!==e;)r.state|=64,r=r.viewContainerParent||r.parent}function Oi(t,e,r,n){try{return Ai(33554432&t.def.nodes[e].flags?si(t,e).componentView:t),ui.handleEvent(t,e,r,n)}catch(i){t.root.errorHandler.handleError(i)}}function Ci(t){return t.parent?si(t.parent,t.parentNodeDef.nodeIndex):null}function Ti(t){return t.parent?t.parentNodeDef.parent:null}function ki(t,e){switch(201347067&e.flags){case 1:return si(t,e.nodeIndex).renderElement;case 2:return ii(t,e.nodeIndex).renderText}}function Ii(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Ni(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Pi(t){var e={},r=0,n={};return t&&t.forEach(function(t){var i=u(t,2),s=i[0],o=i[1];"number"==typeof s?(e[s]=o,r|=function(t){return 1<<t%32}(s)):n[s]=o}),{matchedQueries:e,references:n,matchedQueryIds:r}}function Di(t,e){return t.map(function(t){var r,n,i;return Array.isArray(t)?(i=(r=u(t,2))[0],n=r[1]):(i=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,oe,{value:e,configurable:!0}),{flags:i,token:n,tokenKey:mi(n)}})}function Ri(t,e,r){var n=r.renderParent;return n?0==(1&n.flags)||0==(33554432&n.flags)||n.element.componentRendererType&&n.element.componentRendererType.encapsulation===$t.Native?si(t,r.renderParent.nodeIndex).renderElement:void 0:e}var ji=new WeakMap;function Mi(t){var e=ji.get(t);return e||((e=t(function(){return fi})).factory=t,ji.set(t,e)),e}function Li(t,e,r,n,i){3===e&&(r=t.renderer.parentNode(ki(t,t.def.lastRenderRootNode))),Fi(t,e,0,t.def.nodes.length-1,r,n,i)}function Fi(t,e,r,n,i,s,o){for(var a=r;a<=n;a++){var l=t.def.nodes[a];11&l.flags&&Bi(t,l,e,i,s,o),a+=l.childCount}}function Ui(t,e,r,n,i,s){for(var o=t;o&&!Ii(o);)o=o.parent;for(var a=o.parent,l=Ti(o),u=l.nodeIndex+l.childCount,c=l.nodeIndex+1;c<=u;c++){var p=a.def.nodes[c];p.ngContentIndex===e&&Bi(a,p,r,n,i,s),c+=p.childCount}if(!a.parent){var h=t.root.projectableNodes[e];if(h)for(c=0;c<h.length;c++)zi(t,h[c],r,n,i,s)}}function Bi(t,e,r,n,i,s){if(8&e.flags)Ui(t,e.ngContent.index,r,n,i,s);else{var o=ki(t,e);if(3===r&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&zi(t,o,r,n,i,s),32&e.bindingFlags&&zi(si(t,e.nodeIndex).componentView,o,r,n,i,s)):zi(t,o,r,n,i,s),16777216&e.flags)for(var a=si(t,e.nodeIndex).viewContainer._embeddedViews,l=0;l<a.length;l++)Li(a[l],r,n,i,s);1&e.flags&&!e.element.name&&Fi(t,r,e.nodeIndex+1,e.nodeIndex+e.childCount,n,i,s)}}function zi(t,e,r,n,i,s){var o=t.renderer;switch(r){case 1:o.appendChild(n,e);break;case 2:o.insertBefore(n,e,i);break;case 3:o.removeChild(n,e);break;case 0:s.push(e)}}var Vi=/^:([^:]+):(.+)$/;function $i(t){if(":"===t[0]){var e=t.match(Vi);return[e[1],e[2]]}return["",t]}function qi(t){for(var e=0,r=0;r<t.length;r++)e|=t[r].flags;return e}function Hi(t,e,r,n,i,s,o,a,l,u,c,p,h,f,d,m,g,b,v,y){switch(t){case 1:return e+Gi(r)+n;case 2:return e+Gi(r)+n+Gi(i)+s;case 3:return e+Gi(r)+n+Gi(i)+s+Gi(o)+a;case 4:return e+Gi(r)+n+Gi(i)+s+Gi(o)+a+Gi(l)+u;case 5:return e+Gi(r)+n+Gi(i)+s+Gi(o)+a+Gi(l)+u+Gi(c)+p;case 6:return e+Gi(r)+n+Gi(i)+s+Gi(o)+a+Gi(l)+u+Gi(c)+p+Gi(h)+f;case 7:return e+Gi(r)+n+Gi(i)+s+Gi(o)+a+Gi(l)+u+Gi(c)+p+Gi(h)+f+Gi(d)+m;case 8:return e+Gi(r)+n+Gi(i)+s+Gi(o)+a+Gi(l)+u+Gi(c)+p+Gi(h)+f+Gi(d)+m+Gi(g)+b;case 9:return e+Gi(r)+n+Gi(i)+s+Gi(o)+a+Gi(l)+u+Gi(c)+p+Gi(h)+f+Gi(d)+m+Gi(g)+b+Gi(v)+y;default:throw new Error("Does not support more than 9 expressions")}}function Gi(t){return null!=t?t.toString():""}function Xi(t,e,r,n,i,s){t|=1;var o=Pi(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o.matchedQueries,matchedQueryIds:o.matchedQueryIds,references:o.references,ngContentIndex:r,childCount:n,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:s?Mi(s):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||fi},provider:null,text:null,query:null,ngContent:null}}function Qi(t,e,r,n,i,s,o,a,l,c,p,h){var f;void 0===o&&(o=[]),c||(c=fi);var d=Pi(r),m=d.matchedQueries,g=d.references,b=d.matchedQueryIds,v=null,y=null;s&&(v=(f=u($i(s),2))[0],y=f[1]),a=a||[];for(var _=new Array(a.length),x=0;x<a.length;x++){var w=u(a[x],3),E=w[0],A=w[2],S=u($i(w[1]),2),O=S[0],C=S[1],T=void 0,k=void 0;switch(15&E){case 4:k=A;break;case 1:case 8:T=A}_[x]={flags:E,ns:O,name:C,nonMinifiedName:C,securityContext:T,suffix:k}}l=l||[];var I=new Array(l.length);for(x=0;x<l.length;x++){var N=u(l[x],2);I[x]={type:0,target:N[0],eventName:N[1],propName:null}}var P=(o=o||[]).map(function(t){var e=u(t,2),r=e[1],n=u($i(e[0]),2);return[n[0],n[1],r]});return h=function(t){if(t&&t.id===bi){var e=null!=t.encapsulation&&t.encapsulation!==$t.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+_i++:vi}return t&&t.id===vi&&(t=null),t||null}(h),p&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:m,matchedQueryIds:b,references:g,ngContentIndex:n,childCount:i,bindings:_,bindingFlags:qi(_),outputs:I,element:{ns:v,name:y,attrs:P,template:null,componentProvider:null,componentView:p||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||fi},provider:null,text:null,query:null,ngContent:null}}function Wi(t,e,r){var n,i=r.element,s=t.root.selectorOrNode,o=t.renderer;if(t.parent||!s){n=i.name?o.createElement(i.name,i.ns):o.createComment("");var a=Ri(t,e,r);a&&o.appendChild(a,n)}else n=o.selectRootElement(s,!!i.componentRendererType&&i.componentRendererType.encapsulation===$t.ShadowDom);if(i.attrs)for(var l=0;l<i.attrs.length;l++){var c=u(i.attrs[l],3);o.setAttribute(n,c[1],c[2],c[0])}return n}function Ki(t,e,r,n){for(var i=0;i<r.outputs.length;i++){var s=r.outputs[i],o=Zi(t,r.nodeIndex,(p=s.eventName,(c=s.target)?c+":"+p:p)),a=s.target,l=t;"component"===s.target&&(a=null,l=e);var u=l.renderer.listen(a||n,s.eventName,o);t.disposables[r.outputIndex+i]=u}var c,p}function Zi(t,e,r){return function(n){return Oi(t,e,r,n)}}function Ji(t,e,r,n){if(!wi(t,e,r,n))return!1;var i=e.bindings[r],s=si(t,e.nodeIndex),o=s.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,r,n,i,s){var o=e.securityContext,a=o?t.root.sanitizer.sanitize(o,s):s;a=null!=a?a.toString():null;var l=t.renderer;null!=s?l.setAttribute(r,i,a,n):l.removeAttribute(r,i,n)}(t,i,o,i.ns,a,n);break;case 2:!function(t,e,r,n){var i=t.renderer;n?i.addClass(e,r):i.removeClass(e,r)}(t,o,a,n);break;case 4:!function(t,e,r,n,i){var s=t.root.sanitizer.sanitize(Ve.STYLE,i);if(null!=s){s=s.toString();var o=e.suffix;null!=o&&(s+=o)}else s=null;var a=t.renderer;null!=s?a.setStyle(r,n,s):a.removeStyle(r,n)}(t,i,o,a,n);break;case 8:!function(t,e,r,n,i){var s=e.securityContext,o=s?t.root.sanitizer.sanitize(s,i):i;t.renderer.setProperty(r,n,o)}(33554432&e.flags&&32&i.flags?s.componentView:t,i,o,a,n)}return!0}var Yi=new Object,ts=mi(ce),es=mi(le),rs=mi(De);function ns(t,e,r,n){return r=zt(r),{index:-1,deps:Di(n,Ft(e)),flags:t,token:e,value:r}}function is(t,e,r){void 0===r&&(r=ce.THROW_IF_NOT_FOUND);var n,i,s=Kt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(r=null),1&e.flags)return t._parent.get(e.token,r);var o=e.tokenKey;switch(o){case ts:case es:case rs:return t}var a,l=t._def.providersByKey[o];if(l){var u=t._providers[l.index];return void 0===u&&(u=t._providers[l.index]=ss(t,l)),u===Yi?void 0:u}if((a=wt(e.token))&&(n=t,null!=(i=a).providedIn&&(function(t,e){return t._def.modules.indexOf(i.providedIn)>-1}(n)||"root"===i.providedIn&&n._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:e.token},t._providers[c]=Yi,t._providers[c]=ss(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?r:t._parent.get(e.token,r)}finally{Kt(s)}}function ss(t,e){var r;switch(201347067&e.flags){case 512:r=function(t,e,r){var n=r.length;switch(n){case 0:return new e;case 1:return new e(is(t,r[0]));case 2:return new e(is(t,r[0]),is(t,r[1]));case 3:return new e(is(t,r[0]),is(t,r[1]),is(t,r[2]));default:for(var i=new Array(n),s=0;s<n;s++)i[s]=is(t,r[s]);return new(e.bind.apply(e,c([void 0],i)))}}(t,e.value,e.deps);break;case 1024:r=function(t,e,r){var n=r.length;switch(n){case 0:return e();case 1:return e(is(t,r[0]));case 2:return e(is(t,r[0]),is(t,r[1]));case 3:return e(is(t,r[0]),is(t,r[1]),is(t,r[2]));default:for(var i=Array(n),s=0;s<n;s++)i[s]=is(t,r[s]);return e.apply(void 0,c(i))}}(t,e.value,e.deps);break;case 2048:r=is(t,e.deps[0]);break;case 256:r=e.value}return r===Yi||null==r||"object"!=typeof r||131072&e.flags||"function"!=typeof r.ngOnDestroy||(e.flags|=131072),void 0===r?Yi:r}function os(t,e){var r=t.viewContainer._embeddedViews;if((null==e||e>=r.length)&&(e=r.length-1),e<0)return null;var n=r[e];return n.viewContainerParent=null,cs(r,e),ui.dirtyParentQueries(n),ls(n),n}function as(t,e,r){var n=e?ki(e,e.def.lastRenderRootNode):t.renderElement,i=r.renderer.parentNode(n),s=r.renderer.nextSibling(n);Li(r,2,i,s,void 0)}function ls(t){Li(t,3,null,null,void 0)}function us(t,e,r){e>=t.length?t.push(r):t.splice(e,0,r)}function cs(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var ps=new Object;function hs(t,e,r,n,i,s){return new fs(t,e,r,n,i,s)}var fs=function(t){function e(e,r,n,i,s,o){var a=t.call(this)||this;return a.selector=e,a.componentType=r,a._inputs=i,a._outputs=s,a.ngContentSelectors=o,a.viewDefFactory=n,a}return i(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var r in e)t.push({propName:r,templateName:e[r]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,r,n){if(!n)throw new Error("ngModule should be provided");var i=Mi(this.viewDefFactory),s=i.nodes[0].element.componentProvider.nodeIndex,o=ui.createRootView(t,e||[],r,i,n,ps),a=oi(o,s).instance;return r&&o.renderer.setAttribute(si(o,0).renderElement,"ng-version",qe.full),new ds(o,new vs(o),a)},e}(Oe),ds=function(t){function e(e,r,n){var i=t.call(this)||this;return i._view=e,i._viewRef=r,i._component=n,i._elDef=i._view.def.nodes[0],i.hostView=r,i.changeDetectorRef=r,i.instance=n,i}return i(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new je(si(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new ws(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(Se);function ms(t,e,r){return new gs(t,e,r)}var gs=function(){function t(t,e,r){this._view=t,this._elDef=e,this._data=r,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new je(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new ws(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=Ti(t),t=t.parent;return t?new ws(t,e):new ws(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=os(this._data,t);ui.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var r=new vs(e);return r.attachToViewContainerRef(this),r}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,r){var n=t.createEmbeddedView(e||{});return this.insert(n,r),n},t.prototype.createComponent=function(t,e,r,n,i){var s=r||this.parentInjector;i||t instanceof Pe||(i=s.get(De));var o=t.create(s,n,void 0,i);return this.insert(o.hostView,e),o},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var r,n,i,s,o=t;return s=(r=this._data).viewContainer._embeddedViews,null==(n=e)&&(n=s.length),(i=o._view).viewContainerParent=this._view,us(s,n,i),function(t,e){var r=Ci(e);if(r&&r!==t&&!(16&e.state)){e.state|=16;var n=r.template._projectedViews;n||(n=r.template._projectedViews=[]),n.push(e),function(t,r){if(!(4&r.flags)){e.parent.def.nodeFlags|=4,r.flags|=4;for(var n=r.parent;n;)n.childFlags|=4,n=n.parent}}(0,e.parentNodeDef)}}(r,i),ui.dirtyParentQueries(i),as(r,n>0?s[n-1]:null,i),o.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var r,n,i,s,o,a=this._embeddedViews.indexOf(t._view);return i=e,o=(s=(r=this._data).viewContainer._embeddedViews)[n=a],cs(s,n),null==i&&(i=s.length),us(s,i,o),ui.dirtyParentQueries(o),ls(o),as(r,i>0?s[i-1]:null,o),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=os(this._data,t);e&&ui.destroyView(e)},t.prototype.detach=function(t){var e=os(this._data,t);return e?new vs(e):null},t}();function bs(t){return new vs(t)}var vs=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return Li(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){Ai(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{ui.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){ui.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ui.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,ls(this._view),ui.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function ys(t,e){return new _s(t,e)}var _s=function(t){function e(e,r){var n=t.call(this)||this;return n._parentView=e,n._def=r,n}return i(e,t),e.prototype.createEmbeddedView=function(t){return new vs(ui.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new je(si(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(mr);function xs(t,e){return new ws(t,e)}var ws=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=ce.THROW_IF_NOT_FOUND),ui.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:mi(t)},e)},t}();function Es(t,e){var r=t.def.nodes[e];if(1&r.flags){var n=si(t,r.nodeIndex);return r.element.template?n.template:n.renderElement}if(2&r.flags)return ii(t,r.nodeIndex).renderText;if(20240&r.flags)return oi(t,r.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+e)}function As(t){return new Ss(t.renderer)}var Ss=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var r=u($i(e),2),n=this.delegate.createElement(r[1],r[0]);return t&&this.delegate.appendChild(t,n),n},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var r=this.delegate.createText(e);return t&&this.delegate.appendChild(t,r),r},t.prototype.projectNodes=function(t,e){for(var r=0;r<e.length;r++)this.delegate.appendChild(t,e[r])},t.prototype.attachViewAfter=function(t,e){for(var r=this.delegate.parentNode(t),n=this.delegate.nextSibling(t),i=0;i<e.length;i++)this.delegate.insertBefore(r,e[i],n)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var r=t[e],n=this.delegate.parentNode(r);this.delegate.removeChild(n,r)}},t.prototype.destroyView=function(t,e){for(var r=0;r<e.length;r++)this.delegate.destroyNode(e[r])},t.prototype.listen=function(t,e,r){return this.delegate.listen(t,e,r)},t.prototype.listenGlobal=function(t,e,r){return this.delegate.listen(t,e,r)},t.prototype.setElementProperty=function(t,e,r){this.delegate.setProperty(t,e,r)},t.prototype.setElementAttribute=function(t,e,r){var n=u($i(e),2),i=n[0],s=n[1];null!=r?this.delegate.setAttribute(t,s,r,i):this.delegate.removeAttribute(t,s,i)},t.prototype.setBindingDebugInfo=function(t,e,r){},t.prototype.setElementClass=function(t,e,r){r?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,r){null!=r?this.delegate.setStyle(t,e,r):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,r){t[e].apply(t,r)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function Os(t,e,r,n){return new Cs(t,e,r,n)}var Cs=function(){function t(t,e,r,n){this._moduleType=t,this._parent=e,this._bootstrapComponents=r,this._def=n,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,r=t._providers=new Array(e.providers.length),n=0;n<e.providers.length;n++){var i=e.providers[n];4096&i.flags||void 0===r[n]&&(r[n]=ss(t,i))}}(this)}return t.prototype.get=function(t,e,r){void 0===e&&(e=ce.THROW_IF_NOT_FOUND),void 0===r&&(r=Qt.Default);var n=0;return r&Qt.SkipSelf?n|=1:r&Qt.Self&&(n|=4),is(this,{token:t,tokenKey:mi(t),flags:n},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Ie)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Ft(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var r=t._def,n=new Set,i=0;i<r.providers.length;i++)if(131072&r.providers[i].flags){var s=t._providers[i];if(s&&s!==Yi){var o=s.ngOnDestroy;"function"!=typeof o||n.has(s)||(o.apply(s),n.add(s))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),Ts=mi(Le),ks=mi(Be),Is=mi(je),Ns=mi(Sn),Ps=mi(mr),Ds=mi(Cn),Rs=mi(ce),js=mi(le);function Ms(t,e,r,n,i,s,o,a){var l=[];if(o)for(var c in o){var p=u(o[c],2);l[p[0]]={flags:8,name:c,nonMinifiedName:p[1],ns:null,securityContext:null,suffix:null}}var h=[];if(a)for(var f in a)h.push({type:1,propName:f,target:null,eventName:a[f]});return Fs(t,e|=16384,r,n,i,i,s,l,h)}function Ls(t,e,r){return Fs(-1,t|=16,null,0,e,e,r)}function Fs(t,e,r,n,i,s,o,a,l){var u=Pi(r),c=u.matchedQueries,p=u.references,h=u.matchedQueryIds;l||(l=[]),a||(a=[]),s=zt(s);var f=Di(o,Ft(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:p,ngContentIndex:-1,childCount:n,bindings:a,bindingFlags:qi(a),outputs:l,element:null,provider:{token:i,value:s,deps:f},text:null,query:null,ngContent:null}}function Us(t,e){return $s(t,e)}function Bs(t,e){for(var r=t;r.parent&&!Ii(r);)r=r.parent;return qs(r.parent,Ti(r),!0,e.provider.value,e.provider.deps)}function zs(t,e){var r=qs(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var n=0;n<e.outputs.length;n++){var i=e.outputs[n],s=r[i.propName];if(!Ir(s))throw new Error("@Output "+i.propName+" not initialized in '"+r.constructor.name+"'.");var o=s.subscribe(Vs(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+n]=o.unsubscribe.bind(o)}return r}function Vs(t,e,r){return function(n){return Oi(t,e,r,n)}}function $s(t,e){var r=(8192&e.flags)>0,n=e.provider;switch(201347067&e.flags){case 512:return qs(t,e.parent,r,n.value,n.deps);case 1024:return function(t,e,r,n,i){var s=i.length;switch(s){case 0:return n();case 1:return n(Gs(t,e,r,i[0]));case 2:return n(Gs(t,e,r,i[0]),Gs(t,e,r,i[1]));case 3:return n(Gs(t,e,r,i[0]),Gs(t,e,r,i[1]),Gs(t,e,r,i[2]));default:for(var o=Array(s),a=0;a<s;a++)o[a]=Gs(t,e,r,i[a]);return n.apply(void 0,c(o))}}(t,e.parent,r,n.value,n.deps);case 2048:return Gs(t,e.parent,r,n.deps[0]);case 256:return n.value}}function qs(t,e,r,n,i){var s=i.length;switch(s){case 0:return new n;case 1:return new n(Gs(t,e,r,i[0]));case 2:return new n(Gs(t,e,r,i[0]),Gs(t,e,r,i[1]));case 3:return new n(Gs(t,e,r,i[0]),Gs(t,e,r,i[1]),Gs(t,e,r,i[2]));default:for(var o=new Array(s),a=0;a<s;a++)o[a]=Gs(t,e,r,i[a]);return new(n.bind.apply(n,c([void 0],o)))}}var Hs={};function Gs(t,e,r,n,i){if(void 0===i&&(i=ce.THROW_IF_NOT_FOUND),8&n.flags)return n.token;var s=t;2&n.flags&&(i=null);var o=n.tokenKey;o===Ds&&(r=!(!e||!e.element.componentView)),e&&1&n.flags&&(r=!1,e=e.parent);for(var a=t;a;){if(e)switch(o){case Ts:return As(Xs(a,e,r));case ks:return Xs(a,e,r).renderer;case Is:return new je(si(a,e.nodeIndex).renderElement);case Ns:return si(a,e.nodeIndex).viewContainer;case Ps:if(e.element.template)return si(a,e.nodeIndex).template;break;case Ds:return bs(Xs(a,e,r));case Rs:case js:return xs(a,e);default:var l=(r?e.element.allProviders:e.element.publicProviders)[o];if(l){var u=oi(a,l.nodeIndex);return u||(u={instance:$s(a,l)},a.nodes[l.nodeIndex]=u),u.instance}}r=Ii(a),e=Ti(a),a=a.parent,4&n.flags&&(a=null)}var c=s.root.injector.get(n.token,Hs);return c!==Hs||i===Hs?c:s.root.ngModule.injector.get(n.token,i)}function Xs(t,e,r){var n;if(r)n=si(t,e.nodeIndex).componentView;else for(n=t;n.parent&&!Ii(n);)n=n.parent;return n}function Qs(t,e,r,n,i,s){if(32768&r.flags){var o=si(t,r.parent.nodeIndex).componentView;2&o.def.flags&&(o.state|=8)}if(e.instance[r.bindings[n].name]=i,524288&r.flags){s=s||{};var a=ee.unwrap(t.oldValues[r.bindingIndex+n]);s[r.bindings[n].nonMinifiedName]=new re(a,i,0!=(2&t.state))}return t.oldValues[r.bindingIndex+n]=i,s}function Ws(t,e){if(t.def.nodeFlags&e)for(var r=t.def.nodes,n=0,i=0;i<r.length;i++){var s=r[i],o=s.parent;for(!o&&s.flags&e&&Zs(t,i,s.flags&e,n++),0==(s.childFlags&e)&&(i+=s.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&e&&(n=Ks(t,o,e,n)),o=o.parent}}function Ks(t,e,r,n){for(var i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){var s=t.def.nodes[i];s.flags&r&&Zs(t,i,s.flags&r,n++),i+=s.childCount}return n}function Zs(t,e,r,n){var i=oi(t,e);if(i){var s=i.instance;s&&(ui.setCurrentNode(t,e),1048576&r&&ni(t,512,n)&&s.ngAfterContentInit(),2097152&r&&s.ngAfterContentChecked(),4194304&r&&ni(t,768,n)&&s.ngAfterViewInit(),8388608&r&&s.ngAfterViewChecked(),131072&r&&s.ngOnDestroy())}}function Js(t){for(var e=t.def.nodeMatchedQueries;t.parent&&Ni(t);){var r=t.parentNodeDef;t=t.parent;for(var n=r.nodeIndex+r.childCount,i=0;i<=n;i++)67108864&(s=t.def.nodes[i]).flags&&536870912&s.flags&&(s.query.filterId&e)===s.query.filterId&&li(t,i).setDirty(),!(1&s.flags&&i+s.childCount<r.nodeIndex)&&67108864&s.childFlags&&536870912&s.childFlags||(i+=s.childCount)}if(134217728&t.def.nodeFlags)for(i=0;i<t.def.nodes.length;i++){var s;134217728&(s=t.def.nodes[i]).flags&&536870912&s.flags&&li(t,i).setDirty(),i+=s.childCount}}function Ys(t,e){var r=li(t,e.nodeIndex);if(r.dirty){var n,i=void 0;if(67108864&e.flags){var s=e.parent.parent;i=to(t,s.nodeIndex,s.nodeIndex+s.childCount,e.query,[]),n=oi(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=to(t,0,t.def.nodes.length-1,e.query,[]),n=t.component);r.reset(i);for(var o=e.query.bindings,a=!1,l=0;l<o.length;l++){var u=o[l],c=void 0;switch(u.bindingType){case 0:c=r.first;break;case 1:c=r,a=!0}n[u.propName]=c}a&&r.notifyOnChanges()}}function to(t,e,r,n,i){for(var s=e;s<=r;s++){var o=t.def.nodes[s],a=o.matchedQueries[n.id];if(null!=a&&i.push(eo(t,o,a)),1&o.flags&&o.element.template&&(o.element.template.nodeMatchedQueries&n.filterId)===n.filterId){var l=si(t,s);if((o.childMatchedQueries&n.filterId)===n.filterId&&(to(t,s+1,s+o.childCount,n,i),s+=o.childCount),16777216&o.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var p=u[c],h=Ci(p);h&&h===l&&to(p,0,p.def.nodes.length-1,n,i)}var f=l.template._projectedViews;if(f)for(c=0;c<f.length;c++){var d=f[c];to(d,0,d.def.nodes.length-1,n,i)}}(o.childMatchedQueries&n.filterId)!==n.filterId&&(s+=o.childCount)}return i}function eo(t,e,r){if(null!=r)switch(r){case 1:return si(t,e.nodeIndex).renderElement;case 0:return new je(si(t,e.nodeIndex).renderElement);case 2:return si(t,e.nodeIndex).template;case 3:return si(t,e.nodeIndex).viewContainer;case 4:return oi(t,e.nodeIndex).instance}}function ro(t,e,r){var n=Ri(t,e,r);n&&Ui(t,r.ngContent.index,1,n,null,void 0)}function no(t,e){return so(128,t,new Array(e+1))}function io(t,e){for(var r=Object.keys(e),n=r.length,i=new Array(n),s=0;s<n;s++){var o=r[s];i[e[o]]=o}return so(64,t,i)}function so(t,e,r){for(var n=new Array(r.length),i=0;i<r.length;i++){var s=r[i];n[i]={flags:8,name:s,ns:null,nonMinifiedName:s,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:n,bindingFlags:qi(n),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function oo(t,e,r){for(var n=new Array(r.length-1),i=1;i<r.length;i++)n[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:r[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:n,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:r[0]},query:null,ngContent:null}}function ao(t,e,r){var n,i=t.renderer;n=i.createText(r.text.prefix);var s=Ri(t,e,r);return s&&i.appendChild(s,n),{renderText:n}}function lo(t,e){return(null!=t?t.toString():"")+e.suffix}function uo(t,e,r,n){for(var i=0,s=0,o=0,a=0,l=0,u=null,c=null,p=!1,h=!1,f=null,d=0;d<e.length;d++){var m=e[d];if(m.nodeIndex=d,m.parent=u,m.bindingIndex=i,m.outputIndex=s,m.renderParent=c,o|=m.flags,l|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=u?u.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,p=!1,h=!1,m.element.template&&(l|=m.element.template.nodeMatchedQueries)}if(po(u,m,e.length),i+=m.bindings.length,s+=m.outputs.length,!c&&3&m.flags&&(f=m),20224&m.flags){p||(p=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var b=0!=(32768&m.flags);0==(8192&m.flags)||b?u.element.publicProviders[mi(m.provider.token)]=m:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[mi(m.provider.token)]=m),b&&(u.element.componentProvider=m)}if(u?(u.childFlags|=m.flags,u.directChildFlags|=m.flags,u.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(u.childMatchedQueries|=m.element.template.nodeMatchedQueries)):a|=m.flags,m.childCount>0)u=m,co(m)||(c=m);else for(;u&&d===u.nodeIndex+u.childCount;){var v=u.parent;v&&(v.childFlags|=u.childFlags,v.childMatchedQueries|=u.childMatchedQueries),c=(u=v)&&co(u)?u.renderParent:u}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:r||fi,updateRenderer:n||fi,handleEvent:function(t,r,n,i){return e[r].element.handleEvent(t,n,i)},bindingCount:i,outputCount:s,lastRenderRootNode:f}}function co(t){return 0!=(1&t.flags)&&null===t.element.name}function po(t,e,r){var n=e.element&&e.element.template;if(n){if(!n.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(n.lastRenderRootNode&&16777216&n.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var i=t?t.nodeIndex+t.childCount:r-1;if(e.nodeIndex<=i&&e.nodeIndex+e.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function ho(t,e,r,n){var i=go(t.root,t.renderer,t,e,r);return bo(i,t.component,n),vo(i),i}function fo(t,e,r){var n=go(t,t.renderer,null,null,e);return bo(n,r,r),vo(n),n}function mo(t,e,r,n){var i,s=e.element.componentRendererType;return i=s?t.root.rendererFactory.createRenderer(n,s):t.root.renderer,go(t.root,i,t,e.element.componentProvider,r)}function go(t,e,r,n,i){var s=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:r,viewContainerParent:null,parentNodeDef:n,context:null,component:null,nodes:s,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function bo(t,e,r){t.component=e,t.context=r}function vo(t){var e;Ii(t)&&(e=si(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var r=t.def,n=t.nodes,i=0;i<r.nodes.length;i++){var s=r.nodes[i];ui.setCurrentNode(t,i);var o=void 0;switch(201347067&s.flags){case 1:var a=Wi(t,e,s),l=void 0;if(33554432&s.flags){var u=Mi(s.element.componentView);l=ui.createComponentView(t,s,u,a)}Ki(t,l,s,a),o={renderElement:a,componentView:l,viewContainer:null,template:s.element.template?ys(t,s):void 0},16777216&s.flags&&(o.viewContainer=ms(t,s,o));break;case 2:o=ao(t,e,s);break;case 512:case 1024:case 2048:case 256:(o=n[i])||4096&s.flags||(o={instance:Us(t,s)});break;case 16:o={instance:Bs(t,s)};break;case 16384:(o=n[i])||(o={instance:zs(t,s)}),32768&s.flags&&bo(si(t,s.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new _n;break;case 8:ro(t,e,s),o=void 0}n[i]=o}Co(t,Oo.CreateViewNodes),No(t,201326592,268435456,0)}function yo(t){wo(t),ui.updateDirectives(t,1),To(t,Oo.CheckNoChanges),ui.updateRenderer(t,1),Co(t,Oo.CheckNoChanges),t.state&=-97}function _o(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,ri(t,0,256),wo(t),ui.updateDirectives(t,0),To(t,Oo.CheckAndUpdate),No(t,67108864,536870912,0);var e=ri(t,256,512);Ws(t,2097152|(e?1048576:0)),ui.updateRenderer(t,0),Co(t,Oo.CheckAndUpdate),No(t,134217728,536870912,0),Ws(t,8388608|((e=ri(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,ri(t,768,1024)}function xo(t,e,r,n,i,s,o,a,l,u,p,h,f){return 0===r?function(t,e,r,n,i,s,o,a,l,u,c,p){switch(201347067&e.flags){case 1:return function(t,e,r,n,i,s,o,a,l,u,c,p){var h=e.bindings.length,f=!1;return h>0&&Ji(t,e,0,r)&&(f=!0),h>1&&Ji(t,e,1,n)&&(f=!0),h>2&&Ji(t,e,2,i)&&(f=!0),h>3&&Ji(t,e,3,s)&&(f=!0),h>4&&Ji(t,e,4,o)&&(f=!0),h>5&&Ji(t,e,5,a)&&(f=!0),h>6&&Ji(t,e,6,l)&&(f=!0),h>7&&Ji(t,e,7,u)&&(f=!0),h>8&&Ji(t,e,8,c)&&(f=!0),h>9&&Ji(t,e,9,p)&&(f=!0),f}(t,e,r,n,i,s,o,a,l,u,c,p);case 2:return function(t,e,r,n,i,s,o,a,l,u,c,p){var h=!1,f=e.bindings,d=f.length;if(d>0&&wi(t,e,0,r)&&(h=!0),d>1&&wi(t,e,1,n)&&(h=!0),d>2&&wi(t,e,2,i)&&(h=!0),d>3&&wi(t,e,3,s)&&(h=!0),d>4&&wi(t,e,4,o)&&(h=!0),d>5&&wi(t,e,5,a)&&(h=!0),d>6&&wi(t,e,6,l)&&(h=!0),d>7&&wi(t,e,7,u)&&(h=!0),d>8&&wi(t,e,8,c)&&(h=!0),d>9&&wi(t,e,9,p)&&(h=!0),h){var m=e.text.prefix;d>0&&(m+=lo(r,f[0])),d>1&&(m+=lo(n,f[1])),d>2&&(m+=lo(i,f[2])),d>3&&(m+=lo(s,f[3])),d>4&&(m+=lo(o,f[4])),d>5&&(m+=lo(a,f[5])),d>6&&(m+=lo(l,f[6])),d>7&&(m+=lo(u,f[7])),d>8&&(m+=lo(c,f[8])),d>9&&(m+=lo(p,f[9]));var g=ii(t,e.nodeIndex).renderText;t.renderer.setValue(g,m)}return h}(t,e,r,n,i,s,o,a,l,u,c,p);case 16384:return function(t,e,r,n,i,s,o,a,l,u,c,p){var h=oi(t,e.nodeIndex),f=h.instance,d=!1,m=void 0,g=e.bindings.length;return g>0&&xi(t,e,0,r)&&(d=!0,m=Qs(t,h,e,0,r,m)),g>1&&xi(t,e,1,n)&&(d=!0,m=Qs(t,h,e,1,n,m)),g>2&&xi(t,e,2,i)&&(d=!0,m=Qs(t,h,e,2,i,m)),g>3&&xi(t,e,3,s)&&(d=!0,m=Qs(t,h,e,3,s,m)),g>4&&xi(t,e,4,o)&&(d=!0,m=Qs(t,h,e,4,o,m)),g>5&&xi(t,e,5,a)&&(d=!0,m=Qs(t,h,e,5,a,m)),g>6&&xi(t,e,6,l)&&(d=!0,m=Qs(t,h,e,6,l,m)),g>7&&xi(t,e,7,u)&&(d=!0,m=Qs(t,h,e,7,u,m)),g>8&&xi(t,e,8,c)&&(d=!0,m=Qs(t,h,e,8,c,m)),g>9&&xi(t,e,9,p)&&(d=!0,m=Qs(t,h,e,9,p,m)),m&&f.ngOnChanges(m),65536&e.flags&&ni(t,256,e.nodeIndex)&&f.ngOnInit(),262144&e.flags&&f.ngDoCheck(),d}(t,e,r,n,i,s,o,a,l,u,c,p);case 32:case 64:case 128:return function(t,e,r,n,i,s,o,a,l,u,c,p){var h=e.bindings,f=!1,d=h.length;if(d>0&&wi(t,e,0,r)&&(f=!0),d>1&&wi(t,e,1,n)&&(f=!0),d>2&&wi(t,e,2,i)&&(f=!0),d>3&&wi(t,e,3,s)&&(f=!0),d>4&&wi(t,e,4,o)&&(f=!0),d>5&&wi(t,e,5,a)&&(f=!0),d>6&&wi(t,e,6,l)&&(f=!0),d>7&&wi(t,e,7,u)&&(f=!0),d>8&&wi(t,e,8,c)&&(f=!0),d>9&&wi(t,e,9,p)&&(f=!0),f){var m=ai(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(h.length),d>0&&(g[0]=r),d>1&&(g[1]=n),d>2&&(g[2]=i),d>3&&(g[3]=s),d>4&&(g[4]=o),d>5&&(g[5]=a),d>6&&(g[6]=l),d>7&&(g[7]=u),d>8&&(g[8]=c),d>9&&(g[9]=p);break;case 64:g={},d>0&&(g[h[0].name]=r),d>1&&(g[h[1].name]=n),d>2&&(g[h[2].name]=i),d>3&&(g[h[3].name]=s),d>4&&(g[h[4].name]=o),d>5&&(g[h[5].name]=a),d>6&&(g[h[6].name]=l),d>7&&(g[h[7].name]=u),d>8&&(g[h[8].name]=c),d>9&&(g[h[9].name]=p);break;case 128:var b=r;switch(d){case 1:g=b.transform(r);break;case 2:g=b.transform(n);break;case 3:g=b.transform(n,i);break;case 4:g=b.transform(n,i,s);break;case 5:g=b.transform(n,i,s,o);break;case 6:g=b.transform(n,i,s,o,a);break;case 7:g=b.transform(n,i,s,o,a,l);break;case 8:g=b.transform(n,i,s,o,a,l,u);break;case 9:g=b.transform(n,i,s,o,a,l,u,c);break;case 10:g=b.transform(n,i,s,o,a,l,u,c,p)}}m.value=g}return f}(t,e,r,n,i,s,o,a,l,u,c,p);default:throw"unreachable"}}(t,e,n,i,s,o,a,l,u,p,h,f):function(t,e,r){switch(201347067&e.flags){case 1:return function(t,e,r){for(var n=!1,i=0;i<r.length;i++)Ji(t,e,i,r[i])&&(n=!0);return n}(t,e,r);case 2:return function(t,e,r){for(var n=e.bindings,i=!1,s=0;s<r.length;s++)wi(t,e,s,r[s])&&(i=!0);if(i){var o="";for(s=0;s<r.length;s++)o+=lo(r[s],n[s]);o=e.text.prefix+o;var a=ii(t,e.nodeIndex).renderText;t.renderer.setValue(a,o)}return i}(t,e,r);case 16384:return function(t,e,r){for(var n=oi(t,e.nodeIndex),i=n.instance,s=!1,o=void 0,a=0;a<r.length;a++)xi(t,e,a,r[a])&&(s=!0,o=Qs(t,n,e,a,r[a],o));return o&&i.ngOnChanges(o),65536&e.flags&&ni(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),s}(t,e,r);case 32:case 64:case 128:return function(t,e,r){for(var n=e.bindings,i=!1,s=0;s<r.length;s++)wi(t,e,s,r[s])&&(i=!0);if(i){var o=ai(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=r;break;case 64:for(a={},s=0;s<r.length;s++)a[n[s].name]=r[s];break;case 128:var l=r[0],u=r.slice(1);a=l.transform.apply(l,c(u))}o.value=a}return i}(t,e,r);default:throw"unreachable"}}(t,e,n)}function wo(t){var e=t.def;if(4&e.nodeFlags)for(var r=0;r<e.nodes.length;r++){var n=e.nodes[r];if(4&n.flags){var i=si(t,r).template._projectedViews;if(i)for(var s=0;s<i.length;s++){var o=i[s];o.state|=32,Si(o,t)}}else 0==(4&n.childFlags)&&(r+=n.childCount)}}function Eo(t,e,r,n,i,s,o,a,l,u,c,p,h){return 0===r?function(t,e,r,n,i,s,o,a,l,u,c,p){var h=e.bindings.length;h>0&&Ei(t,e,0,r),h>1&&Ei(t,e,1,n),h>2&&Ei(t,e,2,i),h>3&&Ei(t,e,3,s),h>4&&Ei(t,e,4,o),h>5&&Ei(t,e,5,a),h>6&&Ei(t,e,6,l),h>7&&Ei(t,e,7,u),h>8&&Ei(t,e,8,c),h>9&&Ei(t,e,9,p)}(t,e,n,i,s,o,a,l,u,c,p,h):function(t,e,r){for(var n=0;n<r.length;n++)Ei(t,e,n,r[n])}(t,e,n),!1}function Ao(t,e){if(li(t,e.nodeIndex).dirty)throw ci(ui.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function So(t){if(!(128&t.state)){if(To(t,Oo.Destroy),Co(t,Oo.Destroy),Ws(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=Ci(t);if(e){var r=e.template._projectedViews;r&&(cs(r,r.indexOf(t)),ui.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,r=0;r<e;r++){var n=t.def.nodes[r];1&n.flags?t.renderer.destroyNode(si(t,r).renderElement):2&n.flags?t.renderer.destroyNode(ii(t,r).renderText):(67108864&n.flags||134217728&n.flags)&&li(t,r).destroy()}}(t),Ii(t)&&t.renderer.destroy(),t.state|=128}}var Oo=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function Co(t,e){var r=t.def;if(33554432&r.nodeFlags)for(var n=0;n<r.nodes.length;n++){var i=r.nodes[n];33554432&i.flags?ko(si(t,n).componentView,e):0==(33554432&i.childFlags)&&(n+=i.childCount)}}function To(t,e){var r=t.def;if(16777216&r.nodeFlags)for(var n=0;n<r.nodes.length;n++){var i=r.nodes[n];if(16777216&i.flags)for(var s=si(t,n).viewContainer._embeddedViews,o=0;o<s.length;o++)ko(s[o],e);else 0==(16777216&i.childFlags)&&(n+=i.childCount)}}function ko(t,e){var r=t.state;switch(e){case Oo.CheckNoChanges:0==(128&r)&&(12==(12&r)?yo(t):64&r&&Io(t,Oo.CheckNoChangesProjectedViews));break;case Oo.CheckNoChangesProjectedViews:0==(128&r)&&(32&r?yo(t):64&r&&Io(t,e));break;case Oo.CheckAndUpdate:0==(128&r)&&(12==(12&r)?_o(t):64&r&&Io(t,Oo.CheckAndUpdateProjectedViews));break;case Oo.CheckAndUpdateProjectedViews:0==(128&r)&&(32&r?_o(t):64&r&&Io(t,e));break;case Oo.Destroy:So(t);break;case Oo.CreateViewNodes:vo(t)}}function Io(t,e){To(t,e),Co(t,e)}function No(t,e,r,n){if(t.def.nodeFlags&e&&t.def.nodeFlags&r)for(var i=t.def.nodes.length,s=0;s<i;s++){var o=t.def.nodes[s];if(o.flags&e&&o.flags&r)switch(ui.setCurrentNode(t,o.nodeIndex),n){case 0:Ys(t,o);break;case 1:Ao(t,o)}o.childFlags&e&&o.childFlags&r||(s+=o.childCount)}}var Po=!1;function Do(t,e,r,n,i,s){var o=i.injector.get(Fe);return fo(jo(t,i,o,e,r),n,s)}function Ro(t,e,r,n,i,s){var o=i.injector.get(Fe),a=jo(t,i,new fa(o),e,r),l=Ho(n);return pa(ta.create,fo,null,[a,l,s])}function jo(t,e,r,n,i){var s=e.injector.get($e),o=e.injector.get(Tr),a=r.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:n,selectorOrNode:i,sanitizer:s,rendererFactory:r,renderer:a,errorHandler:o}}function Mo(t,e,r,n){var i=Ho(r);return pa(ta.create,ho,null,[t,e,i,n])}function Lo(t,e,r,n){return r=zo.get(e.element.componentProvider.provider.token)||Ho(r),pa(ta.create,mo,null,[t,e,r,n])}function Fo(t,e,r,n){return Os(t,e,r,function(t){var e=function(t){var e=!1,r=!1;return 0===Uo.size?{hasOverrides:e,hasDeprecatedOverrides:r}:(t.providers.forEach(function(t){var n=Uo.get(t.token);3840&t.flags&&n&&(e=!0,r=r||n.deprecatedBehavior)}),t.modules.forEach(function(t){Bo.forEach(function(n,i){wt(i).providedIn===t&&(e=!0,r=r||n.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:r})}(t),r=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var n=t.providers[e];r&&(n.flags|=4096);var i=Uo.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Di(i.deps),n.value=i.value)}if(Bo.size>0){var s=new Set(t.modules);Bo.forEach(function(e,n){if(s.has(wt(n).providedIn)){var i={token:n,flags:e.flags|(r?4096:0),deps:Di(e.deps),value:e.value,index:t.providers.length};t.providers.push(i),t.providersByKey[mi(n)]=i}})}}(t=t.factory(function(){return fi})),t):t}(n))}var Uo=new Map,Bo=new Map,zo=new Map;function Vo(t){var e;Uo.set(t.token,t),"function"==typeof t.token&&(e=wt(t.token))&&"function"==typeof e.providedIn&&Bo.set(t.token,t)}function $o(t,e){var r=Mi(e.viewDefFactory),n=Mi(r.nodes[0].element.componentView);zo.set(t,n)}function qo(){Uo.clear(),Bo.clear(),zo.clear()}function Ho(t){if(0===Uo.size)return t;var e=function(t){for(var e=[],r=null,n=0;n<t.nodes.length;n++){var i=t.nodes[n];1&i.flags&&(r=i),r&&3840&i.flags&&Uo.has(i.provider.token)&&(e.push(r.nodeIndex),r=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return fi});for(var r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(var r=e+1;r<t.nodes.length;r++){var n=t.nodes[r];if(1&n.flags)return;if(3840&n.flags){var i=n.provider,s=Uo.get(i.token);s&&(n.flags=-3841&n.flags|s.flags,i.deps=Di(s.deps),i.value=s.value)}}}}function Go(t,e,r,n,i,s,o,a,l,u,c,p,h){var f=t.def.nodes[e];return xo(t,f,r,n,i,s,o,a,l,u,c,p,h),224&f.flags?ai(t,e).value:void 0}function Xo(t,e,r,n,i,s,o,a,l,u,c,p,h){var f=t.def.nodes[e];return Eo(t,f,r,n,i,s,o,a,l,u,c,p,h),224&f.flags?ai(t,e).value:void 0}function Qo(t){return pa(ta.detectChanges,_o,null,[t])}function Wo(t){return pa(ta.checkNoChanges,yo,null,[t])}function Ko(t){return pa(ta.destroy,So,null,[t])}var Zo,Jo,Yo,ta=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function ea(t,e){Jo=t,Yo=e}function ra(t,e,r,n){return ea(t,e),pa(ta.handleEvent,t.def.handleEvent,null,[t,e,r,n])}function na(t,e){if(128&t.state)throw hi(ta[Zo]);return ea(t,aa(t,0)),t.def.updateDirectives(function(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=t.def.nodes[r];return 0===e?sa(t,o,n,i):oa(t,o,n,i),16384&o.flags&&ea(t,aa(t,r)),224&o.flags?ai(t,o.nodeIndex).value:void 0},t)}function ia(t,e){if(128&t.state)throw hi(ta[Zo]);return ea(t,la(t,0)),t.def.updateRenderer(function(t,r,n){for(var i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=t.def.nodes[r];return 0===e?sa(t,o,n,i):oa(t,o,n,i),3&o.flags&&ea(t,la(t,r)),224&o.flags?ai(t,o.nodeIndex).value:void 0},t)}function sa(t,e,r,n){if(xo.apply(void 0,c([t,e,r],n))){var i=1===r?n[0]:n;if(16384&e.flags){for(var s={},o=0;o<e.bindings.length;o++){var a=e.bindings[o],l=i[o];8&a.flags&&(s[(f=a.nonMinifiedName,"ng-reflect-"+f.replace(/[$@]/g,"_").replace(Jt,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()}))]=Yt(l))}var u=e.parent,p=si(t,u.nodeIndex).renderElement;if(u.element.name)for(var h in s)null!=(l=s[h])?t.renderer.setAttribute(p,h,l):t.renderer.removeAttribute(p,h);else t.renderer.setValue(p,"bindings="+JSON.stringify(s,null,2))}}var f}function oa(t,e,r,n){Eo.apply(void 0,c([t,e,r],n))}function aa(t,e){for(var r=e;r<t.def.nodes.length;r++){var n=t.def.nodes[r];if(16384&n.flags&&n.bindings&&n.bindings.length)return r}return null}function la(t,e){for(var r=e;r<t.def.nodes.length;r++){var n=t.def.nodes[r];if(3&n.flags&&n.bindings&&n.bindings.length)return r}return null}var ua=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var r=this.nodeDef,n=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&n;)r=Ti(n),n=n.parent;this.elDef=r,this.elView=n}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return si(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return xs(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var r=this.elView.def.nodes[e];20224&r.flags&&t.push(r.provider.token),e+=r.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){ca(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var r=this.elView.def.nodes[e];20224&r.flags&&ca(this.elView,r,t),e+=r.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!Ii(t);)t=t.parent;return t.parent?si(t.parent,Ti(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ki(this.view,this.nodeDef):ki(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,r,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];2&this.nodeDef.flags?(e=this.view.def,r=this.nodeDef.nodeIndex):(e=this.elView.def,r=this.elDef.nodeIndex);var s=function(t,e){for(var r=-1,n=0;n<=e;n++)3&t.nodes[n].flags&&r++;return r}(e,r),o=-1;e.factory(function(){var e;return++o===s?(e=t.error).bind.apply(e,c([t],n)):fi}),o<s&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,c(n)))},t}();function ca(t,e,r){for(var n in e.references)r[n]=eo(t,e,e.references[n])}function pa(t,e,r,n){var i=Zo,s=Jo,o=Yo;try{Zo=t;var a=e.apply(r,n);return Jo=s,Yo=o,Zo=i,a}catch(l){if(Sr(l)||!Jo)throw l;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),pi(t,e),t}(l,ha())}}function ha(){return Jo?new ua(Jo,Yo):null}var fa=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new da(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),da=function(){function t(t){this.delegate=t,this.debugContextFactory=ha,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){Pn.delete(t.nativeNode)}(Dn(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var r=this.delegate.createElement(t,e),n=this.createDebugContext(r);if(n){var i=new Nn(r,null,n);i.name=t,Rn(i)}return r},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),r=this.createDebugContext(e);return r&&Rn(new In(e,null,r)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),r=this.createDebugContext(e);return r&&Rn(new In(e,null,r)),e},t.prototype.appendChild=function(t,e){var r=Dn(t),n=Dn(e);r&&n&&r instanceof Nn&&r.addChild(n),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,r){var n=Dn(t),i=Dn(e),s=Dn(r);n&&i&&n instanceof Nn&&n.insertBefore(s,i),this.delegate.insertBefore(t,e,r)},t.prototype.removeChild=function(t,e){var r=Dn(t),n=Dn(e);r&&n&&r instanceof Nn&&r.removeChild(n),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var r=this.delegate.selectRootElement(t,e),n=ha();return n&&Rn(new Nn(r,null,n)),r},t.prototype.setAttribute=function(t,e,r,n){var i=Dn(t);i&&i instanceof Nn&&(i.attributes[n?n+":"+e:e]=r),this.delegate.setAttribute(t,e,r,n)},t.prototype.removeAttribute=function(t,e,r){var n=Dn(t);n&&n instanceof Nn&&(n.attributes[r?r+":"+e:e]=null),this.delegate.removeAttribute(t,e,r)},t.prototype.addClass=function(t,e){var r=Dn(t);r&&r instanceof Nn&&(r.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var r=Dn(t);r&&r instanceof Nn&&(r.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,r,n){var i=Dn(t);i&&i instanceof Nn&&(i.styles[e]=r),this.delegate.setStyle(t,e,r,n)},t.prototype.removeStyle=function(t,e,r){var n=Dn(t);n&&n instanceof Nn&&(n.styles[e]=null),this.delegate.removeStyle(t,e,r)},t.prototype.setProperty=function(t,e,r){var n=Dn(t);n&&n instanceof Nn&&(n.properties[e]=r),this.delegate.setProperty(t,e,r)},t.prototype.listen=function(t,e,r){if("string"!=typeof t){var n=Dn(t);n&&n.listeners.push(new kn(e,r))}return this.delegate.listen(t,e,r)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function ma(t,e,r){return new ga(t,e,r)}var ga=function(t){function e(e,r,n){var i=t.call(this)||this;return i.moduleType=e,i._bootstrapComponents=r,i._ngModuleDefFactory=n,i}return i(e,t),e.prototype.create=function(t){!function(){if(!Po){Po=!0;var t=Xe()?{setCurrentNode:ea,createRootView:Ro,createEmbeddedView:Mo,createComponentView:Lo,createNgModuleRef:Fo,overrideProvider:Vo,overrideComponentView:$o,clearOverrides:qo,checkAndUpdateView:Qo,checkNoChangesView:Wo,destroyView:Ko,createDebugContext:function(t,e){return new ua(t,e)},handleEvent:ra,updateDirectives:na,updateRenderer:ia}:{setCurrentNode:function(){},createRootView:Do,createEmbeddedView:ho,createComponentView:mo,createNgModuleRef:Os,overrideProvider:fi,overrideComponentView:fi,clearOverrides:fi,checkAndUpdateView:_o,checkNoChangesView:yo,destroyView:So,createDebugContext:function(t,e){return new ua(t,e)},handleEvent:function(t,e,r,n){return t.def.handleEvent(t,e,r,n)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?Go:Xo,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?Go:Xo,t)}};ui.setCurrentNode=t.setCurrentNode,ui.createRootView=t.createRootView,ui.createEmbeddedView=t.createEmbeddedView,ui.createComponentView=t.createComponentView,ui.createNgModuleRef=t.createNgModuleRef,ui.overrideProvider=t.overrideProvider,ui.overrideComponentView=t.overrideComponentView,ui.clearOverrides=t.clearOverrides,ui.checkAndUpdateView=t.checkAndUpdateView,ui.checkNoChangesView=t.checkNoChangesView,ui.destroyView=t.destroyView,ui.resolveDep=Gs,ui.createDebugContext=t.createDebugContext,ui.handleEvent=t.handleEvent,ui.updateDirectives=t.updateDirectives,ui.updateRenderer=t.updateRenderer,ui.dirtyParentQueries=Js}}();var e=function(t){var e=Array.from(t.providers),r=Array.from(t.modules),n={};for(var i in t.providersByKey)n[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:r,providersByKey:n}}(Mi(this._ngModuleDefFactory));return ui.createNgModuleRef(this.moduleType,t||ce.NULL,this._bootstrapComponents,e)},e}(Re),ba=function(){return function(){}}(),va=function(){function t(){this.title="personal page"}return t.prototype.onActivate=function(t){var e,r=window.setInterval(function(){(e=window.pageYOffset)>0?window.scrollTo(0,e-40):window.clearInterval(r)},16)},t}(),ya=function(){return function(){}}(),_a=new Et("Location Initialized"),xa=function(){return function(){}}(),wa=new Et("appBaseHref"),Ea=function(){function t(t){var r=this;this._subject=new dr,this._platformStrategy=t;var n=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(Aa(n)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,r){return void 0===r&&(r=""),this.path()==this.normalize(t+e.normalizeQueryParams(r))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Aa(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,r){void 0===e&&(e=""),void 0===r&&(r=null),this._platformStrategy.pushState(r,"",t,e)},t.prototype.replaceState=function(t,e,r){void 0===e&&(e=""),void 0===r&&(r=null),this._platformStrategy.replaceState(r,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,r){return this._subject.subscribe({next:t,error:e,complete:r})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var r=0;return t.endsWith("/")&&r++,e.startsWith("/")&&r++,2==r?t+e.substring(1):1==r?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),r=e&&e.index||t.length;return t.slice(0,r-("/"===t[r-1]?1:0))+t.slice(r)},t}();function Aa(t){return t.replace(/\/index.html$/,"")}var Sa=function(t){function e(e,r){var n=t.call(this)||this;return n._platformLocation=e,n._baseHref="",null!=r&&(n._baseHref=r),n}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Ea.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,r,n){var i=this.prepareExternalUrl(r+Ea.normalizeQueryParams(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,r,n){var i=this.prepareExternalUrl(r+Ea.normalizeQueryParams(n));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(xa),Oa=function(t){function e(e,r){var n=t.call(this)||this;if(n._platformLocation=e,null==r&&(r=n._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return n._baseHref=r,n}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Ea.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Ea.normalizeQueryParams(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?""+e+r:e},e.prototype.pushState=function(t,e,r,n){var i=this.prepareExternalUrl(r+Ea.normalizeQueryParams(n));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,r,n){var i=this.prepareExternalUrl(r+Ea.normalizeQueryParams(n));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(xa),Ca=void 0,Ta=["en",[["a","p"],["AM","PM"],Ca],[["AM","PM"],Ca,Ca],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ca,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ca,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ca,"{1} 'at' {0}",Ca],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===r?1:5}],ka={},Ia=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Na=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}({}),Pa=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}({}),Da=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}({}),Ra=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t[1/0]=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}({});function ja(t,e){return Ba(Va(t)[10],e)}function Ma(t,e){return Ba(Va(t)[11],e)}function La(t,e){return Ba(Va(t)[12],e)}function Fa(t,e){var r=Va(t),n=r[13][e];if(void 0===n){if(e===Ra.CurrencyDecimal)return r[13][Ra.Decimal];if(e===Ra.CurrencyGroup)return r[13][Ra.Group]}return n}function Ua(t){if(!t[19])throw new Error('Missing extra locale data for the locale "'+t[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function Ba(t,e){for(var r=e;r>-1;r--)if(void 0!==t[r])return t[r];throw new Error("Locale data API: locale data undefined")}function za(t){var e=u(t.split(":"),2);return{hours:+e[0],minutes:+e[1]}}function Va(t){var e=t.toLowerCase().replace(/_/g,"-"),r=ka[e];if(r)return r;var n=e.split("-")[0];if(r=ka[n])return r;if("en"===n)return Ta;throw new Error('Missing locale data for the locale "'+t+'".')}var $a=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qa={},Ha=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Ga=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}({}),Xa=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}({}),Qa=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}({});function Wa(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),t}function Ka(t,e,r,n,i){void 0===r&&(r="-");var s="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,s=r));for(var o=String(t);o.length<e;)o="0"+o;return n&&(o=o.substr(o.length-e)),s+o}function Za(t,e,r,n,i){return void 0===r&&(r=0),void 0===n&&(n=!1),void 0===i&&(i=!1),function(s,o){var a,l=function(t,e){switch(t){case Xa.FullYear:return e.getFullYear();case Xa.Month:return e.getMonth();case Xa.Date:return e.getDate();case Xa.Hours:return e.getHours();case Xa.Minutes:return e.getMinutes();case Xa.Seconds:return e.getSeconds();case Xa.FractionalSeconds:return e.getMilliseconds();case Xa.Day:return e.getDay();default:throw new Error('Unknown DateType value "'+t+'".')}}(t,s);if((r>0||l>-r)&&(l+=r),t===Xa.Hours)0===l&&-12===r&&(l=12);else if(t===Xa.FractionalSeconds)return a=e,Ka(l,3).substr(0,a);var u=Fa(o,Ra.MinusSign);return Ka(l,e,u,n,i)}}function Ja(t,e,r,n){return void 0===r&&(r=Na.Format),void 0===n&&(n=!1),function(i,s){return function(t,e,r,n,i,s){switch(r){case Qa.Months:return function(t,e,r){var n=Va(t),i=Ba([n[5],n[6]],e);return Ba(i,r)}(e,i,n)[t.getMonth()];case Qa.Days:return function(t,e,r){var n=Va(t),i=Ba([n[3],n[4]],e);return Ba(i,r)}(e,i,n)[t.getDay()];case Qa.DayPeriods:var o=t.getHours(),a=t.getMinutes();if(s){var l,u=function(t){var e=Va(t);return Ua(e),(e[19][2]||[]).map(function(t){return"string"==typeof t?za(t):[za(t[0]),za(t[1])]})}(e),c=function(t,e,r){var n=Va(t);Ua(n);var i=Ba([n[19][0],n[19][1]],e)||[];return Ba(i,r)||[]}(e,i,n);if(u.forEach(function(t,e){if(Array.isArray(t)){var r=t[0],n=t[1],i=n.hours;o>=r.hours&&a>=r.minutes&&(o<i||o===i&&a<n.minutes)&&(l=c[e])}else t.hours===o&&t.minutes===a&&(l=c[e])}),l)return l}return function(t,e,r){var n=Va(t),i=Ba([n[1],n[2]],e);return Ba(i,r)}(e,i,n)[o<12?0:1];case Qa.Eras:return function(t,e){return Ba(Va(t)[7],e)}(e,n)[t.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+r)}}(i,s,t,e,r,n)}}function Ya(t){return function(e,r,n){var i=-1*n,s=Fa(r,Ra.MinusSign),o=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case Ga.Short:return(i>=0?"+":"")+Ka(o,2,s)+Ka(Math.abs(i%60),2,s);case Ga.ShortGMT:return"GMT"+(i>=0?"+":"")+Ka(o,1,s);case Ga.Long:return"GMT"+(i>=0?"+":"")+Ka(o,2,s)+":"+Ka(Math.abs(i%60),2,s);case Ga.Extended:return 0===n?"Z":(i>=0?"+":"")+Ka(o,2,s)+":"+Ka(Math.abs(i%60),2,s);default:throw new Error('Unknown zone width "'+t+'"')}}}var tl=0,el=4;function rl(t,e){return void 0===e&&(e=!1),function(r,n){var i,s,o,a;if(e){var l=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,u=r.getDate();i=1+Math.floor((u+l)/7)}else{var c=(o=r.getFullYear(),a=new Date(o,tl,1).getDay(),new Date(o,0,1+(a<=el?el:el+7)-a)),p=(s=r,new Date(s.getFullYear(),s.getMonth(),s.getDate()+(el-s.getDay()))).getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Ka(i,t,Fa(n,Ra.MinusSign))}}var nl={};function il(t,e){t=t.replace(/:/g,"");var r=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(r)?e:r}function sl(t){return t instanceof Date&&!isNaN(t.valueOf())}var ol=new Et("UseV4Plurals"),al=function(){return function(){}}(),ll=function(t){function e(e,r){var n=t.call(this)||this;return n.locale=e,n.deprecatedPluralFn=r,n}return i(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return Va(t)[18]}(e||this.locale)(t)){case Ia.Zero:return"zero";case Ia.One:return"one";case Ia.Two:return"two";case Ia.Few:return"few";case Ia.Many:return"many";default:return"other"}},e}(al);function ul(t,e){var r,n;e=encodeURIComponent(e);try{for(var i=l(t.split(";")),s=i.next();!s.done;s=i.next()){var o=s.value,a=o.indexOf("="),c=u(-1==a?[o,""]:[o.slice(0,a),o.slice(a+1)],2),p=c[1];if(c[0].trim()===e)return decodeURIComponent(p)}}catch(h){r={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null}var cl=function(){function t(t,e,r,n){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=n}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),pl=function(){function t(t,e,r){this._viewContainer=t,this._template=e,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Xe()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}},t.prototype._applyChanges=function(t){var e=this,r=[];t.forEachOperation(function(t,n,i){if(null==t.previousIndex){var s=e._viewContainer.createEmbeddedView(e._template,new cl(null,e._ngForOf,-1,-1),i),o=new hl(t,s);r.push(o)}else null==i?e._viewContainer.remove(n):(s=e._viewContainer.get(n),e._viewContainer.move(s,i),o=new hl(t,s),r.push(o))});for(var n=0;n<r.length;n++)this._perViewChange(r[n].view,r[n].record);n=0;for(var i=this._viewContainer.length;n<i;n++){var s=this._viewContainer.get(n);s.context.index=n,s.context.count=i,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),hl=function(){return function(t,e){this.record=t,this.view=e}}(),fl=function(){function t(t,e){this._viewContainer=t,this._context=new dl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){ml("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){ml("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateGuard_ngIf=function(t,e){return!0},t}(),dl=function(){return function(){this.$implicit=null,this.ngIf=null}}();function ml(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Ft(e)+"'.")}var gl=function(){function t(t){this.locale=t}var e;return e=t,t.prototype.transform=function(t,r,n,i){if(void 0===r&&(r="mediumDate"),null==t||""===t||t!=t)return null;try{return function(t,e,r,n){var i=function(t){if(sl(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){t=t.trim();var e,r=parseFloat(t);if(!isNaN(t-r))return new Date(r);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(t)){var n=u(t.split("-").map(function(t){return+t}),3);return new Date(n[0],n[1]-1,n[2])}if(e=t.match($a))return function(t){var e=new Date(0),r=0,n=0,i=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(r=Number(t[9]+t[10]),n=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));var o=Number(t[4]||0)-r,a=Number(t[5]||0)-n,l=Number(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return s.call(e,o,a,l,u),e}(e)}var i=new Date(t);if(!sl(i))throw new Error('Unable to convert "'+t+'" into a date');return i}(t);e=function t(e,r){var n=function(t){return Va(t)[0]}(e);if(qa[n]=qa[n]||{},qa[n][r])return qa[n][r];var i="";switch(r){case"shortDate":i=ja(e,Da.Short);break;case"mediumDate":i=ja(e,Da.Medium);break;case"longDate":i=ja(e,Da.Long);break;case"fullDate":i=ja(e,Da.Full);break;case"shortTime":i=Ma(e,Da.Short);break;case"mediumTime":i=Ma(e,Da.Medium);break;case"longTime":i=Ma(e,Da.Long);break;case"fullTime":i=Ma(e,Da.Full);break;case"short":var s=t(e,"shortTime"),o=t(e,"shortDate");i=Wa(La(e,Da.Short),[s,o]);break;case"medium":var a=t(e,"mediumTime"),l=t(e,"mediumDate");i=Wa(La(e,Da.Medium),[a,l]);break;case"long":var u=t(e,"longTime"),c=t(e,"longDate");i=Wa(La(e,Da.Long),[u,c]);break;case"full":var p=t(e,"fullTime"),h=t(e,"fullDate");i=Wa(La(e,Da.Full),[p,h])}return i&&(qa[n][r]=i),i}(r,e)||e;for(var s,o=[];e;){if(!(s=Ha.exec(e))){o.push(e);break}var a=(o=o.concat(s.slice(1))).pop();if(!a)break;e=a}var l=i.getTimezoneOffset();n&&(l=il(n,l),i=function(t,e,r){var n=t.getTimezoneOffset();return function(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,-1*(il(e,n)-n))}(i,n));var c="";return o.forEach(function(t){var e=function(t){if(nl[t])return nl[t];var e;switch(t){case"G":case"GG":case"GGG":e=Ja(Qa.Eras,Pa.Abbreviated);break;case"GGGG":e=Ja(Qa.Eras,Pa.Wide);break;case"GGGGG":e=Ja(Qa.Eras,Pa.Narrow);break;case"y":e=Za(Xa.FullYear,1,0,!1,!0);break;case"yy":e=Za(Xa.FullYear,2,0,!0,!0);break;case"yyy":e=Za(Xa.FullYear,3,0,!1,!0);break;case"yyyy":e=Za(Xa.FullYear,4,0,!1,!0);break;case"M":case"L":e=Za(Xa.Month,1,1);break;case"MM":case"LL":e=Za(Xa.Month,2,1);break;case"MMM":e=Ja(Qa.Months,Pa.Abbreviated);break;case"MMMM":e=Ja(Qa.Months,Pa.Wide);break;case"MMMMM":e=Ja(Qa.Months,Pa.Narrow);break;case"LLL":e=Ja(Qa.Months,Pa.Abbreviated,Na.Standalone);break;case"LLLL":e=Ja(Qa.Months,Pa.Wide,Na.Standalone);break;case"LLLLL":e=Ja(Qa.Months,Pa.Narrow,Na.Standalone);break;case"w":e=rl(1);break;case"ww":e=rl(2);break;case"W":e=rl(1,!0);break;case"d":e=Za(Xa.Date,1);break;case"dd":e=Za(Xa.Date,2);break;case"E":case"EE":case"EEE":e=Ja(Qa.Days,Pa.Abbreviated);break;case"EEEE":e=Ja(Qa.Days,Pa.Wide);break;case"EEEEE":e=Ja(Qa.Days,Pa.Narrow);break;case"EEEEEE":e=Ja(Qa.Days,Pa.Short);break;case"a":case"aa":case"aaa":e=Ja(Qa.DayPeriods,Pa.Abbreviated);break;case"aaaa":e=Ja(Qa.DayPeriods,Pa.Wide);break;case"aaaaa":e=Ja(Qa.DayPeriods,Pa.Narrow);break;case"b":case"bb":case"bbb":e=Ja(Qa.DayPeriods,Pa.Abbreviated,Na.Standalone,!0);break;case"bbbb":e=Ja(Qa.DayPeriods,Pa.Wide,Na.Standalone,!0);break;case"bbbbb":e=Ja(Qa.DayPeriods,Pa.Narrow,Na.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ja(Qa.DayPeriods,Pa.Abbreviated,Na.Format,!0);break;case"BBBB":e=Ja(Qa.DayPeriods,Pa.Wide,Na.Format,!0);break;case"BBBBB":e=Ja(Qa.DayPeriods,Pa.Narrow,Na.Format,!0);break;case"h":e=Za(Xa.Hours,1,-12);break;case"hh":e=Za(Xa.Hours,2,-12);break;case"H":e=Za(Xa.Hours,1);break;case"HH":e=Za(Xa.Hours,2);break;case"m":e=Za(Xa.Minutes,1);break;case"mm":e=Za(Xa.Minutes,2);break;case"s":e=Za(Xa.Seconds,1);break;case"ss":e=Za(Xa.Seconds,2);break;case"S":e=Za(Xa.FractionalSeconds,1);break;case"SS":e=Za(Xa.FractionalSeconds,2);break;case"SSS":e=Za(Xa.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ya(Ga.Short);break;case"ZZZZZ":e=Ya(Ga.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ya(Ga.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ya(Ga.Long);break;default:return null}return nl[t]=e,e}(t);c+=e?e(i,r,l):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(t,r,i||this.locale,n)}catch(s){throw Error("InvalidPipeArgument: '"+s.message+"' for pipe '"+Ft(e)+"'")}},t}(),bl=function(){return function(){}}(),vl=new Et("DocumentToken"),yl="server",_l=function(){function t(){}return t.ngInjectableDef=xt({providedIn:"root",factory:function(){return new xl(Zt(vl),window)}}),t}(),xl=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var r=this.document.querySelector("[name='"+t+"']");if(r)return void this.scrollToElement(r)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,n=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],n-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),wl=new D(function(t){return t.complete()});function El(t){return t?function(t){return new D(function(e){return t.schedule(function(){return e.complete()})})}(t):wl}function Al(t){var e=new D(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function Sl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];switch(z(r)?t.pop():r=void 0,t.length){case 0:return El(r);case 1:return r?nt(t,r):Al(t[0]);default:return nt(t,r)}}var Ol=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new M;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(U);function Cl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Cl.prototype=Object.create(Error.prototype);var Tl=Cl,kl={},Il=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Nl(t,this.resultSelector))},t}(),Nl=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return i(e,t),e.prototype._next=function(t){this.values.push(kl),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(J(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var s=this.values,o=this.toRespond?s[r]===kl?--this.toRespond:this.toRespond:0;s[r]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},e}(Y);function Pl(t){return new D(function(e){var r;try{r=t()}catch(n){return void e.error(n)}return(r?it(r):El()).subscribe(e)})}function Dl(){return ut(1)}function Rl(t,e){return function(r){return r.lift(new jl(t,e))}}var jl=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ml(t,this.predicate,this.thisArg))},t}(),Ml=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},e}(C);function Ll(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Ll.prototype=Object.create(Error.prototype);var Fl=Ll;function Ul(t){return function(e){return 0===t?El():e.lift(new Bl(t))}}var Bl=function(){function t(t){if(this.total=t,this.total<0)throw new Fl}return t.prototype.call=function(t,e){return e.subscribe(new zl(t,this.total))},t}(),zl=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.ring=new Array,n.count=0,n}return i(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var s=e++%r;t.next(n[s])}t.complete()},e}(C);function Vl(t,e,r){return function(n){return n.lift(new $l(t,e,r))}}var $l=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new ql(t,this.nextOrObserver,this.error,this.complete))},t}(),ql=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s._tapNext=I,s._tapError=I,s._tapComplete=I,s._tapError=n||I,s._tapComplete=i||I,f(r)?(s._context=s,s._tapNext=r):r&&(s._context=r,s._tapNext=r.next||I,s._tapError=r.error||I,s._tapComplete=r.complete||I),s}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(C),Hl=function(t){return void 0===t&&(t=Gl),Vl({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function Gl(){return new Tl}function Xl(t){return void 0===t&&(t=null),function(e){return e.lift(new Ql(t))}}var Ql=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Wl(t,this.defaultValue))},t}(),Wl=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(C);function Kl(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Rl(function(e,r){return t(e,r,n)}):lt,Ul(1),r?Xl(e):Hl(function(){return new Tl}))}}function Zl(t){return function(e){var r=new Jl(t),n=e.lift(r);return r.caught=n}}var Jl=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Yl(t,this.selector,this.caught))},t}(),Yl=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.selector=r,i.caught=n,i}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(i){return void t.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var n=new V(this,void 0,void 0);this.add(n),J(this,r,void 0,void 0,n)}},e}(Y);function tu(t){return function(e){return 0===t?El():e.lift(new eu(t))}}var eu=function(){function t(t){if(this.total=t,this.total<0)throw new Fl}return t.prototype.call=function(t,e){return e.subscribe(new ru(t,this.total))},t}(),ru=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return i(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(C);function nu(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?Rl(function(e,r){return t(e,r,n)}):lt,tu(1),r?Xl(e):Hl(function(){return new Tl}))}}var iu=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new su(t,this.predicate,this.thisArg,this.source))},t}(),su=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s.predicate=r,s.thisArg=n,s.source=i,s.index=0,s.thisArg=n||s,s}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(r){return void this.destination.error(r)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(C);function ou(t,e){return"function"==typeof e?function(r){return r.pipe(ou(function(r,n){return it(t(r,n)).pipe(tt(function(t,i){return e(r,t,n,i)}))}))}:function(e){return e.lift(new au(t))}}var au=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new lu(t,this.project))},t}(),lu=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return i(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new V(this,void 0,void 0);this.destination.add(i),this.innerSubscription=J(this,t,e,r,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e}(Y);function uu(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new cu(t,e,r))}}var cu=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new pu(t,this.accumulator,this.seed,this.hasSeed))},t}(),pu=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s.accumulator=r,s._seed=n,s.hasSeed=i,s.index=0,s}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(n){this.destination.error(n)}this.seed=e,this.destination.next(e)},e}(C);function hu(t,e){return st(t,e,1)}var fu=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new du(t,this.callback))},t}(),du=function(t){function e(e,r){var n=t.call(this,e)||this;return n.add(new _(r)),n}return i(e,t),e}(C),mu=null;function gu(){return mu}var bu,vu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},yu={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_u={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Pt.Node&&(bu=Pt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var xu,wu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,mu||(mu=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,r){t[e]=r},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,r){var n;(n=t)[e].apply(n,c(r))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return vu},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return bu.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,r){t.addEventListener(e,r,!1)},e.prototype.onAndCancel=function(t,e,r){return t.addEventListener(e,r,!1),function(){t.removeEventListener(e,r,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,r=new Array(e.length),n=0;n<e.length;n++)r[n]=e[n];return r},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,r){t.replaceChild(e,r)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,r){t.insertBefore(r,e)},e.prototype.insertAllBefore=function(t,e,r){r.forEach(function(r){return t.insertBefore(r,e)})},e.prototype.insertAfter=function(t,e,r){t.insertBefore(r,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,r){return(r=r||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,r){var n=(r=r||this.getDefaultDocument()).createElement("SCRIPT");return n.setAttribute(t,e),n},e.prototype.createStyleElement=function(t,e){var r=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(r,this.createTextNode(t,e)),r},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,r){t.style[e]=r},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,r){var n=this.getStyle(t,e)||"";return r?n==r:n.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,r=t.attributes,n=0;n<r.length;n++){var i=r.item(n);e.set(i.name,i.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,r){return t.hasAttributeNS(e,r)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,r){return t.getAttributeNS(e,r)},e.prototype.setAttribute=function(t,e,r){t.setAttribute(e,r)},e.prototype.setAttributeNS=function(t,e,r,n){t.setAttributeNS(e,r,n)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,r){t.removeAttributeNS(e,r)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_u.hasOwnProperty(e)&&(e=_u[e]))}return yu[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,r=Eu||(Eu=document.querySelector("base"))?Eu.getAttribute("href"):null;return null==r?null:(e=r,xu||(xu=document.createElement("a")),xu.setAttribute("href",e),"/"===xu.pathname.charAt(0)?xu.pathname:"/"+xu.pathname)},e.prototype.resetBaseElement=function(){Eu=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,r){this.setAttribute(t,"data-"+e,r)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return ul(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var r=e.createElement("div",document);if(null!=e.getStyle(r,"animationName"))e._animationPrefix="";else for(var n=["Webkit","Moz","O","ms"],i=0;i<n.length;i++)if(null!=e.getStyle(r,n[i]+"AnimationName")){e._animationPrefix="-"+n[i].toLowerCase()+"-";break}var s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(s).forEach(function(t){null!=e.getStyle(r,t)&&(e._transitionEnd=s[t])})}catch(o){e._animationPrefix=null,e._transitionEnd=null}return e}return i(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,r){t.href=null==r?e:e+"/../"+r},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),Eu=null,Au=vl;function Su(){return!!window.history.pushState}var Ou=function(t){function e(e){var r=t.call(this)||this;return r._doc=e,r._init(),r}var r;return i(e,t),e.prototype._init=function(){this.location=gu().getLocation(),this._history=gu().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return gu().getBaseHref(this._doc)},e.prototype.onPopState=function(t){gu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){gu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,r){Su()?this._history.pushState(t,e,r):this.location.hash=r},e.prototype.replaceState=function(t,e,r){Su()?this._history.replaceState(t,e,r):this.location.hash=r},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},o([(r=qt(Au),function(t,e){r(t,e,0)}),a("design:paramtypes",[Object])],e)}(ya),Cu=new Et("TRANSITION_ID"),Tu=[{provide:Nr,useFactory:function(t,e,r){return function(){r.get(Pr).donePromise.then(function(){var r=gu();Array.prototype.slice.apply(r.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return r.getAttribute(e,"ng-transition")===t}).forEach(function(t){return r.remove(t)})})}},deps:[Cu,Au,ce],multi:!0}],ku=function(){function t(){}return t.init=function(){var e;e=new t,pn=e},t.prototype.addToWindow=function(t){Pt.getAngularTestability=function(e,r){void 0===r&&(r=!0);var n=t.findTestabilityInTree(e,r);if(null==n)throw new Error("Could not find testability for element.");return n},Pt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Pt.getAllAngularRootElements=function(){return t.getAllRootElements()},Pt.frameworkStabilizers||(Pt.frameworkStabilizers=[]),Pt.frameworkStabilizers.push(function(t){var e=Pt.getAllAngularTestabilities(),r=e.length,n=!1,i=function(e){n=n||e,0==--r&&t(n)};e.forEach(function(t){t.whenStable(i)})})},t.prototype.findTestabilityInTree=function(t,e,r){if(null==e)return null;var n=t.getTestability(e);return null!=n?n:r?gu().isShadowRoot(e)?this.findTestabilityInTree(t,gu().getHost(e),!0):this.findTestabilityInTree(t,gu().parentElement(e),!0):null},t}();function Iu(t,e){"undefined"!=typeof COMPILED&&COMPILED||((Pt.ng=Pt.ng||{})[t]=e)}var Nu={ApplicationRef:vn,NgZone:tn};function Pu(t){return Dn(t)}var Du=new Et("EventManagerPlugins"),Ru=function(){function t(t,e){var r=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=r}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,r){return this._findPluginFor(e).addEventListener(t,e,r)},t.prototype.addGlobalEventListener=function(t,e,r){return this._findPluginFor(e).addGlobalEventListener(t,e,r)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var r=this._plugins,n=0;n<r.length;n++){var i=r[n];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t}(),ju=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,r){var n=gu().getGlobalEventTarget(this._doc,t);if(!n)throw new Error("Unsupported event target "+n+" for event "+e);return this.addEventListener(n,e,r)},t}(),Mu=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,r=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),r.add(t))}),this.onStylesAdded(r)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),Lu=function(t){function e(e){var r=t.call(this)||this;return r._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return i(e,t),e.prototype._addStylesToHost=function(t,e){var r=this;t.forEach(function(t){var n=r._doc.createElement("style");n.textContent=t,r._styleNodes.add(e.appendChild(n))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(r){return e._addStylesToHost(t,r)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return gu().remove(t)})},e}(Mu),Fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Uu=/%COMP%/g,Bu="_nghost-%COMP%",zu="_ngcontent-%COMP%";function Vu(t,e,r){for(var n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?Vu(t,i,r):(i=i.replace(Uu,t),r.push(i))}return r}function $u(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var qu=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Hu(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case $t.Emulated:var r=this.rendererByCompId.get(e.id);return r||(r=new Wu(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,r)),r.applyToHost(t),r;case $t.Native:case $t.ShadowDom:return new Ku(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var n=Vu(e.id,e.styles,[]);this.sharedStylesHost.addStyles(n),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Hu=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Fu[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,r){t&&t.insertBefore(e,r)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error('The selector "'+t+'" did not match any elements');return e||(r.textContent=""),r},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,r,n){if(n){e=n+":"+e;var i=Fu[n];i?t.setAttributeNS(i,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)},t.prototype.removeAttribute=function(t,e,r){if(r){var n=Fu[r];n?t.removeAttributeNS(n,e):t.removeAttribute(r+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,r,n){n&Ue.DashCase?t.style.setProperty(e,r,n&Ue.Important?"important":""):t.style[e]=r},t.prototype.removeStyle=function(t,e,r){r&Ue.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,r){Xu(e,"property"),t[e]=r},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,r){return Xu(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$u(r)):this.eventManager.addEventListener(t,e,$u(r))},t}(),Gu="@".charCodeAt(0);function Xu(t,e){if(t.charCodeAt(0)===Gu)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Qu,Wu=function(t){function e(e,r,n){var i=t.call(this,e)||this;i.component=n;var s=Vu(n.id,n.styles,[]);return r.addStyles(s),i.contentAttr=zu.replace(Uu,n.id),i.hostAttr=Bu.replace(Uu,n.id),i}return i(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,r){var n=t.prototype.createElement.call(this,e,r);return t.prototype.setAttribute.call(this,n,this.contentAttr,""),n},e}(Hu),Ku=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;s.sharedStylesHost=r,s.hostEl=n,s.component=i,s.shadowRoot=i.encapsulation===$t.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),s.sharedStylesHost.addHost(s.shadowRoot);for(var o=Vu(i.id,i.styles,[]),a=0;a<o.length;a++){var l=document.createElement("style");l.textContent=o[a],s.shadowRoot.appendChild(l)}return s}return i(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,r){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),r)},e.prototype.insertBefore=function(e,r,n){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),r,n)},e.prototype.removeChild=function(e,r){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),r)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Hu),Zu="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},Ju=Zu("addEventListener"),Yu=Zu("removeEventListener"),tc={},ec="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Zu("BLACK_LISTED_EVENTS")]&&(Qu={});var rc=function(t){return!!Qu&&Qu.hasOwnProperty(t)},nc=function(t){var e=tc[t.type];if(e){var r=this[e];if(r){var n=[t];if(1===r.length)return(o=r[0]).zone!==Zone.current?o.zone.run(o.handler,this,n):o.handler.apply(this,n);for(var i=r.slice(),s=0;s<i.length&&!0!==t[ec];s++){var o;(o=i[s]).zone!==Zone.current?o.zone.run(o.handler,this,n):o.handler.apply(this,n)}}}},ic=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.ngZone=r,n&&function(t){return t===yl}(n)||i.patchEvent(),i}return i(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[ec]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,r){var n=this,i=r;if(!t[Ju]||tn.isInAngularZone()&&!rc(e))t.addEventListener(e,i,!1);else{var s=tc[e];s||(s=tc[e]=Zu("ANGULAR"+e+"FALSE"));var o=t[s],a=o&&o.length>0;o||(o=t[s]=[]);var l=rc(e)?Zone.root:Zone.current;if(0===o.length)o.push({zone:l,handler:i});else{for(var u=!1,c=0;c<o.length;c++)if(o[c].handler===i){u=!0;break}u||o.push({zone:l,handler:i})}a||t[Ju](e,nc,!1)}return function(){return n.removeEventListener(t,e,i)}},e.prototype.removeEventListener=function(t,e,r){var n=t[Yu];if(!n)return t.removeEventListener.apply(t,[e,r,!1]);var i=tc[e],s=i&&t[i];if(!s)return t.removeEventListener.apply(t,[e,r,!1]);for(var o=!1,a=0;a<s.length;a++)if(s[a].handler===r){o=!0,s.splice(a,1);break}o?0===s.length&&n.apply(t,[e,nc,!1]):t.removeEventListener.apply(t,[e,r,!1])},e}(ju),sc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},oc=new Et("HammerGestureConfig"),ac=new Et("HammerLoader"),lc=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var r in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(r).set(this.overrides[r]);return e},t}(),uc=function(t){function e(e,r,n,i){var s=t.call(this,e)||this;return s._config=r,s.console=n,s.loader=i,s}return i(e,t),e.prototype.supports=function(t){return!(!sc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,r){var n=this,i=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var s=!1,o=function(){s=!0};return this.loader().then(function(){if(!window.Hammer)return n.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=function(){});s||(o=n.addEventListener(t,e,r))}).catch(function(){n.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),o=function(){}}),function(){o()}}return i.runOutsideAngular(function(){var s=n._config.buildHammer(t),o=function(t){i.runGuarded(function(){r(t)})};return s.on(e,o),function(){s.off(e,o),"function"==typeof s.destroy&&s.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(ju),cc=["alt","control","meta","shift"],pc={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},hc=function(t){function e(e){return t.call(this,e)||this}var r;return i(e,t),r=e,e.prototype.supports=function(t){return null!=r.parseEventName(t)},e.prototype.addEventListener=function(t,e,n){var i=r.parseEventName(e),s=r.eventCallback(i.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return gu().onAndCancel(t,i.domEventName,s)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;var i=r._normalizeKey(e.pop()),s="";if(cc.forEach(function(t){var r=e.indexOf(t);r>-1&&(e.splice(r,1),s+=t+".")}),s+=i,0!=e.length||0===i.length)return null;var o={};return o.domEventName=n,o.fullKey=s,o},e.getEventFullKey=function(t){var e="",r=gu().getEventKey(t);return" "===(r=r.toLowerCase())?r="space":"."===r&&(r="dot"),cc.forEach(function(n){n!=r&&(0,pc[n])(t)&&(e+=n+".")}),e+=r},e.eventCallback=function(t,e,n){return function(i){r.getEventFullKey(i)===t&&n.runGuarded(function(){return e(i)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(ju),fc=function(){return function(){}}(),dc=function(t){function e(e){var r=t.call(this)||this;return r._doc=e,r}return i(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case Ve.NONE:return e;case Ve.HTML:return e instanceof gc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var r=null;try{tr=tr||new Qe(t);var n=e?String(e):"";r=tr.getInertBodyElement(n);var i=5,s=n;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,n=s,s=r.innerHTML,r=tr.getInertBodyElement(n)}while(n!==s);var o=new ur,a=o.sanitizeChildren(fr(r)||r);return Xe()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(r)for(var l=fr(r)||r;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(e)));case Ve.STYLE:return e instanceof bc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(vr);return e&&Ze(e[1])===e[1]||t.match(br)&&function(t){for(var e=!0,r=!0,n=0;n<t.length;n++){var i=t.charAt(n);"'"===i&&r?e=!e:'"'===i&&e&&(r=!r)}return e&&r}(t)?t:(Xe()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case Ve.SCRIPT:if(e instanceof vc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Ve.URL:return e instanceof _c||e instanceof yc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),Ze(String(e)));case Ve.RESOURCE_URL:if(e instanceof _c)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof mc)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new gc(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new bc(t)},e.prototype.bypassSecurityTrustScript=function(t){return new vc(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new yc(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new _c(t)},e}(fc),mc=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(mc),bc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"Style"},e}(mc),vc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"Script"},e}(mc),yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"URL"},e}(mc),_c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(mc),xc=dn(Kn,"browser",[{provide:Lr,useValue:"browser"},{provide:Mr,useValue:function(){wu.makeCurrent(),ku.init()},multi:!0},{provide:ya,useClass:Ou,deps:[Au]},{provide:Au,useFactory:function(){return document},deps:[]}]);function wc(){return new Tr}var Ec=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:Dr,useValue:t.appId},{provide:Cu,useExisting:Dr},Tu]}},t}();"undefined"!=typeof window&&window;var Ac=function(){return function(t,e){this.id=t,this.url=e}}(),Sc=function(t){function e(e,r,n,i){void 0===n&&(n="imperative"),void 0===i&&(i=null);var s=t.call(this,e,r)||this;return s.navigationTrigger=n,s.restoredState=i,s}return i(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Ac),Oc=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.urlAfterRedirects=n,i}return i(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Ac),Cc=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.reason=n,i}return i(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Ac),Tc=function(t){function e(e,r,n){var i=t.call(this,e,r)||this;return i.error=n,i}return i(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Ac),kc=function(t){function e(e,r,n,i){var s=t.call(this,e,r)||this;return s.urlAfterRedirects=n,s.state=i,s}return i(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ac),Ic=function(t){function e(e,r,n,i){var s=t.call(this,e,r)||this;return s.urlAfterRedirects=n,s.state=i,s}return i(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ac),Nc=function(t){function e(e,r,n,i,s){var o=t.call(this,e,r)||this;return o.urlAfterRedirects=n,o.state=i,o.shouldActivate=s,o}return i(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Ac),Pc=function(t){function e(e,r,n,i){var s=t.call(this,e,r)||this;return s.urlAfterRedirects=n,s.state=i,s}return i(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ac),Dc=function(t){function e(e,r,n,i){var s=t.call(this,e,r)||this;return s.urlAfterRedirects=n,s.state=i,s}return i(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Ac),Rc=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),jc=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Mc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Lc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Fc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Uc=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Bc=function(){function t(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),zc=function(){return function(){}}(),Vc="primary",$c=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function qc(t){return new $c(t)}var Hc="ngNavigationCancelingError";function Gc(t){var e=Error("NavigationCancelingError: "+t);return e[Hc]=!0,e}function Xc(t,e,r){var n=r.path.split("/");if(n.length>t.length)return null;if("full"===r.pathMatch&&(e.hasChildren()||n.length<t.length))return null;for(var i={},s=0;s<n.length;s++){var o=n[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:i}}var Qc=function(){return function(t,e){this.routes=t,this.module=e}}();function Wc(t,e){void 0===e&&(e="");for(var r=0;r<t.length;r++){var n=t[r];Kc(n,Zc(e,n))}}function Kc(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Vc)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Wc(t.children,e)}function Zc(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Jc(t){var e=t.children&&t.children.map(Jc),r=e?s({},t,{children:e}):s({},t);return!r.component&&(e||r.loadChildren)&&r.outlet&&r.outlet!==Vc&&(r.component=zc),r}function Yc(t,e){var r,n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var s=0;s<n.length;s++)if(t[r=n[s]]!==e[r])return!1;return!0}function tp(t){return Array.prototype.concat.apply([],t)}function ep(t){return t.length>0?t[t.length-1]:null}function rp(t,e){for(var r in t)t.hasOwnProperty(r)&&e(t[r],r)}function np(t){return Ir(t)?t:kr(t)?it(Promise.resolve(t)):Sl(t)}function ip(t,e,r){return r?function(t,e){return Yc(t,e)}(t.queryParams,e.queryParams)&&function t(e,r){if(!lp(e.segments,r.segments))return!1;if(e.numberOfChildren!==r.numberOfChildren)return!1;for(var n in r.children){if(!e.children[n])return!1;if(!t(e.children[n],r.children[n]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(r){return e[r]===t[r]})}(t.queryParams,e.queryParams)&&function t(e,r){return function e(r,n,i){if(r.segments.length>i.length)return!!lp(o=r.segments.slice(0,i.length),i)&&!n.hasChildren();if(r.segments.length===i.length){if(!lp(r.segments,i))return!1;for(var s in n.children){if(!r.children[s])return!1;if(!t(r.children[s],n.children[s]))return!1}return!0}var o=i.slice(0,r.segments.length),a=i.slice(r.segments.length);return!!lp(r.segments,o)&&!!r.children[Vc]&&e(r.children[Vc],n,a)}(e,r,r.segments)}(t.root,e.root)}var sp=function(){function t(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return hp.serialize(this)},t}(),op=function(){function t(t,e){var r=this;this.segments=t,this.children=e,this.parent=null,rp(e,function(t,e){return t.parent=r})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return fp(this)},t}(),ap=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=qc(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return yp(this)},t}();function lp(t,e){return t.length===e.length&&t.every(function(t,r){return t.path===e[r].path})}function up(t,e){var r=[];return rp(t.children,function(t,n){n===Vc&&(r=r.concat(e(t,n)))}),rp(t.children,function(t,n){n!==Vc&&(r=r.concat(e(t,n)))}),r}var cp=function(){return function(){}}(),pp=function(){function t(){}return t.prototype.parse=function(t){var e=new Ap(t);return new sp(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,r;return"/"+function t(e,r){if(!e.hasChildren())return fp(e);if(r){var n=e.children[Vc]?t(e.children[Vc],!1):"",i=[];return rp(e.children,function(e,r){r!==Vc&&i.push(r+":"+t(e,!1))}),i.length>0?n+"("+i.join("//")+")":n}var s=up(e,function(r,n){return n===Vc?[t(e.children[Vc],!1)]:[n+":"+t(r,!1)]});return fp(e)+"/("+s.join("//")+")"}(t.root,!0)+(e=t.queryParams,(r=Object.keys(e).map(function(t){var r=e[t];return Array.isArray(r)?r.map(function(e){return mp(t)+"="+mp(e)}).join("&"):mp(t)+"="+mp(r)})).length?"?"+r.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),hp=new pp;function fp(t){return t.segments.map(function(t){return yp(t)}).join("/")}function dp(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function mp(t){return dp(t).replace(/%3B/gi,";")}function gp(t){return dp(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bp(t){return decodeURIComponent(t)}function vp(t){return bp(t.replace(/\+/g,"%20"))}function yp(t){return""+gp(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+gp(t)+"="+gp(e[t])}).join(""));var e}var _p=/^[^\/()?;=#]+/;function xp(t){var e=t.match(_p);return e?e[0]:""}var wp=/^[^=?&#]+/,Ep=/^[^?&#]+/,Ap=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new op([],{}):new op([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[Vc]=new op(t,e)),r},t.prototype.parseSegment=function(){var t=xp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new ap(bp(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=xp(this.remaining);if(e){this.capture(e);var r="";if(this.consumeOptional("=")){var n=xp(this.remaining);n&&this.capture(r=n)}t[bp(e)]=bp(r)}},t.prototype.parseQueryParam=function(t){var e,r=(e=this.remaining.match(wp))?e[0]:"";if(r){this.capture(r);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Ep);return e?e[0]:""}(this.remaining);i&&this.capture(n=i)}var s=vp(r),o=vp(n);if(t.hasOwnProperty(s)){var a=t[s];Array.isArray(a)||(t[s]=a=[a]),a.push(o)}else t[s]=o}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var r=xp(this.remaining),n=this.remaining[r.length];if("/"!==n&&")"!==n&&";"!==n)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;r.indexOf(":")>-1?(i=r.substr(0,r.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Vc);var s=this.parseChildren();e[i]=1===Object.keys(s).length?s[Vc]:new op([],s),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Sp=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Op(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=Op(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Cp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return Cp(t,this._root).map(function(t){return t.value})},t}();function Op(t,e){var r,n;if(t===e.value)return e;try{for(var i=l(e.children),s=i.next();!s.done;s=i.next()){var o=Op(t,s.value);if(o)return o}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return null}function Cp(t,e){var r,n;if(t===e.value)return[e];try{for(var i=l(e.children),s=i.next();!s.done;s=i.next()){var o=Cp(t,s.value);if(o.length)return o.unshift(e),o}}catch(a){r={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return[]}var Tp=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function kp(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var Ip=function(t){function e(e,r){var n=t.call(this,e)||this;return n.snapshot=r,Mp(n,e),n}return i(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Sp);function Np(t,e){var r=function(t,e){var r=new Rp([],{},{},"",{},Vc,e,null,t.root,-1,{});return new jp("",new Tp(r,[]))}(t,e),n=new Ol([new ap("",{})]),i=new Ol({}),s=new Ol({}),o=new Ol({}),a=new Ol(""),l=new Pp(n,i,o,a,s,Vc,e,r.root);return l.snapshot=r.root,new Ip(new Tp(l,[]),r)}var Pp=function(){function t(t,e,r,n,i,s,o,a){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(tt(function(t){return qc(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(tt(function(t){return qc(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Dp(t,e){void 0===e&&(e="emptyOnly");var r=t.pathFromRoot,n=0;if("always"!==e)for(n=r.length-1;n>=1;){var i=r[n],o=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function(t){return t.reduce(function(t,e){return{params:s({},t.params,e.params),data:s({},t.data,e.data),resolve:s({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(r.slice(n))}var Rp=function(){function t(t,e,r,n,i,s,o,a,l,u,c){this.url=t,this.params=e,this.queryParams=r,this.fragment=n,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=qc(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=qc(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),jp=function(t){function e(e,r){var n=t.call(this,r)||this;return n.url=e,Mp(n,r),n}return i(e,t),e.prototype.toString=function(){return Lp(this._root)},e}(Sp);function Mp(t,e){e.value._routerState=t,e.children.forEach(function(e){return Mp(t,e)})}function Lp(t){var e=t.children.length>0?" { "+t.children.map(Lp).join(", ")+" } ":"";return""+t.value+e}function Fp(t){if(t.snapshot){var e=t.snapshot,r=t._futureSnapshot;t.snapshot=r,Yc(e.queryParams,r.queryParams)||t.queryParams.next(r.queryParams),e.fragment!==r.fragment&&t.fragment.next(r.fragment),Yc(e.params,r.params)||t.params.next(r.params),function(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(!Yc(t[r],e[r]))return!1;return!0}(e.url,r.url)||t.url.next(r.url),Yc(e.data,r.data)||t.data.next(r.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Up(t,e){var r,n;return Yc(t.params,e.params)&&lp(r=t.url,n=e.url)&&r.every(function(t,e){return Yc(t.parameters,n[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Up(t.parent,e.parent))}function Bp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function zp(t,e,r,n,i){var s={};return n&&rp(n,function(t,e){s[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new sp(r.root===t?e:function t(e,r,n){var i={};return rp(e.children,function(e,s){i[s]=e===r?n:t(e,r,n)}),new op(e.segments,i)}(r.root,t,e),s,i)}var Vp=function(){function t(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Bp(r[0]))throw new Error("Root segment cannot have matrix parameters");var n=r.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(n&&n!==ep(r))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),$p=function(){return function(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}();function qp(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Vc]:""+t}function Hp(t,e,r){if(t||(t=new op([],{})),0===t.segments.length&&t.hasChildren())return Gp(t,e,r);var n=function(t,e,r){for(var n=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(n>=r.length)return s;var o=t.segments[i],a=qp(r[n]),l=n<r.length-1?r[n+1]:null;if(i>0&&void 0===a)break;if(a&&l&&"object"==typeof l&&void 0===l.outlets){if(!Kp(a,l,o))return s;n+=2}else{if(!Kp(a,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(t,e,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){var s=new op(t.segments.slice(0,n.pathIndex),{});return s.children[Vc]=new op(t.segments.slice(n.pathIndex),t.children),Gp(s,0,i)}return n.match&&0===i.length?new op(t.segments,{}):n.match&&!t.hasChildren()?Xp(t,e,r):n.match?Gp(t,0,i):Xp(t,e,r)}function Gp(t,e,r){if(0===r.length)return new op(t.segments,{});var n=function(t){var e,r;return"object"!=typeof t[0]?((e={})[Vc]=t,e):void 0===t[0].outlets?((r={})[Vc]=t,r):t[0].outlets}(r),i={};return rp(n,function(r,n){null!==r&&(i[n]=Hp(t.children[n],e,r))}),rp(t.children,function(t,e){void 0===n[e]&&(i[e]=t)}),new op(t.segments,i)}function Xp(t,e,r){for(var n=t.segments.slice(0,e),i=0;i<r.length;){if("object"==typeof r[i]&&void 0!==r[i].outlets){var s=Qp(r[i].outlets);return new op(n,s)}if(0===i&&Bp(r[0]))n.push(new ap(t.segments[e].path,r[0])),i++;else{var o=qp(r[i]),a=i<r.length-1?r[i+1]:null;o&&a&&Bp(a)?(n.push(new ap(o,Wp(a))),i+=2):(n.push(new ap(o,{})),i++)}}return new op(n,{})}function Qp(t){var e={};return rp(t,function(t,r){null!==t&&(e[r]=Xp(new op([],{}),0,t))}),e}function Wp(t){var e={};return rp(t,function(t,r){return e[r]=""+t}),e}function Kp(t,e,r){return t==r.path&&Yc(e,r.parameters)}var Zp=function(){function t(t,e,r,n){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=n}return t.prototype.activate=function(t){var e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Fp(this.futureState.root),this.activateChildRoutes(e,r,t)},t.prototype.deactivateChildRoutes=function(t,e,r){var n=this,i=kp(e);t.children.forEach(function(t){var e=t.value.outlet;n.deactivateRoutes(t,i[e],r),delete i[e]}),rp(i,function(t,e){n.deactivateRouteAndItsChildren(t,r)})},t.prototype.deactivateRoutes=function(t,e,r){var n=t.value,i=e?e.value:null;if(n===i)if(n.component){var s=r.getContext(n.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,r);else i&&this.deactivateRouteAndItsChildren(e,r)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var r=e.getContext(t.value.outlet);if(r&&r.outlet){var n=r.outlet.detach(),i=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:n,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var r=this,n=e.getContext(t.value.outlet);if(n){var i=kp(t),s=t.value.component?n.children:e;rp(i,function(t,e){return r.deactivateRouteAndItsChildren(t,s)}),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,r){var n=this,i=kp(e);t.children.forEach(function(t){n.activateRoutes(t,i[t.value.outlet],r),n.forwardEvent(new Uc(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Lc(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,r){var n=t.value,i=e?e.value:null;if(Fp(n),n===i)if(n.component){var s=r.getOrCreateContext(n.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,r);else if(n.component)if(s=r.getOrCreateContext(n.outlet),this.routeReuseStrategy.shouldAttach(n.snapshot)){var o=this.routeReuseStrategy.retrieve(n.snapshot);this.routeReuseStrategy.store(n.snapshot,null),s.children.onOutletReAttached(o.contexts),s.attachRef=o.componentRef,s.route=o.route.value,s.outlet&&s.outlet.attach(o.componentRef,o.route.value),Jp(o.route)}else{var a=function(t){for(var e=n.snapshot.parent;e;e=e.parent){var r=e.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig;if(r&&r.component)return null}return null}(),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=n,s.resolver=l,s.outlet&&s.outlet.activateWith(n,l),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,r)},t}();function Jp(t){Fp(t.value),t.children.forEach(Jp)}function Yp(t){return"function"==typeof t}function th(t){return t instanceof sp}var eh=function(){return function(t){this.segmentGroup=t||null}}(),rh=function(){return function(t){this.urlTree=t}}();function nh(t){return new D(function(e){return e.error(new eh(t))})}function ih(t){return new D(function(e){return e.error(new rh(t))})}function sh(t){return new D(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var oh=function(){function t(t,e,r,n,i){this.configLoader=e,this.urlSerializer=r,this.urlTree=n,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(De)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Vc).pipe(tt(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Zl(function(e){if(e instanceof rh)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof eh)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Vc).pipe(tt(function(r){return e.createUrlTree(r,t.queryParams,t.fragment)})).pipe(Zl(function(t){if(t instanceof eh)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,r){var n,i=t.segments.length>0?new op([],((n={})[Vc]=t,n)):t;return new sp(i,e,r)},t.prototype.expandSegmentGroup=function(t,e,r,n){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe(tt(function(t){return new op([],t)})):this.expandSegment(t,r,e,r.segments,n,!0)},t.prototype.expandChildren=function(t,e,r){var n=this;return function(r,i){if(0===Object.keys(r).length)return Sl({});var s=[],o=[],a={};return rp(r,function(r,i){var l,u,c=(l=i,u=r,n.expandSegmentGroup(t,e,u,l)).pipe(tt(function(t){return a[i]=t}));i===Vc?s.push(c):o.push(c)}),Sl.apply(null,s.concat(o)).pipe(Dl(),Kl(),tt(function(){return a}))}(r.children)},t.prototype.expandSegment=function(t,e,r,n,i,s){var o=this;return Sl.apply(void 0,c(r)).pipe(tt(function(a){return o.expandSegmentAgainstRoute(t,e,r,a,n,i,s).pipe(Zl(function(t){if(t instanceof eh)return Sl(null);throw t}))}),Dl(),nu(function(t){return!!t}),Zl(function(t,r){if(t instanceof Tl||"EmptyError"===t.name){if(o.noLeftoversInUrl(e,n,i))return Sl(new op([],{}));throw new eh(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,r){return 0===e.length&&!t.children[r]},t.prototype.expandSegmentAgainstRoute=function(t,e,r,n,i,s,o){return ch(n)!==s?nh(e):void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,e,n,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,n,i,s):nh(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,r,n,i,s){return"**"===n.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,n,i,s)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,r,n){var i=this,s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ih(s):this.lineralizeSegments(r,s).pipe(st(function(r){var s=new op(r,{});return i.expandSegment(t,s,e,r,n,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,r,n,i,s){var o=this,a=ah(e,n,i),l=a.consumedSegments,u=a.lastChild,c=a.positionalParamSegments;if(!a.matched)return nh(e);var p=this.applyRedirectCommands(l,n.redirectTo,c);return n.redirectTo.startsWith("/")?ih(p):this.lineralizeSegments(n,p).pipe(st(function(n){return o.expandSegment(t,e,r,n.concat(i.slice(u)),s,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,r,n){var i=this;if("**"===r.path)return r.loadChildren?this.configLoader.load(t.injector,r).pipe(tt(function(t){return r._loadedConfig=t,new op(n,{})})):Sl(new op(n,{}));var o=ah(e,r,n),a=o.consumedSegments,u=o.lastChild;if(!o.matched)return nh(e);var c=n.slice(u);return this.getChildConfig(t,r,n).pipe(st(function(t){var r=t.module,n=t.routes,o=function(t,e,r,n){return r.length>0&&function(t,e,r){return n.some(function(r){return uh(t,e,r)&&ch(r)!==Vc})}(t,r)?{segmentGroup:lh(new op(e,function(t,e){var r,n,i={};i[Vc]=e;try{for(var s=l(t),o=s.next();!o.done;o=s.next()){var a=o.value;""===a.path&&ch(a)!==Vc&&(i[ch(a)]=new op([],{}))}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i}(n,new op(r,t.children)))),slicedSegments:[]}:0===r.length&&function(t,e,r){return n.some(function(r){return uh(t,e,r)})}(t,r)?{segmentGroup:lh(new op(t.segments,function(t,e,r,n){var i,o,a={};try{for(var u=l(r),c=u.next();!c.done;c=u.next()){var p=c.value;uh(t,e,p)&&!n[ch(p)]&&(a[ch(p)]=new op([],{}))}}catch(h){i={error:h}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s({},n,a)}(t,r,n,t.children))),slicedSegments:r}:{segmentGroup:t,slicedSegments:r}}(e,a,c,n),u=o.segmentGroup,p=o.slicedSegments;return 0===p.length&&u.hasChildren()?i.expandChildren(r,n,u).pipe(tt(function(t){return new op(a,t)})):0===n.length&&0===p.length?Sl(new op(a,{})):i.expandSegment(r,u,n,p,Vc,!0).pipe(tt(function(t){return new op(a.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,r){var n=this;return e.children?Sl(new Qc(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Sl(e._loadedConfig):function(t,e,r){var n,i=e.canLoad;return i&&0!==i.length?it(i).pipe(tt(function(n){var i,s=t.get(n);if(function(t){return t&&Yp(t.canLoad)}(s))i=s.canLoad(e,r);else{if(!Yp(s))throw new Error("Invalid CanLoad guard");i=s(e,r)}return np(i)})).pipe(Dl(),(n=function(t){return!0===t},function(t){return t.lift(new iu(n,void 0,t))})):Sl(!0)}(t.injector,e,r).pipe(st(function(r){return r?n.configLoader.load(t.injector,e).pipe(tt(function(t){return e._loadedConfig=t,t})):function(t){return new D(function(e){return e.error(Gc("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))})}(e)})):Sl(new Qc([],t))},t.prototype.lineralizeSegments=function(t,e){for(var r=[],n=e.root;;){if(r=r.concat(n.segments),0===n.numberOfChildren)return Sl(r);if(n.numberOfChildren>1||!n.children[Vc])return sh(t.redirectTo);n=n.children[Vc]}},t.prototype.applyRedirectCommands=function(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,r,n){var i=this.createSegmentGroup(t,e.root,r,n);return new sp(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var r={};return rp(t,function(t,n){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);r[n]=e[i]}else r[n]=t}),r},t.prototype.createSegmentGroup=function(t,e,r,n){var i=this,s=this.createSegments(t,e.segments,r,n),o={};return rp(e.children,function(e,s){o[s]=i.createSegmentGroup(t,e,r,n)}),new op(s,o)},t.prototype.createSegments=function(t,e,r,n){var i=this;return e.map(function(e){return e.path.startsWith(":")?i.findPosParam(t,e,n):i.findOrReturn(e,r)})},t.prototype.findPosParam=function(t,e,r){var n=r[e.path.substring(1)];if(!n)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return n},t.prototype.findOrReturn=function(t,e){var r,n,i=0;try{for(var s=l(e),o=s.next();!o.done;o=s.next()){var a=o.value;if(a.path===t.path)return e.splice(i),a;i++}}catch(u){r={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return t},t}();function ah(t,e,r){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||r.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var n=(e.matcher||Xc)(r,t,e);return n?{matched:!0,consumedSegments:n.consumed,lastChild:n.consumed.length,positionalParamSegments:n.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function lh(t){if(1===t.numberOfChildren&&t.children[Vc]){var e=t.children[Vc];return new op(t.segments.concat(e.segments),e.children)}return t}function uh(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path&&void 0!==r.redirectTo}function ch(t){return t.outlet||Vc}var ph=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),hh=function(){return function(t,e){this.component=t,this.route=e}}();function fh(t,e,r){var n=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var r=e.routeConfig;if(r&&r._loadedConfig)return r._loadedConfig}return null}(e);return(n?n.module.injector:r).get(t)}function dh(t,e,r,n,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var s=kp(e);return t.children.forEach(function(t){!function(t,e,r,n,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var s=t.value,o=e?e.value:null,a=r?r.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){var l=function(t,e,r){if("function"==typeof r)return r(t,e);switch(r){case"pathParamsChange":return!lp(t.url,e.url);case"pathParamsOrQueryParamsChange":return!lp(t.url,e.url)||!Yc(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Up(t,e)||!Yc(t.queryParams,e.queryParams);case"paramsChange":default:return!Up(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new ph(n)):(s.data=o.data,s._resolvedData=o._resolvedData),dh(t,e,s.component?a?a.children:null:r,n,i),l&&i.canDeactivateChecks.push(new hh(a&&a.outlet&&a.outlet.component||null,o))}else o&&mh(e,a,i),i.canActivateChecks.push(new ph(n)),dh(t,null,s.component?a?a.children:null:r,n,i)}(t,s[t.value.outlet],r,n.concat([t.value]),i),delete s[t.value.outlet]}),rp(s,function(t,e){return mh(t,r.getContext(e),i)}),i}function mh(t,e,r){var n=kp(t),i=t.value;rp(n,function(t,n){mh(t,i.component?e?e.children.getContext(n):null:e,r)}),r.canDeactivateChecks.push(new hh(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var gh=Symbol("INITIAL_VALUE");function bh(){return ou(function(t){return(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null,n=null;return z(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&p(t[0])&&(t=t[0]),nt(t,n).lift(new Il(r))}).apply(void 0,c(t.map(function(t){return t.pipe(tu(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r=t[t.length-1];z(r)?t.pop():r=null;var n=t.length;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&z(t[1])?it(t[0]):Dl()(Sl.apply(void 0,t))}(1!==n||r?n>0?nt(t,r):El(r):Al(t[0]),e)}}(gh))}))).pipe(uu(function(t,e){var r=!1;return e.reduce(function(t,n,i){if(t!==gh)return t;if(n===gh&&(r=!0),!r){if(!1===n)return n;if(i===e.length-1||th(n))return n}return t},t)},gh),Rl(function(t){return t!==gh}),tt(function(t){return th(t)?t:!0===t}),tu(1))})}function vh(t,e){return null!==t&&e&&e(new Fc(t)),Sl(!0)}function yh(t,e){return null!==t&&e&&e(new Mc(t)),Sl(!0)}function _h(t,e,r){var n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?Sl(n.map(function(n){return Pl(function(){var i,s=fh(n,e,r);if(function(t){return t&&Yp(t.canActivate)}(s))i=np(s.canActivate(e,t));else{if(!Yp(s))throw new Error("Invalid CanActivate guard");i=np(s(e,t))}return i.pipe(nu())})})).pipe(bh()):Sl(!0)}function xh(t,e,r){var n=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return Pl(function(){return Sl(e.guards.map(function(i){var s,o=fh(i,e.node,r);if(function(t){return t&&Yp(t.canActivateChild)}(o))s=np(o.canActivateChild(n,t));else{if(!Yp(o))throw new Error("Invalid CanActivateChild guard");s=np(o(n,t))}return s.pipe(nu())})).pipe(bh())})});return Sl(i).pipe(bh())}var wh=function(){return function(){}}(),Eh=function(){function t(t,e,r,n,i,s){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=n,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}return t.prototype.recognize=function(){try{var t=Oh(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Vc),r=new Rp([],Object.freeze({}),Object.freeze(s({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vc,this.rootComponentType,null,this.urlTree.root,-1,{}),n=new Tp(r,e),i=new jp(this.url,n);return this.inheritParamsAndData(i._root),Sl(i)}catch(o){return new D(function(t){return t.error(o)})}},t.prototype.inheritParamsAndData=function(t){var e=this,r=t.value,n=Dp(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)},t.prototype.processChildren=function(t,e){var r,n=this,i=up(e,function(e,r){return n.processSegmentGroup(t,e,r)});return r={},i.forEach(function(t){var e=r[t.value.outlet];if(e){var n=e.url.map(function(t){return t.toString()}).join("/"),i=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+n+"' and '"+i+"'.")}r[t.value.outlet]=t.value}),i.sort(function(t,e){return t.value.outlet===Vc?-1:e.value.outlet===Vc?1:t.value.outlet.localeCompare(e.value.outlet)}),i},t.prototype.processSegment=function(t,e,r,n){var i,s;try{for(var o=l(t),a=o.next();!a.done;a=o.next()){var u=a.value;try{return this.processSegmentAgainstRoute(u,e,r,n)}catch(c){if(!(c instanceof wh))throw c}}}catch(p){i={error:p}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,r,n))return[];throw new wh},t.prototype.noLeftoversInUrl=function(t,e,r){return 0===e.length&&!t.children[r]},t.prototype.processSegmentAgainstRoute=function(t,e,r,n){if(t.redirectTo)throw new wh;if((t.outlet||Vc)!==n)throw new wh;var i,o=[],a=[];if("**"===t.path){var l=r.length>0?ep(r).parameters:{};i=new Rp(r,l,Object.freeze(s({},this.urlTree.queryParams)),this.urlTree.fragment,kh(t),n,t.component,t,Ah(e),Sh(e)+r.length,Ih(t))}else{var u=function(t,e,r){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||r.length>0))throw new wh;return{consumedSegments:[],lastChild:0,parameters:{}}}var n=(e.matcher||Xc)(r,t,e);if(!n)throw new wh;var i={};rp(n.posParams,function(t,e){i[e]=t.path});var o=n.consumed.length>0?s({},i,n.consumed[n.consumed.length-1].parameters):i;return{consumedSegments:n.consumed,lastChild:n.consumed.length,parameters:o}}(e,t,r);o=u.consumedSegments,a=r.slice(u.lastChild),i=new Rp(o,u.parameters,Object.freeze(s({},this.urlTree.queryParams)),this.urlTree.fragment,kh(t),n,t.component,t,Ah(e),Sh(e)+o.length,Ih(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),p=Oh(e,o,a,c,this.relativeLinkResolution),h=p.segmentGroup,f=p.slicedSegments;if(0===f.length&&h.hasChildren()){var d=this.processChildren(c,h);return[new Tp(i,d)]}if(0===c.length&&0===f.length)return[new Tp(i,[])];var m=this.processSegment(c,h,f,Vc);return[new Tp(i,m)]},t}();function Ah(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Sh(t){for(var e=t,r=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)r+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return r-1}function Oh(t,e,r,n,i){if(r.length>0&&function(t,e,r){return n.some(function(r){return Ch(t,e,r)&&Th(r)!==Vc})}(t,r)){var o=new op(e,function(t,e,r,n){var i,s,o={};o[Vc]=n,n._sourceSegment=t,n._segmentIndexShift=e.length;try{for(var a=l(r),u=a.next();!u.done;u=a.next()){var c=u.value;if(""===c.path&&Th(c)!==Vc){var p=new op([],{});p._sourceSegment=t,p._segmentIndexShift=e.length,o[Th(c)]=p}}}catch(h){i={error:h}}finally{try{u&&!u.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}return o}(t,e,n,new op(r,t.children)));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===r.length&&function(t,e,r){return n.some(function(r){return Ch(t,e,r)})}(t,r)){var a=new op(t.segments,function(t,e,r,n,i,o){var a,u,c={};try{for(var p=l(n),h=p.next();!h.done;h=p.next()){var f=h.value;if(Ch(t,r,f)&&!i[Th(f)]){var d=new op([],{});d._sourceSegment=t,d._segmentIndexShift="legacy"===o?t.segments.length:e.length,c[Th(f)]=d}}}catch(m){a={error:m}}finally{try{h&&!h.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}return s({},i,c)}(t,e,r,n,t.children,i));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:r}}var u=new op(t.segments,t.children);return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:r}}function Ch(t,e,r){return(!(t.hasChildren()||e.length>0)||"full"!==r.pathMatch)&&""===r.path&&void 0===r.redirectTo}function Th(t){return t.outlet||Vc}function kh(t){return t.data||{}}function Ih(t){return t.resolve||{}}function Nh(t,e,r,n){var i=fh(t,e,n);return np(i.resolve?i.resolve(e,r):i(e,r))}function Ph(t){return function(e){return e.pipe(ou(function(e){var r=t(e);return r?it(r).pipe(tt(function(){return e})):it([e])}))}}var Dh=function(){return function(){}}(),Rh=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),jh=new Et("ROUTES"),Mh=function(){function t(t,e,r,n){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=n}return t.prototype.load=function(t,e){var r=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(tt(function(n){r.onLoadEndListener&&r.onLoadEndListener(e);var i=n.create(t);return new Qc(tp(i.injector.get(jh)).map(Jc),i)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?it(this.loader.load(t)):np(t()).pipe(st(function(t){return t instanceof Re?Sl(t):it(e.compiler.compileModuleAsync(t))}))},t}(),Lh=function(){return function(){}}(),Fh=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Uh(t){throw t}function Bh(t,e,r){return e.parse("/")}function zh(t,e){return Sl(null)}var Vh=function(){function t(t,e,r,n,i,s,o,a){var l=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=r,this.location=n,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new U,this.errorHandler=Uh,this.malformedUriErrorHandler=Bh,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zh,afterPreactivation:zh},this.urlHandlingStrategy=new Fh,this.routeReuseStrategy=new Rh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(De),this.console=i.get(Ur);var u=i.get(tn);this.isNgZoneEnabled=u instanceof tn,this.resetConfig(a),this.currentUrlTree=new sp(new op([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mh(s,o,function(t){return l.triggerEvent(new Rc(t))},function(t){return l.triggerEvent(new jc(t))}),this.routerState=Np(this.currentUrlTree,this.rootComponentType),this.transitions=new Ol({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,r=this.events;return t.pipe(Rl(function(t){return 0!==t.id}),tt(function(t){return s({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),Vl(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?s({},e.lastSuccessfulNavigation,{previousNavigation:null}):null}}),ou(function(t){var n,i,o,a,u=!1,c=!1;return Sl(t).pipe(ou(function(t){var n,i,o,a,l=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||l)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Sl(t).pipe(ou(function(t){var n=e.transitions.getValue();return r.next(new Sc(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==e.transitions.getValue()?wl:[t]}),ou(function(t){return Promise.resolve(t)}),(n=e.ngModule.injector,i=e.configLoader,o=e.urlSerializer,a=e.config,function(t){return t.pipe(ou(function(t){return function(e,r,n,i,s){return new oh(e,r,n,t.extractedUrl,s).apply()}(n,i,o,0,a).pipe(tt(function(e){return s({},t,{urlAfterRedirects:e})}))}))}),Vl(function(t){e.currentNavigation=s({},e.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,r,n,i,o){return function(n){return n.pipe(st(function(n){return function(t,e,r,n,i,s){return void 0===i&&(i="emptyOnly"),void 0===s&&(s="legacy"),new Eh(t,e,r,n,i,s).recognize()}(t,r,n.urlAfterRedirects,(a=n.urlAfterRedirects,e.serializeUrl(a)),i,o).pipe(tt(function(t){return s({},n,{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Vl(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id),e.browserUrlTree=t.urlAfterRedirects)}),Vl(function(t){var n=new kc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);r.next(n)}));if(l&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var u=t.extractedUrl,c=t.source,p=t.restoredState,h=t.extras,f=new Sc(t.id,e.serializeUrl(u),c,p);r.next(f);var d=Np(u,e.rootComponentType).snapshot;return Sl(s({},t,{targetSnapshot:d,urlAfterRedirects:u,extras:s({},h,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),wl}),Ph(function(t){var r=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!r.skipLocationChange,replaceUrl:!!r.replaceUrl})}),Vl(function(t){var r=new Ic(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(r)}),tt(function(t){return s({},t,{guards:(r=t.targetSnapshot,n=t.currentSnapshot,i=e.rootContexts,o=r._root,dh(o,n?n._root:null,i,[o.value]))});var r,n,i,o}),function(t,e){return function(r){return r.pipe(st(function(r){var n=r.targetSnapshot,i=r.currentSnapshot,o=r.guards,a=o.canActivateChecks,l=o.canDeactivateChecks;return 0===l.length&&0===a.length?Sl(s({},r,{guardsResult:!0})):function(t,e,r,n){return it(l).pipe(st(function(t){return function(t,e,r,n,i){var s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Sl(s.map(function(s){var o,a=fh(s,e,i);if(function(t){return t&&Yp(t.canDeactivate)}(a))o=np(a.canDeactivate(t,e,r,n));else{if(!Yp(a))throw new Error("Invalid CanDeactivate guard");o=np(a(t,e,r,n))}return o.pipe(nu())})).pipe(bh()):Sl(!0)}(t.component,t.route,r,e,n)}),nu(function(t){return!0!==t},!0))}(0,n,i,t).pipe(st(function(r){return r&&"boolean"==typeof r?function(t,e,r,n){return it(a).pipe(hu(function(e){return it([yh(e.route.parent,n),vh(e.route,n),xh(t,e.path,r),_h(t,e.route,r)]).pipe(Dl(),nu(function(t){return!0!==t},!0))}),nu(function(t){return!0!==t},!0))}(n,0,t,e):Sl(r)}),tt(function(t){return s({},r,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),Vl(function(t){if(th(t.guardsResult)){var r=Gc('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw r.url=t.guardsResult,r}}),Vl(function(t){var r=new Nc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(r)}),Rl(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var n=new Cc(t.id,e.serializeUrl(t.extractedUrl),"");return r.next(n),t.resolve(!1),!1}return!0}),Ph(function(t){if(t.guards.canActivateChecks.length)return Sl(t).pipe(Vl(function(t){var r=new Pc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(r)}),(r=e.paramsInheritanceStrategy,n=e.ngModule.injector,function(t){return t.pipe(st(function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?it(i).pipe(hu(function(t){return function(t,r,n,i){return function(t,e,r,n){var i=Object.keys(t);if(0===i.length)return Sl({});if(1===i.length){var s=i[0];return Nh(t[s],e,r,n).pipe(tt(function(t){var e;return(e={})[s]=t,e}))}var o={};return it(i).pipe(st(function(i){return Nh(t[i],e,r,n).pipe(tt(function(t){return o[i]=t,t}))})).pipe(Kl(),tt(function(){return o}))}(t._resolve,t,e,i).pipe(tt(function(e){return t._resolvedData=e,t.data=s({},t.data,Dp(t,n).resolve),null}))}(t.route,0,r,n)}),function(t,e){return arguments.length>=2?function(e){return N(uu(t,void 0),Ul(1),Xl(void 0))(e)}:function(e){return N(uu(function(e,r,n){return t(e)}),Ul(1))(e)}}(function(t,e){return t}),tt(function(e){return t})):Sl(t)}))}),Vl(function(t){var r=new Dc(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(r)}));var r,n}),Ph(function(t){var r=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!r.skipLocationChange,replaceUrl:!!r.replaceUrl})}),tt(function(t){var r,n,i,o=(i=function t(e,r,n){if(n&&e.shouldReuseRoute(r.value,n.value.snapshot)){(u=n.value)._futureSnapshot=r.value;var i=function(e,r,n){return r.children.map(function(r){var i,s;try{for(var o=l(n.children),a=o.next();!a.done;a=o.next()){var u=a.value;if(e.shouldReuseRoute(u.value.snapshot,r.value))return t(e,r,u)}}catch(c){i={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(i)throw i.error}}return t(e,r)})}(e,r,n);return new Tp(u,i)}var s=e.retrieve(r.value);if(s){var o=s.route;return function t(e,r){if(e.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=e.value;for(var n=0;n<e.children.length;++n)t(e.children[n],r.children[n])}(r,o),o}var a,u=new Pp(new Ol((a=r.value).url),new Ol(a.params),new Ol(a.queryParams),new Ol(a.fragment),new Ol(a.data),a.outlet,a.component,a);return i=r.children.map(function(r){return t(e,r)}),new Tp(u,i)}(e.routeReuseStrategy,(r=t.targetSnapshot)._root,(n=t.currentRouterState)?n._root:void 0),new Ip(i,r));return s({},t,{targetRouterState:o})}),Vl(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)}),(i=e.rootContexts,o=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},tt(function(t){return new Zp(o,t.targetRouterState,t.currentRouterState,a).activate(i),t})),Vl({next:function(){u=!0},complete:function(){u=!0}}),(n=function(){if(!u&&!c){e.resetUrlToCurrentUrlTree();var n=new Cc(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);r.next(n),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new fu(n))}),Zl(function(n){if(c=!0,(a=n)&&a[Hc]){e.navigated=!0;var i=th(n.url);i||e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var s=new Cc(t.id,e.serializeUrl(t.extractedUrl),n.message);r.next(s),t.resolve(!1),i&&e.navigateByUrl(n.url)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var o=new Tc(t.id,e.serializeUrl(t.extractedUrl),n);r.next(o);try{t.resolve(e.errorHandler(n))}catch(l){t.reject(l)}}var a;return wl}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(s({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var r=t.parseUrl(e.url),n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(function(){t.scheduleNavigation(r,n,i,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Wc(t),this.config=t.map(Jc),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var r=e.relativeTo,n=e.queryParams,i=e.fragment,o=e.preserveQueryParams,a=e.queryParamsHandling,l=e.preserveFragment;Xe()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var u=r||this.routerState.root,p=l?this.currentUrlTree.fragment:i,h=null;if(a)switch(a){case"merge":h=s({},this.currentUrlTree.queryParams,n);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=n||null}else h=o?this.currentUrlTree.queryParams:n||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,r,n,i){if(0===r.length)return zp(e.root,e.root,e,n,i);var s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Vp(!0,0,t);var e=0,r=!1,n=t.reduce(function(t,n,i){if("object"==typeof n&&null!=n){if(n.outlets){var s={};return rp(n.outlets,function(t,e){s[e]="string"==typeof t?t.split("/"):t}),c(t,[{outlets:s}])}if(n.segmentPath)return c(t,[n.segmentPath])}return"string"!=typeof n?c(t,[n]):0===i?(n.split("/").forEach(function(n,i){0==i&&"."===n||(0==i&&""===n?r=!0:".."===n?e++:""!=n&&t.push(n))}),t):c(t,[n])},[]);return new Vp(r,e,n)}(r);if(s.toRoot())return zp(e.root,new op([],{}),e,n,i);var o=function(t,r,n){if(t.isAbsolute)return new $p(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new $p(n.snapshot._urlSegment,!0,0);var i=Bp(t.commands[0])?0:1;return function(e,r,s){for(var o=n.snapshot._urlSegment,a=n.snapshot._lastPathIndex+i,l=t.numberOfDoubleDots;l>a;){if(l-=a,!(o=o.parent))throw new Error("Invalid number of '../'");a=o.segments.length}return new $p(o,!1,a-l)}()}(s,0,t),a=o.processChildren?Gp(o.segmentGroup,o.index,s.commands):Hp(o.segmentGroup,o.index,s.commands);return zp(o.segmentGroup,a,e,n,i)}(u,this.currentUrlTree,t,h,p)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Xe()&&this.isNgZoneEnabled&&!tn.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var r=th(t)?t:this.parseUrl(t),n=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(n,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var r=t[e];if(null==r)throw new Error("The requested path contains "+r+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(r){e=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(th(t))return ip(this.currentUrlTree,t,e);var r=this.parseUrl(t);return ip(this.currentUrlTree,r,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,r){var n=t[r];return null!=n&&(e[r]=n),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Oc(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,r,n){var i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);var s=null,o=null,a=new Promise(function(t,e){s=t,o=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:n,resolve:s,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,r,n){var i=this.urlSerializer.serialize(t);n=n||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",s({},n,{navigationId:r})):this.location.go(i,"",s({},n,{navigationId:r}))},t.prototype.resetStateAndUrl=function(t,e,r){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),$h=function(){function t(t,e,r){var n=this;this.router=t,this.route=e,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe(function(t){t instanceof Oc&&n.updateTargetUrlAndHref()})}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){Xe()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,r,n){if(0!==t||e||r||n)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:qh(this.skipLocationChange),replaceUrl:qh(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:qh(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:qh(this.preserveFragment)})},enumerable:!0,configurable:!0}),o([xr("attr.target"),_r(),a("design:type",String)],t.prototype,"target",void 0),t}();function qh(t){return""===t||!!t}var Hh=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Gh,this.attachRef=null}}(),Gh=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Hh,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Xh=function(){function t(t,e,r,n,i){this.parentContexts=t,this.location=e,this.resolver=r,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new dr,this.deactivateEvents=new dr,this.name=n||Vc,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var r=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),n=this.parentContexts.getOrCreateContext(this.name).children,i=new Qh(t,n,this.location.injector);this.activated=this.location.createComponent(r,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Qh=function(){function t(t,e,r){this.route=t,this.childContexts=e,this.parent=r}return t.prototype.get=function(t,e){return t===Pp?this.route:t===Gh?this.childContexts:this.parent.get(t,e)},t}(),Wh=function(){return function(){}}(),Kh=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Zl(function(){return Sl(null)}))},t}(),Zh=function(){function t(){}return t.prototype.preload=function(t,e){return Sl(null)},t}(),Jh=function(){function t(t,e,r,n,i){this.router=t,this.injector=n,this.preloadingStrategy=i,this.loader=new Mh(e,r,function(e){return t.triggerEvent(new Rc(e))},function(e){return t.triggerEvent(new jc(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Rl(function(t){return t instanceof Oc}),hu(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(De);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var r,n,i=[];try{for(var s=l(e),o=s.next();!o.done;o=s.next()){var a=o.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var u=a._loadedConfig;i.push(this.processRoutes(u.module,u.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return it(i).pipe(ut(),tt(function(t){}))},t.prototype.preloadConfig=function(t,e){var r=this;return this.preloadingStrategy.preload(e,function(){return r.loader.load(t.injector,e).pipe(st(function(t){return e._loadedConfig=t,r.processRoutes(t.module,t.routes)}))})},t}(),Yh=function(){function t(t,e,r){void 0===r&&(r={}),this.router=t,this.viewportScroller=e,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Sc?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Oc&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Bc&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Bc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),tf=new Et("ROUTER_CONFIGURATION"),ef=new Et("ROUTER_FORROOT_GUARD"),rf=[Ea,{provide:cp,useClass:pp},{provide:Vh,useFactory:cf,deps:[vn,cp,Gh,Ea,ce,yr,Xr,jh,tf,[Lh,new Ht],[Dh,new Ht]]},Gh,{provide:Pp,useFactory:pf,deps:[Vh]},{provide:yr,useClass:En},Jh,Zh,Kh,{provide:tf,useValue:{enableTracing:!1}}];function nf(){return new fn("Router",Vh)}var sf=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,r){return{ngModule:e,providers:[rf,uf(t),{provide:ef,useFactory:lf,deps:[[Vh,new Ht,new Xt]]},{provide:tf,useValue:r||{}},{provide:xa,useFactory:af,deps:[ya,[new qt(wa),new Ht],tf]},{provide:Yh,useFactory:of,deps:[Vh,_l,tf]},{provide:Wh,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Zh},{provide:fn,multi:!0,useFactory:nf},[hf,{provide:Nr,multi:!0,useFactory:ff,deps:[hf]},{provide:mf,useFactory:df,deps:[hf]},{provide:Fr,multi:!0,useExisting:mf}]]}},t.forChild=function(t){return{ngModule:e,providers:[uf(t)]}},t}();function of(t,e,r){return r.scrollOffset&&e.setOffset(r.scrollOffset),new Yh(t,e,r)}function af(t,e,r){return void 0===r&&(r={}),r.useHash?new Sa(t,e):new Oa(t,e)}function lf(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function uf(t){return[{provide:kt,multi:!0,useValue:t},{provide:jh,multi:!0,useValue:t}]}function cf(t,e,r,n,i,s,o,a,l,u,c){void 0===l&&(l={});var p=new Vh(null,e,r,n,i,s,o,tp(a));if(u&&(p.urlHandlingStrategy=u),c&&(p.routeReuseStrategy=c),l.errorHandler&&(p.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(p.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var h=gu();p.events.subscribe(function(t){h.logGroup("Router Event: "+t.constructor.name),h.log(t.toString()),h.log(t),h.logGroupEnd()})}return l.onSameUrlNavigation&&(p.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(p.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(p.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(p.relativeLinkResolution=l.relativeLinkResolution),p}function pf(t){return t.routerState.root}var hf=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new U}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(_a,Promise.resolve(null)).then(function(){var e=null,r=new Promise(function(t){return e=t}),n=t.injector.get(Vh),i=t.injector.get(tf);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");n.hooks.afterPreactivation=function(){return t.initNavigation?Sl(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},n.initialNavigation()}return r})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(tf),r=this.injector.get(Jh),n=this.injector.get(Yh),i=this.injector.get(Vh),s=this.injector.get(vn);t===s.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),r.setUpPreloading(),n.init(),i.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function ff(t){return t.appInitializer.bind(t)}function df(t){return t.bootstrapListener.bind(t)}var mf=new Et("Router Initializer"),gf=yi({encapsulation:2,styles:[],data:{}});function bf(t){return uo(0,[(t()(),Qi(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ms(1,212992,null,0,Xh,[Gh,Sn,Ie,[8,null],Cn],null,null)],function(t,e){t(e,1,0)},null)}function vf(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"ng-component",[],null,null,null,bf,gf)),Ms(1,49152,null,0,zc,[],null,null)],null,null)}var yf=hs("ng-component",zc,vf,{},{},[]),_f=function(){return function(){}}(),xf=function(){return function(){}}(),wf=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach(function(t){var r=t.indexOf(":");if(r>0){var n=t.slice(0,r),i=n.toLowerCase(),s=t.slice(r+1).trim();e.maybeSetNormalizedName(n,i),e.headers.has(i)?e.headers.get(i).push(s):e.headers.set(i,[s])}})}:function(){e.headers=new Map,Object.keys(t).forEach(function(r){var n=t[r],i=r.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(e.headers.set(i,n),e.maybeSetNormalizedName(r,i))})}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(r){e.headers.set(r,t.headers.get(r)),e.normalizedNames.set(r,t.normalizedNames.get(r))})},t.prototype.clone=function(e){var r=new t;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([e]),r},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);var n=("a"===t.op?this.headers.get(e):void 0)||[];n.push.apply(n,c(r)),this.headers.set(e,n);break;case"d":var i=t.value;if(i){var s=this.headers.get(e);if(!s)return;0===(s=s.filter(function(t){return-1===i.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(r){return t(e.normalizedNames.get(r),e.headers.get(r))})},t}(),Ef=function(){function t(){}return t.prototype.encodeKey=function(t){return Af(t)},t.prototype.encodeValue=function(t){return Af(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function Af(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Sf=function(){function t(t){void 0===t&&(t={});var e,r,n,i=this;if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ef,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,r=this.encoder,n=new Map,e.length>0&&e.split("&").forEach(function(t){var e=t.indexOf("="),i=u(-1==e?[r.decodeKey(t),""]:[r.decodeKey(t.slice(0,e)),r.decodeValue(t.slice(e+1))],2),s=i[0],o=i[1],a=n.get(s)||[];a.push(o),n.set(s,a)}),n)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(function(e){var r=t.fromObject[e];i.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map(function(e){var r=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return r+"="+t.encoder.encodeValue(e)}).join("&")}).join("&")},t.prototype.clone=function(e){var r=new t({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat([e]),r},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var r=("a"===e.op?t.map.get(e.param):void 0)||[];r.push(e.value),t.map.set(e.param,r);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var n=t.map.get(e.param)||[],i=n.indexOf(e.value);-1!==i&&n.splice(i,1),n.length>0?t.map.set(e.param,n):t.map.delete(e.param)}}),this.cloneFrom=null)},t}();function Of(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Cf(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Tf(t){return"undefined"!=typeof FormData&&t instanceof FormData}var kf=function(){function t(t,e,r,n){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||n?(this.body=void 0!==r?r:null,i=n):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new wf),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{var o=e.indexOf("?");this.urlWithParams=e+(-1===o?"?":o<e.length-1?"&":"")+s}}else this.params=new Sf,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:Of(this.body)||Cf(this.body)||Tf(this.body)||"string"==typeof this.body?this.body:this.body instanceof Sf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body?null:Tf(this.body)?null:Cf(this.body)?this.body.type||null:Of(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Sf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var r=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,l=e.headers||this.headers,u=e.params||this.params;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce(function(t,r){return t.set(r,e.setHeaders[r])},l)),e.setParams&&(u=Object.keys(e.setParams).reduce(function(t,r){return t.set(r,e.setParams[r])},u)),new t(r,n,s,{params:u,headers:l,reportProgress:a,responseType:i,withCredentials:o})},t}(),If=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),Nf=function(){return function(t,e,r){void 0===e&&(e=200),void 0===r&&(r="OK"),this.headers=t.headers||new wf,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),Pf=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;return r.type=If.ResponseHeader,r}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Nf),Df=function(t){function e(e){void 0===e&&(e={});var r=t.call(this,e)||this;return r.type=If.Response,r.body=void 0!==e.body?e.body:null,r}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(Nf),Rf=function(t){function e(e){var r=t.call(this,e,0,"Unknown Error")||this;return r.name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,r.error=e.error||null,r}return i(e,t),e}(Nf);function jf(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Mf=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,r){var n,i=this;if(void 0===r&&(r={}),t instanceof kf)n=t;else{var s;s=r.headers instanceof wf?r.headers:new wf(r.headers);var o=void 0;r.params&&(o=r.params instanceof Sf?r.params:new Sf({fromObject:r.params})),n=new kf(t,e,void 0!==r.body?r.body:null,{headers:s,params:o,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}var a=Sl(n).pipe(hu(function(t){return i.handler.handle(t)}));if(t instanceof kf||"events"===r.observe)return a;var l=a.pipe(Rl(function(t){return t instanceof Df}));switch(r.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe(tt(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return l.pipe(tt(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return l.pipe(tt(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return l.pipe(tt(function(t){return t.body}))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type "+r.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new Sf).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,r){return void 0===r&&(r={}),this.request("PATCH",t,jf(r,e))},t.prototype.post=function(t,e,r){return void 0===r&&(r={}),this.request("POST",t,jf(r,e))},t.prototype.put=function(t,e,r){return void 0===r&&(r={}),this.request("PUT",t,jf(r,e))},t}(),Lf=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),Ff=new Et("HTTP_INTERCEPTORS"),Uf=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t}(),Bf=/^\)\]\}',?\n/,zf=function(){return function(){}}(),Vf=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),$f=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new D(function(r){var n=e.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach(function(t,e){return n.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&n.setRequestHeader("Content-Type",i)}if(t.responseType){var s=t.responseType.toLowerCase();n.responseType="json"!==s?s:"text"}var o=t.serializeBody(),a=null,l=function(){if(null!==a)return a;var e=1223===n.status?204:n.status,r=n.statusText||"OK",i=new wf(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return a=new Pf({headers:i,status:e,statusText:r,url:s})},u=function(){var e=l(),i=e.headers,s=e.status,o=e.statusText,a=e.url,u=null;204!==s&&(u=void 0===n.response?n.responseText:n.response),0===s&&(s=u?200:0);var c=s>=200&&s<300;if("json"===t.responseType&&"string"==typeof u){var p=u;u=u.replace(Bf,"");try{u=""!==u?JSON.parse(u):null}catch(h){u=p,c&&(c=!1,u={error:h,text:u})}}c?(r.next(new Df({body:u,headers:i,status:s,statusText:o,url:a||void 0})),r.complete()):r.error(new Rf({error:u,headers:i,status:s,statusText:o,url:a||void 0}))},c=function(t){var e=l().url,i=new Rf({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:e||void 0});r.error(i)},p=!1,h=function(e){p||(r.next(l()),p=!0);var i={type:If.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),r.next(i)},f=function(t){var e={type:If.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),r.next(e)};return n.addEventListener("load",u),n.addEventListener("error",c),t.reportProgress&&(n.addEventListener("progress",h),null!==o&&n.upload&&n.upload.addEventListener("progress",f)),n.send(o),r.next({type:If.Sent}),function(){n.removeEventListener("error",c),n.removeEventListener("load",u),t.reportProgress&&(n.removeEventListener("progress",h),null!==o&&n.upload&&n.upload.removeEventListener("progress",f)),n.abort()}})},t}(),qf=new Et("XSRF_COOKIE_NAME"),Hf=new Et("XSRF_HEADER_NAME"),Gf=function(){return function(){}}(),Xf=function(){function t(t,e,r){this.doc=t,this.platform=e,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ul(t,this.cookieName),this.lastCookieString=t),this.lastToken},t}(),Qf=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var r=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||r.startsWith("http://")||r.startsWith("https://"))return e.handle(t);var n=this.tokenService.getToken();return null===n||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,n)})),e.handle(t)},t}(),Wf=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(Ff,[]);this.chain=e.reduceRight(function(t,e){return new Lf(t,e)},this.backend)}return this.chain.handle(t)},t}(),Kf=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:Qf,useClass:Uf}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:qf,useValue:t.cookieName}:[],t.headerName?{provide:Hf,useValue:t.headerName}:[]]}},t}(),Zf=function(){return function(){}}(),Jf=function(){function t(t){this.http=t,this.url="https://alimohebbi.pythonanywhere.com/api/news"}return t.prototype.getNews=function(){return this.http.get(this.url)},t.ngInjectableDef=xt({factory:function(){return new t(Zt(Mf))},token:t,providedIn:"root"}),t}(),Yf=function(){function t(t,e){this.router=t,this.newsService=e}return t.prototype.ngOnInit=function(){var t=this;this.newsService.getNews().subscribe(function(e){t.NEWS=e})},t}(),td=yi({encapsulation:0,styles:[[".square[_ngcontent-%COMP%]::-webkit-scrollbar-track{border-radius:0!important}.square[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:0!important}.thin[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.example-1[_ngcontent-%COMP%]{position:relative;overflow-y:scroll;height:200px}.scrollbar-morpheus-den[_ngcontent-%COMP%]::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.1);background-color:#f5f5f5;border-radius:10px}.scrollbar-morpheus-den[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px;background-color:#f5f5f5}.scrollbar-morpheus-den[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{border-radius:10px;-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.1);background-image:linear-gradient(to top,#30cfd0 0,#330867 100%)}.menu-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.review-area[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:75px;height:75px}.single-service[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px}"]],data:{}});function ed(t){return uo(0,[(t()(),Qi(0,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,4,"div",[["class","col  mt-1"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,3,"span",[["class"," genric-btn btn-block  primary circle small"]],null,null,null,null,null)),(t()(),oo(3,null,[""," . ",""])),no(4,2),no(5,2),(t()(),Qi(6,0,null,null,0,"div",[["class","col-10 mt-1"]],[[8,"innerHTML",1]],null,null,null,null))],null,function(t,e){var r=gi(e,3,0,t(e,4,0,Es(e.parent,0),e.context.$implicit.pub_date,"MMM")),n=gi(e,3,1,t(e,5,0,Es(e.parent,0),e.context.$implicit.pub_date,"yyyy"));t(e,3,0,r,n),t(e,6,0,e.context.$implicit.news_text)})}function rd(t){return uo(0,[Ls(0,gl,[Zn]),(t()(),Qi(1,0,null,null,11,"section",[["class","banner-area relative"],["id","home"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,0,"div",[["class","overlay overlay-bg"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,9,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,8,"div",[["class","row fullscreen d-flex align-items-center justify-content-center"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,7,"div",[["class","banner-content col-lg-10"]],null,null,null,null,null)),(t()(),Qi(6,0,null,null,2,"h5",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),Qi(7,0,null,null,1,"a",[["href","http://www.usi.ch/"]],null,null,null,null,null)),(t()(),oo(-1,null,[" USI Universit\xe0 della Svizzera italiana "])),(t()(),Qi(9,0,null,null,1,"h5",[["class","text-uppercase"]],null,null,null,null,null)),(t()(),oo(-1,null,["Lugano, Switzerland"])),(t()(),Qi(11,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),oo(-1,null,[" The Software Testing and Analysis Research (STAR) lab "])),(t()(),Qi(13,0,null,null,12,"section",[["class","portfolio-area section-gap"],["id","portfolio"]],null,null,null,null,null)),(t()(),Qi(14,0,null,null,11,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(15,0,null,null,4,"div",[["class","row d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Qi(16,0,null,null,3,"div",[["class","menu-content col-lg-10"]],null,null,null,null,null)),(t()(),Qi(17,0,null,null,2,"div",[["class","title text-center"]],null,null,null,null,null)),(t()(),Qi(18,0,null,null,1,"h1",[["class","mb-10"]],null,null,null,null,null)),(t()(),oo(-1,null,["News"])),(t()(),Qi(20,0,null,null,5,"div",[["class","panel-body-fix"]],null,null,null,null,null)),(t()(),Qi(21,0,null,null,4,"div",[["class","card example-1 scrollbar-morpheus-den"]],null,null,null,null,null)),(t()(),Qi(22,0,null,null,3,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Qi(23,0,null,null,2,"div",[["class","container"]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,1,null,ed)),Ms(25,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null),(t()(),Qi(26,0,null,null,9,"section",[["class","service-area section-gap relative"],["id","service"]],null,null,null,null,null)),(t()(),Qi(27,0,null,null,0,"div",[["class","overlay overlay-bg"]],null,null,null,null,null)),(t()(),Qi(28,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(29,0,null,null,6,"div",[["class","row d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Qi(30,0,null,null,5,"div",[["class","menu-content pb-60 col-lg-10"]],null,null,null,null,null)),(t()(),Qi(31,0,null,null,4,"div",[["class","title text-center"]],null,null,null,null,null)),(t()(),Qi(32,0,null,null,1,"h1",[["class","mb-10 text-white"]],null,null,null,null,null)),(t()(),oo(-1,null,["Research Areas"])),(t()(),Qi(34,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),oo(-1,null,["Active research in software engineering in the areas of software testing, program analysis, self-healing complex systems, engineering scientific software systems "])),(t()(),Qi(36,0,null,null,41,"section",[["class","services-area pb-100"]],null,null,null,null,null)),(t()(),Qi(37,0,null,null,40,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(38,0,null,null,39,"div",[["class","row"]],null,null,null,null,null)),(t()(),Qi(39,0,null,null,13,"div",[["class","col-lg-4"]],null,null,null,null,null)),(t()(),Qi(40,0,null,null,12,"div",[["class","single-service"]],null,null,null,null,null)),(t()(),Qi(41,0,null,null,0,"img",[["alt",""],["class","img-fluid"],["src","assets/img/software-test.png"]],null,null,null,null,null)),(t()(),Qi(42,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),oo(-1,null,["Software Testing"])),(t()(),Qi(44,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,["Testing Concurrent and Distributed Systems"])),(t()(),Qi(46,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Qi(47,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,["Testing Interactive Applications"])),(t()(),Qi(49,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Qi(50,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,["Test oracles"])),(t()(),Qi(52,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Qi(53,0,null,null,13,"div",[["class","col-lg-4"]],null,null,null,null,null)),(t()(),Qi(54,0,null,null,12,"div",[["class","single-service"]],null,null,null,null,null)),(t()(),Qi(55,0,null,null,0,"img",[["alt",""],["class","img-fluid"],["src","assets/img/self-healing.png"]],null,null,null,null,null)),(t()(),Qi(56,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),oo(-1,null,["Self-healing Complex Systems"])),(t()(),Qi(58,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,["Failure prediction "])),(t()(),Qi(60,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Qi(61,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,["fault localization"])),(t()(),Qi(63,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Qi(64,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,[" self-healing on-demand for complex software applications and cloud systems"])),(t()(),Qi(66,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Qi(67,0,null,null,10,"div",[["class","col-lg-4"]],null,null,null,null,null)),(t()(),Qi(68,0,null,null,9,"div",[["class","single-service"]],null,null,null,null,null)),(t()(),Qi(69,0,null,null,0,"img",[["alt",""],["class","img-fluid"],["src","assets/img/program-analysis.png"]],null,null,null,null,null)),(t()(),Qi(70,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),oo(-1,null,["Program Analysis"])),(t()(),Qi(72,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),Qi(73,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,["Symbolic analysis of complex software systems"])),(t()(),Qi(75,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),Qi(76,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(-1,null,["Engineering scientific software systems"])),(t()(),Qi(78,0,null,null,29,"section",[["class","review-area section-gap"],["id","testimonial"]],null,null,null,null,null)),(t()(),Qi(79,0,null,null,28,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(80,0,null,null,4,"div",[["class","row d-flex justify-content-center"]],null,null,null,null,null)),(t()(),Qi(81,0,null,null,3,"div",[["class","menu-content pb-60 col-lg-10"]],null,null,null,null,null)),(t()(),Qi(82,0,null,null,2,"div",[["class","title text-center"]],null,null,null,null,null)),(t()(),Qi(83,0,null,null,1,"h1",[["class","mb-10"]],null,null,null,null,null)),(t()(),oo(-1,null,["History and Collaborations"])),(t()(),Qi(85,0,null,null,22,"div",[["class","row"]],null,null,null,null,null)),(t()(),Qi(86,0,null,null,21,"div",[["class","col-lg-6"]],null,null,null,null,null)),(t()(),Qi(87,0,null,null,20,"div",[["class","single-review"]],null,null,null,null,null)),(t()(),Qi(88,0,null,null,0,"img",[["alt",""],["src","assets/img/history-icon.png"]],null,null,null,null,null)),(t()(),Qi(89,0,null,null,0,"img",[["alt",""],["src","assets/img/collab-icon.png"]],null,null,null,null,null)),(t()(),Qi(90,0,null,null,0,"div",[["class","title d-flex flex-row"]],null,null,null,null,null)),(t()(),Qi(91,0,null,null,5,"p",[],null,null,null,null,null)),(t()(),oo(-1,null,[" Founded by Mauro Pezz\xe8 in 2006. "])),(t()(),Qi(93,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),oo(-1,null,[" It hosted over 30 PhD students and postdocs. "])),(t()(),Qi(95,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),oo(-1,null,[" Active main collaborations with: "])),(t()(),Qi(97,0,null,null,10,"ul",[["class","unordered-list"]],null,null,null,null,null)),(t()(),Qi(98,0,null,null,1,"li",[],null,null,null,null,null)),(t()(),oo(-1,null,[" The twin Laboratory for Software Testing and Analysis (LTA) of the Universit\xe0 di Milano Bicocca (founded and directed by Mauro Pezz\xe8 since 2000) (Milano, Italy)and with "])),(t()(),Qi(100,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),oo(-1,null,["Oregon University (Eugene, US). "])),(t()(),Qi(102,0,null,null,1,"a",[["href","http://ix.cs.uoregon.edu/~michal/"]],null,null,null,null,null)),(t()(),oo(-1,null,["(Michal Young)"])),(t()(),Qi(104,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),oo(-1,null,["University of Washington (Seattle, US). "])),(t()(),Qi(106,0,null,null,1,"a",[["href","https://homes.cs.washington.edu/~mernst/"]],null,null,null,null,null)),(t()(),oo(-1,null,["(Michal Ernst)"]))],function(t,e){t(e,25,0,e.component.NEWS)},null)}function nd(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"app-home",[],null,null,null,rd,td)),Ms(1,114688,null,0,Yf,[Vh,Jf],null,null)],function(t,e){t(e,1,0)},null)}var id=hs("app-home",Yf,nd,{},{},[]),sd=function(){function t(){}return t.prototype.transform=function(t,e){return t&&e?t.filter(function(t){return-1!==t.title.indexOf(e.title)}):t},t}(),od=function(){function t(t){this.http=t,this.url="https://alimohebbi.pythonanywhere.com/api/people"}return t.prototype.getPeople=function(){return this.http.get(this.url)},t.ngInjectableDef=xt({factory:function(){return new t(Zt(Mf))},token:t,providedIn:"root"}),t}(),ad=function(){function t(t){this.peopleService=t}return t.prototype.ngOnInit=function(){var t=this;this.peopleService.getPeople().subscribe(function(e){t.PEOPLE=e,console.log(t.PEOPLE)})},t}(),ld=yi({encapsulation:0,styles:[['.column[_ngcontent-%COMP%]{float:left;width:33.3%;margin-bottom:16px;padding:0 8px}@media screen and (max-width:650px){.column[_ngcontent-%COMP%]{width:100%;display:block}}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.container[_ngcontent-%COMP%]{padding:0 16px}.container[_ngcontent-%COMP%]::after, .row[_ngcontent-%COMP%]::after{content:"";clear:both;display:table}.title[_ngcontent-%COMP%]{color:grey}.button[_ngcontent-%COMP%]{border:none;outline:0;display:inline-block;padding:8px;color:#fff;background-color:#000;text-align:center;cursor:pointer;width:100%}.button[_ngcontent-%COMP%]:hover{background-color:#555}.team-member[_ngcontent-%COMP%]{color:#1c7430;font-size:large}.image-team[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding-bottom:100%}.image-team[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}']],data:{}});function ud(t){return uo(0,[(t()(),Qi(0,0,null,null,9,"div",[["class","mt-3 col-6 col-sm-4 col-lg-3"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,1,"div",[["class","image-team"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,0,"img",[["class","img img-responsive full-width "]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),Qi(4,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),Qi(6,0,null,null,1,"a",[["class","team-member"]],[[8,"href",4]],null,null,null,null)),(t()(),oo(7,null,[""," ",""])),(t()(),Qi(8,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),oo(9,null,["",""]))],null,function(t,e){t(e,3,0,Hi(1,"",e.context.$implicit.image,""),Hi(1,"",e.context.$implicit.first_name,"")),t(e,6,0,Hi(1,"",e.context.$implicit.web_page,"")),t(e,7,0,e.context.$implicit.first_name,e.context.$implicit.last_name),t(e,9,0,e.context.$implicit.description)})}function cd(t){return uo(0,[(t()(),Qi(0,0,null,null,9,"div",[["class","mt-3 col-6 col-sm-4 col-lg-3"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,1,"div",[["class","image-team"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,0,"img",[["class","img img-responsive full-width "]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),Qi(4,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),Qi(6,0,null,null,1,"a",[["class","team-member"]],[[8,"href",4]],null,null,null,null)),(t()(),oo(7,null,[""," ",""])),(t()(),Qi(8,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),oo(9,null,["",""]))],null,function(t,e){t(e,3,0,Hi(1,"",e.context.$implicit.image,""),Hi(1,"",e.context.$implicit.first_name,"")),t(e,6,0,Hi(1,"",e.context.$implicit.web_page,"")),t(e,7,0,e.context.$implicit.first_name,e.context.$implicit.last_name),t(e,9,0,e.context.$implicit.description)})}function pd(t){return uo(0,[(t()(),Qi(0,0,null,null,9,"div",[["class","mt-3 col-6 col-sm-4 col-lg-3"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,1,"div",[["class","image-team"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,0,"img",[["class","img img-responsive full-width "]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),Qi(4,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),Qi(6,0,null,null,1,"a",[["class","team-member"]],[[8,"href",4]],null,null,null,null)),(t()(),oo(7,null,[""," ",""])),(t()(),Qi(8,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),oo(9,null,["",""]))],null,function(t,e){t(e,3,0,Hi(1,"",e.context.$implicit.image,""),Hi(1,"",e.context.$implicit.first_name,"")),t(e,6,0,Hi(1,"",e.context.$implicit.web_page,"")),t(e,7,0,e.context.$implicit.first_name,e.context.$implicit.last_name),t(e,9,0,e.context.$implicit.description)})}function hd(t){return uo(0,[(t()(),Qi(0,0,null,null,9,"div",[["class","mt-3 col-6 col-sm-4 col-lg-3"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,8,"div",[["class","card"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,1,"div",[["class","image-team"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,0,"img",[["class","img img-responsive full-width "]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),Qi(4,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),Qi(6,0,null,null,1,"a",[["class","team-member"]],[[8,"href",4]],null,null,null,null)),(t()(),oo(7,null,[""," ",""])),(t()(),Qi(8,0,null,null,1,"p",[["class","title"]],null,null,null,null,null)),(t()(),oo(9,null,["",""]))],null,function(t,e){t(e,3,0,Hi(1,"",e.context.$implicit.image,""),Hi(1,"",e.context.$implicit.first_name,"")),t(e,6,0,Hi(1,"",e.context.$implicit.web_page,"")),t(e,7,0,e.context.$implicit.first_name,e.context.$implicit.last_name),t(e,9,0,e.context.$implicit.description)})}function fd(t){return uo(0,[(t()(),Qi(0,0,null,null,6,"section",[["class","generic-banner relative"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,4,"div",[["class","row height align-items-center justify-content-center"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,3,"div",[["class","col-lg-10"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,2,"div",[["class","generic-banner-content"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,1,"h2",[["class","text-white"]],null,null,null,null,null)),(t()(),oo(-1,null,["List of Current and Past Members"])),(t()(),Qi(7,0,null,null,30,"div",[["class","main-wrapper"]],null,null,null,null,null)),(t()(),Qi(8,0,null,null,29,"section",[["class","about-generic-area section-gap"]],null,null,null,null,null)),(t()(),Qi(9,0,null,null,28,"div",[["class","container border-top-generic"]],null,null,null,null,null)),(t()(),Qi(10,0,null,null,1,"h3",[["class","about-title mb-30"]],null,null,null,null,null)),(t()(),oo(-1,null,["Principal Investigator"])),(t()(),Qi(12,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,3,null,ud)),Ms(14,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null),io(15,{title:0}),Ls(0,sd,[]),(t()(),Qi(17,0,null,null,1,"h3",[["class","mt-5 about-title mb-30"]],null,null,null,null,null)),(t()(),oo(-1,null,["Post-docs"])),(t()(),Qi(19,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,3,null,cd)),Ms(21,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null),io(22,{title:0}),Ls(0,sd,[]),(t()(),Qi(24,0,null,null,1,"h3",[["class","mt-5 about-title mb-30"]],null,null,null,null,null)),(t()(),oo(-1,null,["PhD Students"])),(t()(),Qi(26,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,3,null,pd)),Ms(28,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null),io(29,{title:0}),Ls(0,sd,[]),(t()(),Qi(31,0,null,null,1,"h3",[["class","mt-5 about-title mb-30"]],null,null,null,null,null)),(t()(),oo(-1,null,["Former Members"])),(t()(),Qi(33,0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,3,null,hd)),Ms(35,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null),io(36,{title:0}),Ls(0,sd,[])],function(t,e){var r=e.component,n=gi(e,14,0,Es(e,16).transform(r.PEOPLE,t(e,15,0,"invest")));t(e,14,0,n);var i=gi(e,21,0,Es(e,23).transform(r.PEOPLE,t(e,22,0,"post")));t(e,21,0,i);var s=gi(e,28,0,Es(e,30).transform(r.PEOPLE,t(e,29,0,"phd")));t(e,28,0,s);var o=gi(e,35,0,Es(e,37).transform(r.PEOPLE,t(e,36,0,"former")));t(e,35,0,o)},null)}function dd(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"app-people",[],null,null,null,fd,ld)),Ms(1,114688,null,0,ad,[od],null,null)],function(t,e){t(e,1,0)},null)}var md=hs("app-people",ad,dd,{},{},[]),gd=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),bd=yi({encapsulation:0,styles:[["h6[_ngcontent-%COMP%]{color:#000;font-size:15px;margin-top:3px;margin-bottom:0}li[_ngcontent-%COMP%]{margin-bottom:10px}"]],data:{}});function vd(t){return uo(0,[(t()(),Qi(0,0,null,null,8,"section",[["class","generic-banner relative"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,6,"div",[["class","row height align-items-center justify-content-center"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,5,"div",[["class","col-lg-10"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,4,"div",[["class","generic-banner-content"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,1,"h2",[["class","text-white"]],null,null,null,null,null)),(t()(),oo(-1,null,["Research Areas"])),(t()(),Qi(7,0,null,null,1,"p",[["class","text-white"]],null,null,null,null,null)),(t()(),oo(-1,null,["Active research in software engineering in the areas of software testing, program analysis, self-healing complex systems, engineering scientific software systems "])),(t()(),Qi(9,0,null,null,62,"div",[["class","main-wrapper"]],null,null,null,null,null)),(t()(),Qi(10,0,null,null,61,"section",[["class","about-generic-area section-gap"]],null,null,null,null,null)),(t()(),Qi(11,0,null,null,60,"div",[["class","container border-top-generic"]],null,null,null,null,null)),(t()(),Qi(12,0,null,null,40,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(13,0,null,null,1,"h3",[["class","text-heading"]],null,null,null,null,null)),(t()(),oo(-1,null,["Software Testing"])),(t()(),Qi(15,0,null,null,1,"p",[["class","sample-text"]],null,null,null,null,null)),(t()(),oo(-1,null,[" Aim to improve the quality of complex software systems by automatically generating test suites form complex software systems. On going research on "])),(t()(),Qi(17,0,null,null,34,"ul",[["class","unordered-list"]],null,null,null,null,null)),(t()(),Qi(18,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Qi(19,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),oo(-1,null,["Testing Concurrent and Distributed Systems"])),(t()(),oo(-1,null,[" Generation of concurrent test cases (inputs, interleavings and oracles) for shared memory, message passing and event driven system. "])),(t()(),Qi(22,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),oo(-1,null,["Latest Result"])),(t()(),Qi(24,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Survey paper on recent trends of testing concurrent systems (TSE 2018)."])),(t()(),Qi(26,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Reproduction of concurrency failures from stack traces (FSE 2017)."])),(t()(),Qi(28,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Generation of concurrent test cases (ASE 2018)."])),(t()(),Qi(30,0,null,null,9,"li",[],null,null,null,null,null)),(t()(),Qi(31,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),oo(-1,null,["Testing Interactive Applications"])),(t()(),oo(-1,null,[" Generation of test cases (interaction sequences and oracles) for desktop, mobile, event driven and human-centric applications "])),(t()(),Qi(34,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),oo(-1,null,["Latest Results"])),(t()(),Qi(36,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Test case generators for interactive applications relying on semantic information (ICSE 2017) "])),(t()(),Qi(38,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Q-Learning (ICST 2012, ICSE 2011) and Web of Data (ISSTA 2014) "])),(t()(),Qi(40,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Qi(41,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),oo(-1,null,["Test oracles"])),(t()(),oo(-1,null,[" Generation of test oracles from intrinsic software redundancy and natural language annotations. "])),(t()(),Qi(44,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),oo(-1,null,["Latest Result"])),(t()(),Qi(46,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Generation of code assertions from Javadoc comments (ISSTA 2016 and 2018)."])),(t()(),Qi(48,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Study of intrinsic software redundancy (ICSE 2015)."])),(t()(),Qi(50,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Oracle generation from intrinsic redundancy (ICSE 2014)."])),(t()(),Qi(52,0,null,null,0,"hr",[["class","border-info"]],null,null,null,null,null)),(t()(),Qi(53,0,null,null,18,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(54,0,null,null,1,"h3",[["class","text-heading"]],null,null,null,null,null)),(t()(),oo(-1,null,["Self-healing complex systems"])),(t()(),Qi(56,0,null,null,1,"p",[["class","sample-text"]],null,null,null,null,null)),(t()(),oo(-1,null,[" Failure prediction, fault localization, self-healing on-demand for complex software applications and cloud systems "])),(t()(),Qi(58,0,null,null,12,"ul",[["class","unordered-list"]],null,null,null,null,null)),(t()(),Qi(59,0,null,null,11,"li",[],null,null,null,null,null)),(t()(),Qi(60,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),oo(-1,null,["Testing Concurrent and Distributed Systems"])),(t()(),oo(-1,null,[" Generation of concurrent test cases (inputs, interleavings and oracles) for shared memory, message passing and event driven system. "])),(t()(),Qi(63,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),oo(-1,null,["Latest Result"])),(t()(),Qi(65,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Automatic generation of workarounds for web applications (TOSEM 2015, FSE 2010)"])),(t()(),Qi(67,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["and general purpose applications (ICSE 2013)."])),(t()(),Qi(69,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(-1,null,["Fault localisation in cloud systems (ICST 2018)."])),(t()(),Qi(71,0,null,null,0,"hr",[["class","border-info"]],null,null,null,null,null))],null,null)}function yd(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"app-research",[],null,null,null,vd,bd)),Ms(1,114688,null,0,gd,[],null,null)],function(t,e){t(e,1,0)},null)}var _d=hs("app-research",gd,yd,{},{},[]),xd=function(){function t(t){this.http=t,this.url="https://alimohebbi.pythonanywhere.com/api/software"}return t.prototype.getSoftwareList=function(){return this.http.get(this.url)},t.prototype.getSoftware=function(t){var e=this.url+"/"+t;return console.log(e),this.http.get(e)},t.prototype.getAuthors=function(t){var e=this.url+"/"+t+"/authors";return console.log(e),this.http.get(e)},t.prototype.getHtmlDetail=function(t){return console.log(t),t=t.replace("http","https"),this.http.get(t,{responseType:"text"})},t.ngInjectableDef=xt({factory:function(){return new t(Zt(Mf))},token:t,providedIn:"root"}),t}(),wd=function(){function t(t){this.softwareService=t}return t.prototype.ngOnInit=function(){var t=this;this.softwareService.getSoftwareList().subscribe(function(e){return t.SOFTWARE=e})},t}(),Ed=yi({encapsulation:0,styles:[[""]],data:{}});function Ad(t){return uo(0,[(t()(),Qi(0,0,null,null,2,"a",[["class","btn btn-lg btn-block btn-primary mt-auto"],["role","button"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,r){var n=!0;return"click"===e&&(n=!1!==Es(t,1).onClick(r.button,r.ctrlKey,r.metaKey,r.shiftKey)&&n),n},null,null)),Ms(1,671744,null,0,$h,[Vh,Pp,xa],{routerLink:[0,"routerLink"]},null),(t()(),oo(-1,null,[" View Detail "]))],function(t,e){t(e,1,0,Hi(1,"/software-data/",e.parent.context.$implicit.id,""))},function(t,e){t(e,0,0,Es(e,1).target,Es(e,1).href)})}function Sd(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"button",[["class","btn btn-lg btn-block btn-secondary mt-auto"],["disabled",""],["role","button"]],null,null,null,null,null)),(t()(),oo(-1,null,[" View Detail "]))],null,null)}function Od(t){return uo(0,[(t()(),Qi(0,0,null,null,10,"div",[["class"," col-12 col-md-6 col-lg-4 d-flex align-items-stretch "]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,9,"div",[["class","card mb-4 shadow-sm "]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,1,"h3",[["class","my-0 font-weight-normal text-center"]],null,null,null,null,null)),(t()(),oo(4,null,["",""])),(t()(),Qi(5,0,null,null,5,"div",[["class","card-body d-flex flex-column"]],null,null,null,null,null)),(t()(),Qi(6,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),oo(7,null,[" "," "])),(t()(),Xi(16777216,null,null,1,null,Ad)),Ms(9,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(t()(),Xi(0,[["disable_button",2]],null,0,null,Sd))],function(t,e){t(e,9,0,e.context.$implicit.detail||e.context.$implicit.introduction,Es(e,10))},function(t,e){t(e,4,0,e.context.$implicit.title),t(e,7,0,e.context.$implicit.description)})}function Cd(t){return uo(0,[(t()(),Qi(0,0,null,null,6,"section",[["class","generic-banner relative"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,4,"div",[["class","row height align-items-center justify-content-center"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,3,"div",[["class","col-lg-10"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,2,"div",[["class","generic-banner-content"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,1,"h2",[["class","text-white"]],null,null,null,null,null)),(t()(),oo(-1,null,["Software and Data"])),(t()(),Qi(7,0,null,null,5,"div",[["class","main-wrapper"]],null,null,null,null,null)),(t()(),Qi(8,0,null,null,4,"section",[["class","about-generic-area section-gap"]],null,null,null,null,null)),(t()(),Qi(9,0,null,null,3,"div",[["class","container border-top-generic"]],null,null,null,null,null)),(t()(),Qi(10,0,null,null,2,"div",[["class"," row  mb-3 "]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,1,null,Od)),Ms(12,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,12,0,e.component.SOFTWARE)},null)}function Td(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"app-software-data",[],null,null,null,Cd,Ed)),Ms(1,114688,null,0,wd,[xd],null,null)],function(t,e){t(e,1,0)},null)}var kd=hs("app-software-data",wd,Td,{},{},[]),Id=function(){function t(t,e,r){this.route=t,this.softwareService=e,this.sanitizer=r}return t.prototype.ngOnInit=function(){this.getSoftware()},t.prototype.getSoftware=function(){var t=this,e=+this.route.snapshot.paramMap.get("id");this.softwareService.getSoftware(e).subscribe(function(e){t.soft=e[0],t.getDetail()}),this.softwareService.getAuthors(e).subscribe(function(e){return t.PEOPLE=e})},t.prototype.getDetail=function(){var t=this;this.softwareService.getHtmlDetail(this.soft.detail).subscribe(function(e){t.detail=t.sanitizer.bypassSecurityTrustHtml(e)})},t}(),Nd=yi({encapsulation:0,styles:[['.column[_ngcontent-%COMP%]{float:left;width:33.3%;margin-bottom:16px;padding:0 8px}@media screen and (max-width:650px){.column[_ngcontent-%COMP%]{width:100%;display:block}}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.container[_ngcontent-%COMP%]{padding:0 16px}.container[_ngcontent-%COMP%]::after, .row[_ngcontent-%COMP%]::after{content:"";clear:both;display:table}.title[_ngcontent-%COMP%]{color:grey}.button[_ngcontent-%COMP%]{border:none;outline:0;display:inline-block;padding:8px;color:#fff;background-color:#000;text-align:center;cursor:pointer;width:100%}.button[_ngcontent-%COMP%]:hover{background-color:#555}.team-member[_ngcontent-%COMP%]{color:#1c7430;font-size:large}.image-team[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding-bottom:100%}.image-team[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;height:100%;width:100%}  .software-page ol li{list-style-type:decimal;list-style-position:inside;padding-left:20px}  .software-page ul li{list-style-type:circle;list-style-position:inside;padding-left:20px}  .software-page ol,   .software-page ul{padding-left:20px}  .software-page a{letter-spacing:0}  .software-page div{margin-left:auto;margin-right:auto}  h3,   h4,   h5{margin-top:30px;margin-bottom:20px}']],data:{}});function Pd(t){return uo(0,[(t()(),Qi(0,0,null,null,10,"div",[["class","mt-3 col-6 col-sm-4 col-lg-2"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,9,"div",[["class","card"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,1,"div",[["class","image-team "]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,0,"img",[["class","img img-responsive full-width "]],[[8,"src",4],[8,"alt",0]],null,null,null,null)),(t()(),Qi(4,0,null,null,6,"div",[["class","container "]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,5,"h3",[],null,null,null,null,null)),(t()(),Qi(6,0,null,null,4,"a",[["class","team-member"]],[[8,"href",4]],null,null,null,null)),(t()(),Qi(7,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(8,null,[""," "])),(t()(),Qi(9,0,null,null,1,"div",[],null,null,null,null,null)),(t()(),oo(10,null,["",""]))],null,function(t,e){t(e,3,0,Hi(1,"",e.context.$implicit.image,""),Hi(1,"",e.context.$implicit.first_name,"")),t(e,6,0,Hi(1,"",e.context.$implicit.web_page,"")),t(e,8,0,e.context.$implicit.first_name),t(e,10,0,e.context.$implicit.last_name)})}function Dd(t){return uo(0,[(t()(),Qi(0,0,null,null,6,"section",[["class","generic-banner relative"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,4,"div",[["class","row height align-items-center justify-content-center"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,3,"div",[["class","col-lg-10"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,2,"div",[["class","generic-banner-content"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,1,"h2",[["class","text-white"]],null,null,null,null,null)),(t()(),oo(-1,null,["Software"])),(t()(),Qi(7,0,null,null,16,"div",[["class","main-wrapper"]],null,null,null,null,null)),(t()(),Qi(8,0,null,null,15,"section",[["class","about-generic-area section-gap"]],null,null,null,null,null)),(t()(),Qi(9,0,null,null,14,"div",[["class","container border-top-generic "]],null,null,null,null,null)),(t()(),Qi(10,0,null,null,3,"div",[["class"," row justify-content-center"]],null,null,null,null,null)),(t()(),Qi(11,0,null,null,2,"div",[["class","col-auto"]],null,null,null,null,null)),(t()(),Qi(12,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),oo(13,null,["",""])),(t()(),Qi(14,0,null,null,1,"p",[["class","mt-5"]],null,null,null,null,null)),(t()(),oo(15,null,["",""])),(t()(),Qi(16,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Qi(17,0,null,null,1,"h5",[],null,null,null,null,null)),(t()(),oo(-1,null,["Authors"])),(t()(),Qi(19,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,1,null,Pd)),Ms(21,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null),(t()(),Qi(22,0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),Qi(23,0,null,null,0,"div",[["class","software-page"]],[[8,"innerHTML",1]],null,null,null,null))],function(t,e){t(e,21,0,e.component.PEOPLE)},function(t,e){var r=e.component;t(e,13,0,r.soft.title),t(e,15,0,r.soft.introduction),t(e,23,0,r.detail)})}function Rd(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"app-software-details",[],null,null,null,Dd,Nd)),Ms(1,114688,null,0,Id,[Pp,xd,fc],null,null)],function(t,e){t(e,1,0)},null)}var jd=hs("app-software-details",Id,Rd,{},{},[]),Md=(new wf({"Content-Type":"application/json"}),function(){function t(t){this.http=t,this.bibUrl="https://alimohebbi.pythonanywhere.com/api/publications"}return t.prototype.getBib=function(){return this.http.get(this.bibUrl)},t.prototype.extractData=function(t){return t.text()||{}},t.prototype.handleError=function(t,e){return void 0===t&&(t="operation"),function(t){return console.error(t),Sl(e)}},t.ngInjectableDef=xt({factory:function(){return new t(Zt(Mf))},token:t,providedIn:"root"}),t}()),Ld=r("ajLg"),Fd=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,r){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(_)),Ud=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),Bd=new(function(t){function e(r,n){void 0===n&&(n=Ud.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Ud))(Fd);function zd(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}var Vd=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new $d(t,this.predicate))},t}(),$d=function(t){function e(e,r){var n=t.call(this,e)||this;return n.predicate=r,n.index=0,n}return i(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(n){return void r.error(n)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(C),qd=function(){function t(t){this.publicationService=t,this.selectedEntry="",this.progressStatus=0}return t.prototype.ngOnInit=function(){var t=this;this.loading=!0,this.publicationService.getBib().subscribe(function(e){t.prepareBibData(e),t.loading=!1}),this.progress()},t.prototype.setCurrentYear=function(t){this.currentYear=t},t.prototype.parseBibFromText=function(t){var e=this.cleanData(t);console.log(e);var r=new Ld(e,{forceType:"@bibtex/text"});this.entries=r.format("bibliography",{format:"bibtex",template:"apa",lang:"en-US"})},t.prototype.cleanData=function(t){var e=t.replace(/^%.*\n?/gm,"");return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/^@String{NONE = "".*\n?/gm,"")).replace(/^.*groups: NONE.*\n?/gm,"")).replace(/^.* keywords = {invariant, dynamic .*\n?/gm,"")).replace(/^.*journal = TOC.*\n?/gm,"")).replace(/^.*journal = jacm.*\n?/gm,"")).replace(/^.*journal = VLDB.*\n?/gm,"")).replace(/^.*journal = TSE.*\n?/gm,"")).replace(/^.*journal=TSE.*\n?/gm,"")).replace(/^.*journal = TOSEM.*\n?/gm,"")).replace(/^.*journal=TOSEM.*\n?/gm,"")).replace(/^.*booktitle =\x09 ISCA.*\n?/gm,"")).replace(/^  title = {Proceedings of.*\n?/gm,"")).replace(/^  month = April.*\n?/gm,"")).replace(/^@article{Anand:testingsurvey:JSS:.*}?/gm,"")).replace(/^.*#.*\n?/gm,"")).replace(/^.*\\l.*\n?/gm,"")).replace(/^.*\\i.*\n?/gm,"")},t.prototype.onSelect=function(t){t.ID!==this.selectedEntry.ID?(this.selectedEntry=t,this.selectedBib=this.toBibtexSingle(t)):this.selectedEntry=""},t.prototype.toBibtexSingle=function(t){var e="";console.log(t),e+="@"+t.ENTRYTYPE,e+="{ ",e+=t.ID;for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];"ENTRYTYPE"!==i&&"ID"!==i&&(e+=", \n",e+=i+"= {"+t[i]+"}")}return e+="\n}\n",console.log(e),e},t.prototype.prepareBibData=function(t){var e=t.filter(function(t){return"STAR"===t.groups});this.entries=e.sort(function(t,e){return Number(t.year)>Number(e.year)?-1:Number(t.year)<Number(e.year)?1:0})},t.prototype.progress=function(){var t,e,r,n,i=this;(e=1e3,void 0===e&&(e=0),void 0===r&&(r=Bd),(p(n=e)||!(n-parseFloat(n)+1>=0)||e<0)&&(e=0),r&&"function"==typeof r.schedule||(r=Bd),new D(function(t){return t.add(r.schedule(zd,e,{subscriber:t,counter:0,period:e})),t})).pipe((t=function(){return i.progressStatus<100&&i.loading},function(e){return e.lift(new Vd(t))})).subscribe(function(){return i.progressStatus=i.progressStatus+10})},t}(),Hd=yi({encapsulation:0,styles:[['.btn-light[_ngcontent-%COMP%]{white-space:pre-wrap;box-shadow:0 4px 8px 0 rgba(0,0,0,.2)}.paper-title[_ngcontent-%COMP%]{color:#000}#loader[_ngcontent-%COMP%]{bottom:0;height:175px;left:0;margin:auto;position:absolute;right:0;top:0;width:175px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]::before{border-radius:100%;content:"";height:87.5px;left:0;position:absolute;right:0;top:0;-webkit-transform:scale(0);transform:scale(0);width:87.5px}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1){-webkit-transform:rotate(45deg);transform:rotate(45deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+1)::before{-webkit-animation:.8s linear .1s infinite load;animation:.8s linear .1s infinite load;background:#00ff80}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2){-webkit-transform:rotate(90deg);transform:rotate(90deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+2)::before{-webkit-animation:.8s linear .2s infinite load;animation:.8s linear .2s infinite load;background:#00ffea}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3){-webkit-transform:rotate(135deg);transform:rotate(135deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+3)::before{-webkit-animation:.8s linear .3s infinite load;animation:.8s linear .3s infinite load;background:#0af}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4){-webkit-transform:rotate(180deg);transform:rotate(180deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+4)::before{-webkit-animation:.8s linear .4s infinite load;animation:.8s linear .4s infinite load;background:#0040ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5){-webkit-transform:rotate(225deg);transform:rotate(225deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+5)::before{-webkit-animation:.8s linear .5s infinite load;animation:.8s linear .5s infinite load;background:#2a00ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6){-webkit-transform:rotate(270deg);transform:rotate(270deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+6)::before{-webkit-animation:.8s linear .6s infinite load;animation:.8s linear .6s infinite load;background:#9500ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7){-webkit-transform:rotate(315deg);transform:rotate(315deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+7)::before{-webkit-animation:.8s linear .7s infinite load;animation:.8s linear .7s infinite load;background:#ff00ff}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8){-webkit-transform:rotate(360deg);transform:rotate(360deg)}#loader[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]:nth-child(7n+8)::before{-webkit-animation:.8s linear .8s infinite load;animation:.8s linear .8s infinite load;background:#ff0095}#loader[_ngcontent-%COMP%]   .loading[_ngcontent-%COMP%]{background-position:50% 50%;background-repeat:no-repeat;bottom:-40px;height:20px;left:0;position:absolute;right:0;width:180px}@-webkit-keyframes load{100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes load{100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.spinner-message[_ngcontent-%COMP%]{text-align:center}']],data:{}});function Gd(t){return uo(0,[(t()(),Qi(0,0,null,null,3,"div",[["class","row justify-content-center"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,2,"div",[["class","col-2 align-content-end"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),oo(-1,null,["Loading"]))],null,null)}function Xd(t){return uo(0,[(t()(),Qi(0,0,null,null,2,"div",[["class","progress mt-2"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,1,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","50"],["class","progress-bar progress-bar-striped progress-bar-animated"],["role","progressbar"]],[[4,"width","%"]],null,null,null,null)),(t()(),oo(2,null,["","% "]))],null,function(t,e){var r=e.component;t(e,1,0,r.progressStatus),t(e,2,0,r.progressStatus)})}function Qd(t){return uo(0,[(t()(),Qi(0,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),Qi(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),oo(2,null,["",""])),(t()(),oo(3,null,[" "," "])),(t()(),Qi(4,0,null,null,0,"hr",[],null,null,null,null,null))],null,function(t,e){var r=e.component;t(e,2,0,e.parent.context.$implicit.year),t(e,3,0,r.setCurrentYear(e.parent.context.$implicit.year))})}function Wd(t){return uo(0,[(t()(),Qi(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Qi(1,0,null,null,1,"b",[["class","paper-title"]],null,null,null,null,null)),(t()(),oo(2,null,[""," "]))],null,function(t,e){t(e,2,0,e.parent.context.$implicit.title)})}function Kd(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(1,null,[""," "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.author)})}function Zd(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(1,null,[", "," "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.year)})}function Jd(t){return uo(0,[(t()(),Qi(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Qi(1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),oo(2,null,[", ",""]))],null,function(t,e){t(e,2,0,e.parent.context.$implicit.journal)})}function Yd(t){return uo(0,[(t()(),Qi(0,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),Qi(1,0,null,null,1,"i",[],null,null,null,null,null)),(t()(),oo(2,null,[", ",""]))],null,function(t,e){t(e,2,0,e.parent.context.$implicit.booktitle)})}function tm(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(1,null,[", "," "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.publisher)})}function em(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),oo(1,null,[", "," "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.pages)})}function rm(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"a",[["class"," btn btn-block btn-primary mt-1 "],["role","button"]],[[8,"href",4]],null,null,null,null)),(t()(),oo(-1,null,["PDF"]))],null,function(t,e){t(e,0,0,Hi(1,"http://star.inf.usi.ch/star/",e.parent.context.$implicit.pdf,""))})}function nm(t){return uo(0,[(t()(),Qi(0,0,null,null,2,"div",[["class","row"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,1,"div",[["class","col alert alert-primary mt-2"]],null,null,null,null,null)),(t()(),oo(2,null,[" "," "]))],null,function(t,e){t(e,2,0,e.component.selectedBib)})}function im(t){return uo(0,[(t()(),Qi(0,0,null,null,27,"div",[],null,null,null,null,null)),(t()(),Xi(16777216,null,null,1,null,Qd)),Ms(2,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Qi(3,0,null,null,24,"div",[["class"," container alert btn-light"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,21,"div",[["class","row align-items-center"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,15,"div",[["class","col-10 "]],null,null,null,null,null)),(t()(),Qi(6,0,null,null,2,"div",[],null,null,null,null,null)),(t()(),Xi(16777216,null,null,1,null,Wd)),Ms(8,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,Kd)),Ms(10,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,Zd)),Ms(12,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,Jd)),Ms(14,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,Yd)),Ms(16,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,tm)),Ms(18,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,em)),Ms(20,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Qi(21,0,null,null,4,"div",[["class","col"]],null,null,null,null,null)),(t()(),Qi(22,0,null,null,1,"div",[["class"," btn btn-block btn-primary "],["role","button"]],null,[[null,"click"]],function(t,e,r){var n=!0;return"click"===e&&(n=!1!==t.component.onSelect(t.context.$implicit)&&n),n},null,null)),(t()(),oo(-1,null,["bibtex"])),(t()(),Xi(16777216,null,null,1,null,rm)),Ms(25,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,nm)),Ms(27,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null)],function(t,e){var r=e.component;t(e,2,0,r.currentYear!==e.context.$implicit.year),t(e,8,0,e.context.$implicit.title),t(e,10,0,e.context.$implicit.author),t(e,12,0,e.context.$implicit.year),t(e,14,0,e.context.$implicit.journal),t(e,16,0,e.context.$implicit.booktitle),t(e,18,0,e.context.$implicit.publisher),t(e,20,0,e.context.$implicit.pages),t(e,25,0,e.context.$implicit.pdf),t(e,27,0,e.context.$implicit.ID===r.selectedEntry.ID)},null)}function sm(t){return uo(0,[(t()(),Qi(0,0,null,null,6,"section",[["class","generic-banner relative"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,5,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,4,"div",[["class","row height align-items-center justify-content-center"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,3,"div",[["class","col-lg-10"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,2,"div",[["class","generic-banner-content"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,1,"h2",[["class","text-white"]],null,null,null,null,null)),(t()(),oo(-1,null,["Publications"])),(t()(),Qi(7,0,null,null,8,"div",[["class","main-wrapper"]],null,null,null,null,null)),(t()(),Qi(8,0,null,null,7,"section",[["class","about-generic-area section-gap"]],null,null,null,null,null)),(t()(),Qi(9,0,null,null,6,"div",[["class","container border-top-generic"]],null,null,null,null,null)),(t()(),Xi(16777216,null,null,1,null,Gd)),Ms(11,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,Xd)),Ms(13,16384,null,0,fl,[Sn,mr],{ngIf:[0,"ngIf"]},null),(t()(),Xi(16777216,null,null,1,null,im)),Ms(15,278528,null,0,pl,[Sn,mr,Hn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var r=e.component;t(e,11,0,r.loading),t(e,13,0,1==r.loading),t(e,15,0,r.entries)},null)}function om(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"app-publication",[],null,null,null,sm,Hd)),Ms(1,114688,null,0,qd,[Md],null,null)],function(t,e){t(e,1,0)},null)}var am=hs("app-publication",qd,om,{},{},[]),lm=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),um=yi({encapsulation:0,styles:[[""]],data:{}});function cm(t){return uo(0,[(t()(),Qi(0,0,null,null,28,"header",[["class","default-header"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,27,"nav",[["class","navbar navbar-expand-lg  navbar-light"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,26,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,1,"a",[["class","navbar-brand"],["href","index.html"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,0,"img",[["alt",""],["src","assets/img/logo.png"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,1,"button",[["aria-controls","navbarSupportedContent"],["aria-expanded","true"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarSupportedContent"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Qi(6,0,null,null,0,"span",[["class","text-white lnr lnr-menu"]],null,null,null,null,null)),(t()(),Qi(7,0,null,null,21,"div",[["class","collapse navbar-collapse justify-content-end align-items-center"],["id","navbarSupportedContent"]],null,null,null,null,null)),(t()(),Qi(8,0,null,null,20,"ul",[["class","navbar-nav"]],null,null,null,null,null)),(t()(),Qi(9,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Qi(10,0,null,null,2,"a",[["routerLink","/home"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,r){var n=!0;return"click"===e&&(n=!1!==Es(t,11).onClick(r.button,r.ctrlKey,r.metaKey,r.shiftKey)&&n),n},null,null)),Ms(11,671744,null,0,$h,[Vh,Pp,xa],{routerLink:[0,"routerLink"]},null),(t()(),oo(-1,null,["Home"])),(t()(),Qi(13,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Qi(14,0,null,null,2,"a",[["routerLink","/research"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,r){var n=!0;return"click"===e&&(n=!1!==Es(t,15).onClick(r.button,r.ctrlKey,r.metaKey,r.shiftKey)&&n),n},null,null)),Ms(15,671744,null,0,$h,[Vh,Pp,xa],{routerLink:[0,"routerLink"]},null),(t()(),oo(-1,null,["Research"])),(t()(),Qi(17,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Qi(18,0,null,null,2,"a",[["routerLink","/publications"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,r){var n=!0;return"click"===e&&(n=!1!==Es(t,19).onClick(r.button,r.ctrlKey,r.metaKey,r.shiftKey)&&n),n},null,null)),Ms(19,671744,null,0,$h,[Vh,Pp,xa],{routerLink:[0,"routerLink"]},null),(t()(),oo(-1,null,["Publications"])),(t()(),Qi(21,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Qi(22,0,null,null,2,"a",[["routerLink","/people"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,r){var n=!0;return"click"===e&&(n=!1!==Es(t,23).onClick(r.button,r.ctrlKey,r.metaKey,r.shiftKey)&&n),n},null,null)),Ms(23,671744,null,0,$h,[Vh,Pp,xa],{routerLink:[0,"routerLink"]},null),(t()(),oo(-1,null,["People"])),(t()(),Qi(25,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Qi(26,0,null,null,2,"a",[["routerLink","/software-data"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,r){var n=!0;return"click"===e&&(n=!1!==Es(t,27).onClick(r.button,r.ctrlKey,r.metaKey,r.shiftKey)&&n),n},null,null)),Ms(27,671744,null,0,$h,[Vh,Pp,xa],{routerLink:[0,"routerLink"]},null),(t()(),oo(-1,null,["Software & Data"]))],function(t,e){t(e,11,0,"/home"),t(e,15,0,"/research"),t(e,19,0,"/publications"),t(e,23,0,"/people"),t(e,27,0,"/software-data")},function(t,e){t(e,10,0,Es(e,11).target,Es(e,11).href),t(e,14,0,Es(e,15).target,Es(e,15).href),t(e,18,0,Es(e,19).target,Es(e,19).href),t(e,22,0,Es(e,23).target,Es(e,23).href),t(e,26,0,Es(e,27).target,Es(e,27).href)})}var pm=function(){function t(){}return t.prototype.ngOnInit=function(){},t}(),hm=yi({encapsulation:0,styles:[[""]],data:{}});function fm(t){return uo(0,[(t()(),Qi(0,0,null,null,44,"footer",[["class","footer-area section-gap"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,43,"div",[["class","container"]],null,null,null,null,null)),(t()(),Qi(2,0,null,null,42,"div",[["class","row"]],null,null,null,null,null)),(t()(),Qi(3,0,null,null,12,"div",[["class","col-lg-5 col-md-6 col-sm-6"]],null,null,null,null,null)),(t()(),Qi(4,0,null,null,11,"div",[["class","single-footer-widget"]],null,null,null,null,null)),(t()(),Qi(5,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),oo(-1,null,["About Us"])),(t()(),Qi(7,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),oo(-1,null,[" Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore dolore magna aliqua. "])),(t()(),Qi(9,0,null,null,6,"p",[["class","footer-text"]],null,null,null,null,null)),(t()(),oo(-1,null,[" Copyright \xa9"])),(t()(),oo(-1,null,[" All rights reserved | This template is made with "])),(t()(),Qi(12,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-heart-o"]],null,null,null,null,null)),(t()(),oo(-1,null,[" by "])),(t()(),Qi(14,0,null,null,1,"a",[["href","https://colorlib.com"],["target","_blank"]],null,null,null,null,null)),(t()(),oo(-1,null,["Colorlib"])),(t()(),Qi(16,0,null,null,13,"div",[["class","col-lg-5  col-md-6 col-sm-6"]],null,null,null,null,null)),(t()(),Qi(17,0,null,null,12,"div",[["class","single-footer-widget"]],null,null,null,null,null)),(t()(),Qi(18,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),oo(-1,null,["Newsletter"])),(t()(),Qi(20,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),oo(-1,null,["Stay update with our latest"])),(t()(),Qi(22,0,null,null,7,"div",[["class",""],["id","mc_embed_signup"]],null,null,null,null,null)),(t()(),Qi(23,0,null,null,6,"form",[["action","https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&id=92a4423d01"],["class","form-inline"],["method","get"],["novalidate","true"],["target","_blank"]],null,null,null,null,null)),(t()(),Qi(24,0,null,null,0,"input",[["class","form-control"],["name","EMAIL"],["onblur","this.placeholder = 'Enter Email '"],["onfocus","this.placeholder = ''"],["placeholder","Enter Email"],["required",""],["type","email"]],null,null,null,null,null)),(t()(),Qi(25,0,null,null,1,"button",[["class","click-btn btn btn-default"]],null,null,null,null,null)),(t()(),Qi(26,0,null,null,0,"i",[["aria-hidden","true"],["class","fa fa-long-arrow-right"]],null,null,null,null,null)),(t()(),Qi(27,0,null,null,1,"div",[["style","position: absolute; left: -5000px;"]],null,null,null,null,null)),(t()(),Qi(28,0,null,null,0,"input",[["name","b_36c4fd991d266f23781ded980_aefe40901a"],["tabindex","-1"],["type","text"],["value",""]],null,null,null,null,null)),(t()(),Qi(29,0,null,null,0,"div",[["class","info"]],null,null,null,null,null)),(t()(),Qi(30,0,null,null,14,"div",[["class","col-lg-2 col-md-6 col-sm-6 social-widget"]],null,null,null,null,null)),(t()(),Qi(31,0,null,null,13,"div",[["class","single-footer-widget"]],null,null,null,null,null)),(t()(),Qi(32,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),oo(-1,null,["Follow Us"])),(t()(),Qi(34,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),oo(-1,null,["Let us be social"])),(t()(),Qi(36,0,null,null,8,"div",[["class","footer-social d-flex align-items-center"]],null,null,null,null,null)),(t()(),Qi(37,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Qi(38,0,null,null,0,"i",[["class","fa fa-facebook"]],null,null,null,null,null)),(t()(),Qi(39,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Qi(40,0,null,null,0,"i",[["class","fa fa-twitter"]],null,null,null,null,null)),(t()(),Qi(41,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Qi(42,0,null,null,0,"i",[["class","fa fa-dribbble"]],null,null,null,null,null)),(t()(),Qi(43,0,null,null,1,"a",[["href","#"]],null,null,null,null,null)),(t()(),Qi(44,0,null,null,0,"i",[["class","fa fa-behance"]],null,null,null,null,null))],null,null)}var dm=yi({encapsulation:0,styles:[[""]],data:{}});function mm(t){return uo(0,[(t()(),Qi(0,0,null,null,6,"div",[["class","protfolio-wrap"]],null,null,null,null,null)),(t()(),Qi(1,0,null,null,1,"app-header",[],null,null,null,cm,um)),Ms(2,114688,null,0,lm,[],null,null),(t()(),Qi(3,16777216,null,null,1,"router-outlet",[],null,[[null,"activate"]],function(t,e,r){var n=!0;return"activate"===e&&(n=!1!==t.component.onActivate(r)&&n),n},null,null)),Ms(4,212992,null,0,Xh,[Gh,Sn,Ie,[8,null],Cn],null,{activateEvents:"activate"}),(t()(),Qi(5,0,null,null,1,"app-footer",[],null,null,null,fm,hm)),Ms(6,114688,null,0,pm,[],null,null)],function(t,e){t(e,2,0),t(e,4,0),t(e,6,0)},null)}function gm(t){return uo(0,[(t()(),Qi(0,0,null,null,1,"app-root",[],null,null,null,mm,dm)),Ms(1,49152,null,0,va,[],null,null)],null,null)}var bm=hs("app-root",va,gm,{},{},[]),vm=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}(),ym=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),_m=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),xm=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),wm=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}(),Em=function(){function t(e){var r=this;this._headers=new Map,this._normalizedNames=new Map,e&&(e instanceof t?e.forEach(function(t,e){t.forEach(function(t){return r.append(e,t)})}):Object.keys(e).forEach(function(t){var n=Array.isArray(e[t])?e[t]:[e[t]];r.delete(t),n.forEach(function(e){return r.append(t,e)})}))}return t.fromResponseHeaderString=function(e){var r=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var n=t.slice(0,e),i=t.slice(e+1).trim();r.set(n,i)}}),r},t.prototype.append=function(t,e){var r=this.getAll(t);null===r?this.set(t,e):r.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(r,n){return t(r,e._normalizedNames.get(n),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(r,n){var i=[];r.forEach(function(t){return i.push.apply(i,t.split(","))}),e[t._normalizedNames.get(n)]=i}),e},t.prototype.getAll=function(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),Am=function(){function t(t){void 0===t&&(t={});var e=t.body,r=t.status,n=t.headers,i=t.statusText,s=t.type,o=t.url;this.body=null!=e?e:null,this.status=null!=r?r:null,this.headers=null!=n?n:null,this.statusText=null!=i?i:null,this.type=null!=s?s:null,this.url=null!=o?o:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),Sm=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:_m.Default,headers:new Em})||this}return i(e,t),e}(Am),Om=function(){function t(){}return t.prototype.configureRequest=function(t){},t}();function Cm(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return ym.Get;case"POST":return ym.Post;case"PUT":return ym.Put;case"DELETE":return ym.Delete;case"OPTIONS":return ym.Options;case"HEAD":return ym.Head;case"PATCH":return ym.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}var Tm=function(t){return t>=200&&t<300},km=function(){function t(){}return t.prototype.encodeKey=function(t){return Im(t)},t.prototype.encodeValue=function(t){return Im(t)},t}();function Im(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Nm=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new km),this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t){void 0===t&&(t="");var e=new Map;return t.length>0&&t.split("&").forEach(function(t){var r=t.indexOf("="),n=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)],i=n[0],s=n[1],o=e.get(i)||[];o.push(s),e.set(i,o)}),e}(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(null!=e){var r=this.paramsMap.get(t)||[];r.length=0,r.push(e),this.paramsMap.set(t,r)}else this.delete(t)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,r){var n=e.paramsMap.get(r)||[];n.length=0,n.push(t[0]),e.paramsMap.set(r,n)})},t.prototype.append=function(t,e){if(null!=e){var r=this.paramsMap.get(t)||[];r.push(e),this.paramsMap.set(t,r)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,r){for(var n=e.paramsMap.get(r)||[],i=0;i<t.length;++i)n.push(t[i]);e.paramsMap.set(r,n)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,r){var n=e.paramsMap.get(r)||[];n.length=0;for(var i=0;i<t.length;++i)n.push(t[i]);e.paramsMap.set(r,n)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(r,n){r.forEach(function(r){return e.push(t.queryEncoder.encodeKey(n)+"="+t.queryEncoder.encodeValue(r))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),Pm=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof Nm)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:function(t){for(var e=new Uint16Array(t.length),r=0,n=t.length;r<n;r++)e[r]=t.charCodeAt(r);return e.buffer}(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),Dm=function(t){function e(e){var r=t.call(this)||this;return r._body=e.body,r.status=e.status,r.ok=r.status>=200&&r.status<=299,r.statusText=e.statusText,r.headers=e.headers,r.type=e.type,r.url=e.url,r}return i(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(Pm),Rm=/^\)\]\}',?\n/,jm=function(){function t(t,e,r){var n=this;this.request=t,this.response=new D(function(i){var s=e.build();s.open(ym[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(s.withCredentials=t.withCredentials);var o=function(){var e=1223===s.status?204:s.status,n=null;204!==e&&"string"==typeof(n=void 0===s.response?s.responseText:s.response)&&(n=n.replace(Rm,"")),0===e&&(e=n?200:0);var o,a=Em.fromResponseHeaderString(s.getAllResponseHeaders()),l=("responseURL"in(o=s)?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):null)||t.url,u=new Am({body:n,status:e,headers:a,statusText:s.statusText||"OK",url:l});null!=r&&(u=r.merge(u));var c=new Dm(u);if(c.ok=Tm(e),c.ok)return i.next(c),void i.complete();i.error(c)},a=function(t){var e=new Am({body:t,type:_m.Error,status:s.status,statusText:s.statusText});null!=r&&(e=r.merge(e)),i.error(new Dm(e))};if(n.setDetectedContentType(t,s),null==t.headers&&(t.headers=new Em),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return s.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=s.responseType)switch(t.responseType){case wm.ArrayBuffer:s.responseType="arraybuffer";break;case wm.Json:s.responseType="json";break;case wm.Text:s.responseType="text";break;case wm.Blob:s.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return s.addEventListener("load",o),s.addEventListener("error",a),s.send(n.request.getBody()),function(){s.removeEventListener("load",o),s.removeEventListener("error",a),s.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case xm.NONE:break;case xm.JSON:e.setRequestHeader("content-type","application/json");break;case xm.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case xm.TEXT:e.setRequestHeader("content-type","text/plain");break;case xm.BLOB:var r=t.blob();r.type&&e.setRequestHeader("content-type",r.type)}},t}(),Mm=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=gu().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),Lm=function(){function t(t,e,r){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=r}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new jm(t,this._browserXHR,this._baseResponseOptions)},t}(),Fm=function(){function t(t){void 0===t&&(t={});var e=t.method,r=t.headers,n=t.body,i=t.url,s=t.search,o=t.params,a=t.withCredentials,l=t.responseType;this.method=null!=e?Cm(e):null,this.headers=null!=r?r:null,this.body=null!=n?n:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(o||s),this.withCredentials=null!=a?a:null,this.responseType=null!=l?l:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new Em(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof Nm?t.clone():"string"==typeof t?new Nm(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var r=new Nm;return Object.keys(t).forEach(function(n){var i=t[n];Array.isArray(i)?i.forEach(function(t){return e._appendParam(n,t,r)}):e._appendParam(n,i,r)}),r},t.prototype._appendParam=function(t,e,r){"string"!=typeof e&&(e=JSON.stringify(e)),r.append(t,e)},t}(),Um=function(t){function e(){return t.call(this,{method:ym.Get,headers:new Em})||this}return i(e,t),e}(Fm),Bm=function(t){function e(e){var r=t.call(this)||this,n=e.url;r.url=e.url;var i,s=e.params||e.search;if(s&&(i="object"!=typeof s||s instanceof Nm?s.toString():function(t){var e=new Nm;return Object.keys(t).forEach(function(r){var n=t[r];n&&Array.isArray(n)?n.forEach(function(t){return e.append(r,t.toString())}):e.append(r,n.toString())}),e}(s).toString()).length>0){var o="?";-1!=r.url.indexOf("?")&&(o="&"==r.url[r.url.length-1]?"":"&"),r.url=n+o+i}return r._body=e.body,r.method=Cm(e.method),r.headers=new Em(e.headers),r.contentType=r.detectContentType(),r.withCredentials=e.withCredentials,r.responseType=e.responseType,r}return i(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return xm.JSON;case"application/x-www-form-urlencoded":return xm.FORM;case"multipart/form-data":return xm.FORM_DATA;case"text/plain":case"text/html":return xm.TEXT;case"application/octet-stream":return this._body instanceof Hm?xm.ARRAY_BUFFER:xm.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?xm.NONE:this._body instanceof Nm?xm.FORM:this._body instanceof $m?xm.FORM_DATA:this._body instanceof qm?xm.BLOB:this._body instanceof Hm?xm.ARRAY_BUFFER:this._body&&"object"==typeof this._body?xm.JSON:xm.TEXT},e.prototype.getBody=function(){switch(this.contentType){case xm.JSON:case xm.FORM:return this.text();case xm.FORM_DATA:return this._body;case xm.TEXT:return this.text();case xm.BLOB:return this.blob();case xm.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(Pm),zm=function(){},Vm="object"==typeof window?window:zm,$m=Vm.FormData||zm,qm=Vm.Blob||zm,Hm=Vm.ArrayBuffer||zm;function Gm(t,e){return t.createConnection(e).response}function Xm(t,e,r,n){return t.merge(new Fm(e?{method:e.method||r,url:e.url||n,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:r,url:n}))}var Qm=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var r;if("string"==typeof t)r=Gm(this._backend,new Bm(Xm(this._defaultOptions,e,ym.Get,t)));else{if(!(t instanceof Bm))throw new Error("First argument must be a url string or Request instance.");r=Gm(this._backend,t)}return r},t.prototype.get=function(t,e){return this.request(new Bm(Xm(this._defaultOptions,e,ym.Get,t)))},t.prototype.post=function(t,e,r){return this.request(new Bm(Xm(this._defaultOptions.merge(new Fm({body:e})),r,ym.Post,t)))},t.prototype.put=function(t,e,r){return this.request(new Bm(Xm(this._defaultOptions.merge(new Fm({body:e})),r,ym.Put,t)))},t.prototype.delete=function(t,e){return this.request(new Bm(Xm(this._defaultOptions,e,ym.Delete,t)))},t.prototype.patch=function(t,e,r){return this.request(new Bm(Xm(this._defaultOptions.merge(new Fm({body:e})),r,ym.Patch,t)))},t.prototype.head=function(t,e){return this.request(new Bm(Xm(this._defaultOptions,e,ym.Head,t)))},t.prototype.options=function(t,e){return this.request(new Bm(Xm(this._defaultOptions,e,ym.Options,t)))},t}();function Wm(){return new Mm}function Km(t,e){return new Qm(t,e)}var Zm=function(){return function(){}}(),Jm=function(){return function(){}}(),Ym=ma(ba,[va],function(t){return function(t){for(var e={},r=[],n=!1,i=0;i<t.length;i++){var s=t[i];s.token===Ae&&!0===s.value&&(n=!0),1073741824&s.flags&&r.push(s.token),s.index=i,e[mi(s.token)]=s}return{factory:null,providersByKey:e,providers:t,modules:r,isRoot:n}}([ns(512,Ie,Ne,[[8,[yf,id,md,_d,kd,jd,am,bm]],[3,Ie],De]),ns(5120,Zn,ti,[[3,Zn]]),ns(4608,al,ll,[Zn,[2,ol]]),ns(5120,Dr,Rr,[]),ns(5120,Hn,Jn,[]),ns(5120,Gn,Yn,[]),ns(4608,fc,dc,[vl]),ns(6144,$e,null,[fc]),ns(4608,oc,lc,[]),ns(5120,Du,function(t,e,r,n,i,s,o,a){return[new ic(t,e,r),new hc(n),new uc(i,s,o,a)]},[vl,tn,Lr,vl,vl,oc,Ur,[2,ac]]),ns(4608,Ru,Ru,[Du,tn]),ns(135680,Lu,Lu,[vl]),ns(4608,qu,qu,[Ru,Lu]),ns(6144,Fe,null,[qu]),ns(6144,Mu,null,[Lu]),ns(4608,un,un,[tn]),ns(5120,Pp,pf,[Vh]),ns(4608,Zh,Zh,[]),ns(6144,Wh,null,[Zh]),ns(135680,Jh,Jh,[Vh,yr,Xr,ce,Wh]),ns(4608,Kh,Kh,[]),ns(5120,Yh,of,[Vh,_l,tf]),ns(5120,mf,df,[hf]),ns(5120,Fr,function(t){return[t]},[mf]),ns(4608,Gf,Xf,[vl,Lr,qf]),ns(4608,Qf,Qf,[Gf,Hf]),ns(5120,Ff,function(t){return[t]},[Qf]),ns(4608,Vf,Vf,[]),ns(6144,zf,null,[Vf]),ns(4608,$f,$f,[zf]),ns(6144,xf,null,[$f]),ns(4608,_f,Wf,[xf,ce]),ns(4608,Mf,Mf,[_f]),ns(4608,vm,vm,[]),ns(4608,Am,Sm,[]),ns(5120,Om,Wm,[]),ns(4608,Lm,Lm,[vm,Am,Om]),ns(4608,Fm,Um,[]),ns(5120,Qm,Km,[Lm,Fm]),ns(1073742336,bl,bl,[]),ns(1024,Tr,wc,[]),ns(1024,fn,function(){return[nf()]},[]),ns(512,hf,hf,[ce]),ns(1024,Nr,function(t,e){return[(r=t,Iu("probe",Pu),Iu("coreTokens",s({},Nu,(r||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Pu}),ff(e)];var r},[[2,fn],hf]),ns(512,Pr,Pr,[[2,Nr]]),ns(131584,vn,vn,[tn,Ur,ce,Tr,Ie,Pr]),ns(1073742336,ei,ei,[vn]),ns(1073742336,Ec,Ec,[[3,Ec]]),ns(1024,ef,lf,[[3,Vh]]),ns(512,cp,pp,[]),ns(512,Gh,Gh,[]),ns(256,tf,{useHash:!0},[]),ns(1024,xa,af,[ya,[2,wa],tf]),ns(512,Ea,Ea,[xa]),ns(512,Xr,Xr,[]),ns(512,yr,En,[Xr,[2,xn]]),ns(1024,jh,function(){return[[{path:"home",component:Yf},{path:"people",component:ad},{path:"research",component:gd},{path:"software-data",component:wd},{path:"software-data/:id",component:Id},{path:"publications",component:qd},{path:"",redirectTo:"/home",pathMatch:"full"}]]},[]),ns(1024,Vh,cf,[vn,cp,Gh,Ea,ce,yr,Xr,jh,tf,[2,Lh],[2,Dh]]),ns(1073742336,sf,sf,[[2,ef],[2,Vh]]),ns(1073742336,Jm,Jm,[]),ns(1073742336,Kf,Kf,[]),ns(1073742336,Zf,Zf,[]),ns(1073742336,Zm,Zm,[]),ns(1073742336,ba,ba,[]),ns(256,Ae,!0,[]),ns(256,qf,"XSRF-TOKEN",[]),ns(256,Hf,"X-XSRF-TOKEN",[])])});(function(){if(Ge)throw new Error("Cannot enable prod mode after platform setup.");He=!1})(),xc().bootstrapModuleFactory(Ym).catch(function(t){return console.error(t)})}},[[0,0]]]);